(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["technician-pages-order-detail"],{"056d":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"record-box fill-base"},e._l(e.list,(function(t,a){return i("v-uni-view",{key:a,staticClass:"record-item rel b-1px-l",style:{padding:a==e.list.length-1?"0 0 0 30rpx":""}},[i("v-uni-view",{staticClass:"item-tag flex-center fill-base abs"},[i("v-uni-view",{staticClass:"tag-dot fill-base radius",style:{borderColor:e.info[t.time]?e.primaryColor:"",background:e.info[t.time]?e.primaryColor:""}})],1),i("v-uni-view",{staticClass:"flex-between flex-1 item-text f-paragraph c-title"},[i("v-uni-view",{staticClass:"text-bold"},[e._v(e._s(t.title))]),i("v-uni-view",{staticClass:"f-icontext",staticStyle:{color:"#979797"}},[e._v(e._s(e.info[t.time]?e.info[t.time]:"签字确认"!=t.title||e.info.sign_img?"状态未开始":"暂未签字确认"))])],1),t.addr&&e.info[t.addr]?i("v-uni-view",{staticClass:"flex-center mt-md f-caption c-title",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.toMap(t.addr)}}},[i("v-uni-view",{staticClass:"flex-1 mr-md"},[e._v(e._s(e.type&&3===t.pay_type?e.info[t.addr].split(" ")[0]:e.info[t.addr])),!e.type&&e.info.map_type.includes(t.pay_type)?i("span",{staticClass:"c-warning ml-sm"},[e._v("手动修改")]):e._e()]),i("v-uni-view",{staticClass:"flex-center radius-16",staticStyle:{width:"44rpx",height:"44rpx"},style:{color:e.primaryColor,background:e.rgbaColor}},[i("i",{staticClass:"iconfont icondizhi31"})])],1):e._e(),t.img&&e.info[t.img]&&(!e.type||e.type&&"签字确认"!=t.title&&!e.configInfo.hide_coach_image||"签字确认"==t.title)?[i("v-uni-view",{staticClass:"item-img mt-md radius-5",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.toPreviewImage(t.img)}}},[i("v-uni-view",{staticClass:"h5-image item-img mt-md radius-5",style:{backgroundImage:"url('"+e.info[t.img]+"')"}})],1)]:e._e()],2)})),1)],1)},n=[]},"21c7":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var a=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"recorder"})},n=[]},"2c54":function(e,t,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("2634")),r=a(i("2fdc")),s=a(i("9b1b"));i("5ef2"),i("bf0f"),i("2797"),i("18f7"),i("de6c"),i("aa9c");var o=i("8f59"),l=null,c={data:function(){return{stream:null,recorder:null,chunks:[],startTime:0,duration_time:60,duration:0,is_save:!1}},mounted:function(){if(-1===origin.indexOf("https"))throw this.$emit("error","100"),"请在 https 环境中使用本插件。";if(!navigator.mediaDevices||!window.MediaRecorder)throw this.$emit("error","101"),"当前浏览器不支持";this.getRecorderManager()},computed:(0,o.mapState)({isUserMedia:function(e){return e.order.isUserMedia},recorder_status:function(e){return e.order.recorder_status}}),watch:{duration:function(e,t){var i=this.recorder_status,a=this.duration_time,n=!(a-e>1);console.log(e,i,n,"========newVal, recorder_status, isReset"),i&&n&&this.save()}},methods:(0,s.default)((0,s.default)({},(0,o.mapMutations)(["updateOrderItem"])),{},{getRecorderManager:function(){var e=this;navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){e.updateOrderItem({key:"isUserMedia",val:!0}),t.getTracks().forEach((function(e){e.stop()}))})).catch((function(t){e.onErrorHandler(t)}))},start:function(){var e=this;return(0,r.default)((0,n.default)().mark((function t(){return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isUserMedia){t.next=2;break}return t.abrupt("return",console.log("设备不支持"));case 2:navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){e.stream=t,e.recorder=new MediaRecorder(t),e.recorder.ondataavailable=e.getRecordingData,e.recorder.onstop=e.saveRecordingData,e.recorder.start(),e.recordingTimer()})).catch((function(t){e.onErrorHandler(t)}));case 3:case"end":return t.stop()}}),t)})))()},stop:function(){var e=this;return(0,r.default)((0,n.default)().mark((function t(){return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.recorder.stop(),e.stream.getTracks().forEach((function(e){e.stop()}));case 2:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return(0,r.default)((0,n.default)().mark((function t(){return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.is_save=!0,t.next=3,Promise.all([e.stop(),e.recordingTimer(!1)]);case 3:setTimeout((function(){e.chunks=[],e.start()}),500);case 4:case"end":return t.stop()}}),t)})))()},clear:function(){this.chunks=[],l&&clearInterval(l)},recordingTimer:function(){var e=arguments,t=this;return(0,r.default)((0,n.default)().mark((function i(){var a;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=!(e.length>0&&void 0!==e[0])||e[0],a?l=setInterval((function(){var e=t.duration;e++,t.duration=e}),1e3):(t.duration=0,clearInterval(l),l=null,console.log("暂停计时 recordingTimer",l));case 2:case"end":return i.stop()}}),i)})))()},getRecordingData:function(e){this.chunks.push(e.data)},saveRecordingData:function(){var e=new Blob(this.chunks,{type:"audio/mpeg"});this.$emit("success",{data:e}),this.is_save&&(this.$emit("save"),this.is_save=!1)},onErrorHandler:function(e){if(console.log(e,"========onErrorHandler"),"NotAllowedError"===e.name)throw this.$emit("error","201"),"用户拒绝了当前的浏览器实例的访问请求";if("NotReadableError"===e.name)throw this.$emit("error","101"),"当前浏览器不支持";throw this.$emit("error","500"),"调用失败，原因不详"}}),destroyed:function(){this.stop(),l&&clearInterval(l)}};t.default=c},"2dce":function(e,t,i){"use strict";i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i("8f59");t.default={components:{},props:{},mounted:function(){},data:function(){return{}},methods:{open:function(){this.$refs.show_fail_item.open()},close:function(){this.$refs.show_fail_item.close()}}}},"2f38":function(e,t,i){"use strict";i.r(t);var a=i("bc2d"),n=i("8576");for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);var s=i("828b"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"3e5a8a96",null,!1,a["a"],void 0);t["default"]=o.exports},"3be4":function(e,t,i){"use strict";var a=i("6a70"),n=i.n(a);n.a},"4eac":function(e,t,i){"use strict";i.r(t);var a=i("21c7"),n=i("5811");for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);var s=i("828b"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"adb67b04",null,!1,a["a"],void 0);t["default"]=o.exports},5811:function(e,t,i){"use strict";i.r(t);var a=i("2c54"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=n.a},"6a70":function(e,t,i){var a=i("b40a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("967d").default;n("cf322c12",a,!0,{sourceMap:!1,shadowMode:!1})},"7d8e":function(e,t,i){"use strict";i.r(t);var a=i("ab2c"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=n.a},"80cf":function(e,t,i){"use strict";i.r(t);var a=i("056d"),n=i("8ce7");for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);i("f86a");var s=i("828b"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"1a777a34",null,!1,a["a"],void 0);t["default"]=o.exports},8576:function(e,t,i){"use strict";i.r(t);var a=i("2dce"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=n.a},"8ce7":function(e,t,i){"use strict";i.r(t);var a=i("d622"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=n.a},a2fa:function(e,t,i){var a=i("e9b7");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("967d").default;n("4178f25e",a,!0,{sourceMap:!1,shadowMode:!1})},ab2c:function(e,t,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("bd06"),i("aa9c"),i("8f71"),i("bf0f"),i("e966"),i("18f7"),i("de6c"),i("dc89"),i("2425"),i("4626"),i("5c47"),i("a1c1"),i("c223");var n=a(i("5de6")),r=a(i("2634")),s=a(i("2fdc")),o=a(i("9b1b")),l=i("8f59"),c=a(i("2f38")),d=a(i("80cf")),u=a(i("4eac")),f={components:{longbingbingLocationFail:c.default,timeline:d.default,MediaRecorder:u.default},data:function(){return{options:{},statusPayType:[2,3,4,5,6],statusType:{"-1":"已取消",2:"待接单",3:"已接单",4:"已出发",5:"已到达",6:"服务中",7:"已完成",8:"待转单"},carType:{0:"公交/地铁",1:"出租车"},payType:{1:"微信支付",2:"余额支付",3:"支付宝支付",4:"折扣卡支付"},lineList:[],base_service:[{pay_type:3,title:this.$t("action.attendantName")+"接单",time:"receiving_time",icon:"iconjishijiedan"},{pay_type:4,title:this.$t("action.attendantName")+"出发",time:"serout_time",addr:"serout_address",icon:"iconjishichufa"},{pay_type:5,title:this.$t("action.attendantName")+"到达",time:"arrive_time",img:"arrive_img",addr:"arr_address",icon:"iconjishidaoda"},{pay_type:6,title:"开始服务",time:"start_service_time",icon:"iconjishifuwu"},{pay_type:7,title:"服务完成",time:"order_end_time",img:"end_img",addr:"end_address",icon:"iconjishiwancheng"},{pay_type:7,title:"签字确认",time:"sign_time",img:"sign_img",icon:""}],base_bell:[{pay_type:3,title:this.$t("action.attendantName")+"接单",time:"receiving_time",icon:"iconjishijiedan"},{pay_type:6,title:"开始服务",time:"start_service_time",icon:"iconjishifuwu"},{pay_type:7,title:"服务完成",time:"order_end_time",img:"end_img",addr:"end_address",icon:"iconjishiwancheng"}],detail:{pay_type:0},oper_add_id:0,check_label:[],coach_refund_text:"",lockTap:!1,popupInfo:{title:"",type:"",param:{},imgs:[],isLoca:!1,location:{lat:0,lng:0,address:""}},pageLen:1}},computed:(0,l.mapState)({configInfo:function(e){return e.config.configInfo},isUserMedia:function(e){return e.order.isUserMedia},recorder:function(e){return e.order.recorder},recorder_status:function(e){return e.order.recorder_status},recorder_order_id:function(e){return e.order.recorder_order_id},order_unix_list:function(e){return e.order.order_unix_list},over_time_text:function(){return(new Date).getTime()+1e3*this.detail.over_time}}),onLoad:function(e){var t=e.id,i=void 0===t?0:t;e.id=1*i,this.options=e,this.initIndex()},methods:(0,o.default)((0,o.default)((0,o.default)({},(0,l.mapActions)(["getConfigInfo","toPlayAudio"])),(0,l.mapMutations)(["updateUserItem","updateOrderItem"])),{},{initIndex:function(){var e=arguments,t=this;return(0,s.default)((0,r.default)().mark((function i(){var a,n,s,o,l,c,d,u,f,v,p,_,m,h,g,w,b,y,x,C,k,$,I,E,T,O,P;return(0,r.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e.length>0&&void 0!==e[0]&&e[0],t.configInfo.id&&!a&&t.userInfo.id){i.next=4;break}return i.next=4,t.getConfigInfo();case 4:return n=t.options.id,i.next=7,t.$api.technician.orderInfo({id:n});case 7:s=i.sent,t.$util.setNavigationBarColor({bg:t.primaryColor}),s.is_balance=1*s.balance>0?1:0,s.start_service_time_unix="",o=s.pay_type,l=s.total_time_long,c=s.receiving_time,d=void 0===c?"":c,u=s.start_service_time,f=void 0===u?"":u,v=s.is_add,p=void 0===v?0:v,_=s.store_id,m=void 0===_?0:_,h=s.add_flow_path,void 0===h?1:h,p&&(!d&&o>3&&(s.receiving_time=f),!f&&o>5&&(s.start_service_time=d)),o>5&&!p&&(g=t.order_unix_list,6==o?(w=t.$util.DateToUnix(f)+60*l,s.start_service_time_unix=w,b={id:n,time_long:l,start_service_time:f,start_service_time_unix:w},y=g.findIndex((function(e){return e.id===n})),-1!=y?g[y]=b:g.push(b),t.updateOrderItem({key:"order_unix_list",val:g})):(x=g.filter((function(e){return e.id!=n})),x.length!==g.length&&t.updateOrderItem({key:"order_unix_list",val:x}))),C=t.$util.deepCopy(p||m?t.base_bell:t.base_service),k=C.findIndex((function(e){return"签字确认"==e.title})),m&&-1==k&&C.push({pay_type:7,title:"签字确认",time:"sign_time",icon:""}),t.lineList=C,t.detail=s,$=getCurrentPages().length,t.pageLen=$,a||(I=t.userCoachStatus,E=I.status,T=void 0===E?0:E,O=I.coach_position,P=void 0===O?0:O,P&&2==T?(t.$util.getCoachUtilLoca(),t.$jweixin.hideOptionMenu()):t.$jweixin.initJssdk((function(){t.$jweixin.hideOptionMenu()})));case 22:case"end":return i.stop()}}),i)})))()},initRefresh:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initIndex(!0);case 2:case"end":return t.stop()}}),t)})))()},countEnd:function(){var e=this;this.$util.log("倒计时完了"),setTimeout((function(){e.toCountDownEnd()}),1e3)},handlerOnChanger:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){var i;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=e.recorder_status,e.duration_time,i?e.$refs.recorder.stop():e.$refs.recorder.start(),e.updateOrderItem({key:"recorder_status",val:!i});case 3:case"end":return t.stop()}}),t)})))()},handlerOnEnd:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.recorder.stop(),setTimeout((function(){e.handlerOnSave()}),1e3),e.updateOrderItem({key:"recorder_status",val:!1});case 3:case"end":return t.stop()}}),t)})))()},handlerOnSave:function(){var e=arguments,t=this;return(0,s.default)((0,r.default)().mark((function i(){var a,n,s,o,l,c,d,u;return(0,r.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:{},t.$util.showLoading({title:"录音上传中"}),"",n=parseInt((new Date).getTime()/1e3),s="服务过程录音-".concat(n,".mp3"),o=t.recorder.data,l=new File([o],s,{type:"audio/mp3"}),a=URL.createObjectURL(l),i.next=10,t.$api.base.uploadFile({filePath:a,formData:{type:"audio",name:s}});case 10:return c=i.sent,d=c.attachment_path,u=t.recorder_order_id,i.next=15,t.$api.technician.recordingAdd({order_id:u,link:d});case 15:t.$util.hideAll();case 16:case"end":return i.stop()}}),i)})))()},handlerSuccess:function(e){this.updateOrderItem({key:"recorder",val:e})},handlerError:function(e){switch(e){case"101":uni.showModal({content:"当前浏览器版本较低，请更换浏览器使用，推荐在微信中打开。"});break;case"201":uni.showModal({content:"麦克风权限被拒绝，请刷新页面后授权麦克风权限。"});break;default:uni.showModal({content:"未知错误，请刷新页面重试"});break}},toCountDownEnd:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){var i,a,n,s,o,l,c,d,u;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initRefresh();case 2:if(e.$util.back(),i=e.recorder_status,a=e.recorder_order_id,n=e.pageLen,s=e.detail,o=s.id,l=s.total_time_long,c=s.start_service_time,d=void 0===c?"":c,u=Math.ceil((1e3*(e.$util.DateToUnix(d)+60*l)-(new Date).getTime())/1e3),!(a==o&&i&&u<1)){t.next=17;break}if(1!=n){t.next=13;break}return t.next=10,e.handlerOnEnd();case 10:e.$refs.recorder.clear(),t.next=17;break;case 13:return t.next=15,e.$util.getPage(-1).handlerOnEnd();case 15:return t.next=17,e.$util.getPage(-1).$refs.recorder.clear();case 17:case"end":return t.stop()}}),t)})))()},toLabel:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){var i;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=e.detail.user_id,e.$util.goUrl({url:"/technician/pages/order/user-label?id=".concat(i)});case 2:case"end":return t.stop()}}),t)})))()},toChangeAddOrderItem:function(e){var t=this;return(0,s.default)((0,r.default)().mark((function i(){var a,n,s,o,l,c,d;return(0,r.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=t.detail,n=a.add_order_id,s=a.add_flow_path,o=void 0===s?1:s,l=n[e],c=l.id,d=l.pay_type,!(2==o&&d>2||1==o&&d>6)){i.next=5;break}return t.$util.goUrl({url:"/technician/pages/order/detail?id=".concat(c)}),i.abrupt("return");case 5:(2==d||1==o&&[3,6].includes(d))&&t.toConfirm(2==d?1==o?3:6:3==d?6:7,c);case 6:case"end":return i.stop()}}),i)})))()},toRefuse:function(){var e=arguments,t=this;return(0,s.default)((0,r.default)().mark((function i(){var a;return(0,r.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=e.length>0&&void 0!==e[0]?e[0]:0,t.oper_add_id=a,t.coach_refund_text="",t.$refs.refuse_item.open();case 4:case"end":return i.stop()}}),i)})))()},confirmRefuse:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){var i,a,n;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.oper_add_id,a=e.coach_refund_text,n=void 0===a?"":a,n=n.length>0?n.replace(/(^\s*)|(\s*$)/g,""):"",0!=n.length){t.next=5;break}return e.$util.showToast({title:"请输入拒单原因"}),t.abrupt("return");case 5:e.coach_refund_text=e.coach_refund_text.substring(0,200),e.toConfirm(-1,i);case 7:case"end":return t.stop()}}),t)})))()},toGetLocation:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){var i,a,n,s,o,l;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.popupInfo.isLoca=!1,e.popupInfo.location={isIp:!1,lat:0,lng:0,address:""},e.$util.showLoading({title:"定位中"}),t.prev=3,t.next=6,e.$util.getCoachUtilLoca(!1);case 6:i=t.sent,a=i.lat,n=i.lng,e.initUtilLocaData(a,n,!1),t.next=21;break;case 12:return t.prev=12,t.t0=t["catch"](3),console.log(t.t0,"=====catch e"),t.next=17,e.$util.getLocation();case 17:s=t.sent,o=s.lat,l=s.lng,e.initUtilLocaData(o,l,!1);case 21:case"end":return t.stop()}}),t,null,[[3,12]])})))()},initUtilLocaData:function(e,t,i){var a=this;return(0,s.default)((0,r.default)().mark((function n(){var s,o,l,c;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e||t){n.next=4;break}return a.popupInfo.isLoca=!0,a.$util.hideAll(),n.abrupt("return");case 4:return n.next=6,a.$util.getMapAddr({lat:e,lng:t});case 6:s=n.sent,o=s.address,l={lat:e,lng:t,address:o},i||a.$util.updateCoachAddr(l),c=Object.assign({},a.popupInfo,{isLoca:!0,location:l}),a.$nextTick((function(){a.popupInfo=c})),a.$util.hideAll();case 13:case"end":return n.stop()}}),n)})))()},imgUpload:function(e){var t=e.imagelist,i=e.imgtype;this.popupInfo[i]=t},toChooseLocation:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.toConfirmChooseLoca();case 1:case"end":return t.stop()}}),t)})))()},toConfirmChooseLoca:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){var i,a,n,s,o;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$util.chooseLocation();case 2:if(i=t.sent,a=i.lat,n=i.lng,s=i.address,o=i.name,a||n){t.next=9;break}return t.abrupt("return");case 9:if(!o||s){t.next=12;break}return e.$util.showToast({title:"请选择具体的地址"}),t.abrupt("return");case 12:e.popupInfo.location={map_type:1,isIp:!1,lat:a,lng:n,address:"".concat(s," ").concat(o)};case 13:case"end":return t.stop()}}),t)})))()},confirmOper:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){var i,a,n,s,o,l,c,d,u,f;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.$util.deepCopy(e.popupInfo),a=i.type,n=i.param,s=i.imgs,o=i.location,l=o.lat,c=void 0===l?0:l,d=o.lng,u=void 0===d?0:d,![5,7].includes(a)||0!==s.length){t.next=6;break}return e.$util.showToast({title:"请先拍照"}),t.abrupt("return");case 6:if(c||u){t.next=9;break}return e.toGetLocation(),t.abrupt("return");case 9:[5,7].includes(a)&&(f=s[0].path,o.path=f),e.toConfirmUpdate(a,n,o);case 11:case"end":return t.stop()}}),t)})))()},toConfirm:function(e){var t=arguments,i=this;return(0,s.default)((0,r.default)().mark((function a(){var n,s,o,l,c;return(0,r.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.length>1&&void 0!==t[1]?t[1]:0,!i.lockTap){a.next=3;break}return a.abrupt("return");case 3:s=i.detail.id,n&&(s=n),o={order_id:s,oper_add:n,type:e},-1==e&&(o.coach_refund_text=i.coach_refund_text),[4,5,7].includes(e)?(l={4:"确认出发",5:"拍照打卡",7:"结束打卡"},c=l[e],i.popupInfo=Object.assign({},i.popupInfo,{title:c,type:e,param:o,imgs:[],isLoca:!1,location:{lat:0,lng:0,address:""}}),i.$refs.oper_item.open(),i.toGetLocation()):i.toConfirmUpdate(e,o);case 8:case"end":return a.stop()}}),a)})))()},toConfirmUpdate:function(e,t){var i=arguments,a=this;return(0,s.default)((0,r.default)().mark((function s(){var o,l,c,d,u,f,v,p,_,m,h,g,w,b,y,x,C,k,$,I,E,T,O,P,L,M,U,S;return(0,r.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=i.length>2&&void 0!==i[2]?i[2]:{},[4,5,7].includes(e)&&(l=o.lat,c=o.lng,d=o.address,u=o.path,f=o.map_type,v=void 0===f?0:f,t.map_type=v,4===e&&(t.serout_lat=l,t.serout_lng=c,t.serout_address=d),5==e&&(t.arrive_img=u,t.arr_lat=l,t.arr_lng=c,t.arr_address=d),7==e&&(t.end_img=u,t.end_lat=l,t.end_lng=c,t.end_address=d)),p={"-1":"已拒绝接单",3:"接单成功",4:"已成功出发",5:"已成功到达",6:"已开始服务",7:"服务已完成"},!a.lockTap){r.next=5;break}return r.abrupt("return");case 5:return a.lockTap=!0,_=a.configInfo,m=_.plugAuth,h=_.service_recording_show,g=m.recording,w=a.isUserMedia,b=a.recorder_order_id,y=a.recorder_status,x=a.pageLen,C=!0,k=t.order_id,$=t.oper_add,I=void 0===$?0:$,delete t.oper_add,E=a.detail.is_add,T={},r.prev=14,r.next=17,a.$api.technician.orderInfo({id:k});case 17:T=r.sent,r.next=29;break;case 20:return r.prev=20,r.t0=r["catch"](14),-1==e&&a.$refs.refuse_item.close(),[4,5,7].includes(e)&&a.$refs.oper_item.close(),a.$util.back(),a.lockTap=!1,a.$util.hideAll(),setTimeout((function(){a.$util.goUrl({url:1,openType:"navigateBack"})}),2e3),r.abrupt("return");case 29:if(O=T,P=O.pay_type,7!=P||b!=a.detail.order_id||!y){r.next=42;break}if(1!=x){r.next=37;break}return r.next=34,a.handlerOnEnd();case 34:a.$refs.recorder.clear(),r.next=41;break;case 37:return r.next=39,a.$util.getPage(-1).handlerOnEnd();case 39:return r.next=41,a.$util.getPage(-1).$refs.recorder.clear();case 41:a.updateOrderItem({key:"haveOperItem",val:!0});case 42:if(E=E||I,!(!E&&P<e&&6===e&&b!=k&&y)){r.next=64;break}return r.next=46,uni.showModal({title:"提示",content:"已有开始的服务还未结束录音，请确认是否完成录音并开始新的服务？"});case 46:if(L=r.sent,M=(0,n.default)(L,2),M[0],U=M[1].confirm,!U){r.next=63;break}if(1!=x){r.next=57;break}return r.next=54,a.handlerOnEnd();case 54:a.$refs.recorder.clear(),r.next=61;break;case 57:return r.next=59,a.$util.getPage(-1).handlerOnEnd();case 59:return r.next=61,a.$util.getPage(-1).$refs.recorder.clear();case 61:r.next=64;break;case 63:C=!1;case 64:if(a.$util.showLoading(),C){r.next=69;break}return a.lockTap=!1,a.$util.hideAll(),r.abrupt("return");case 69:return r.prev=69,-1==e&&a.$refs.refuse_item.close(),[4,5,7].includes(e)&&a.$refs.oper_item.close(),4!=e&&5!=e||a.updateOrderItem({key:4==e?"coach_travel_order_id":"coach_travel_arrive_id",val:k}),r.next=75,a.$api.technician.updateOrder(t);case 75:if(6!=e){r.next=93;break}if(E){r.next=91;break}if(a.toPlayAudio({key:"service_start_recording"}),!(w&&g&&h)){r.next=91;break}return S=1==x?"若录音中退出页面将不会记录录音的音频！":"",a.$util.hideAll(),r.next=83,uni.showModal({title:"提示",content:"服务过程将自动录音，直至服务结束！".concat(S),showCancel:!1,confirmText:"知道了"});case 83:if(a.updateOrderItem({key:"recorder_order_id",val:k}),1!=x){r.next=89;break}return r.next=87,a.handlerOnChanger();case 87:r.next=91;break;case 89:return r.next=91,a.$util.getPage(-1).handlerOnChanger();case 91:a.detail.is_add&&x>1&&a.$util.getPage(-1).detail&&(a.$util.getPage(-1).detail={}),a.detail.is_add||(a.detail={});case 93:if(7!=e){r.next=105;break}if(E||b!=k||!y){r.next=105;break}if(1!=x){r.next=101;break}return r.next=98,a.handlerOnEnd();case 98:a.$refs.recorder.clear(),r.next=105;break;case 101:return r.next=103,a.$util.getPage(-1).handlerOnEnd();case 103:return r.next=105,a.$util.getPage(-1).$refs.recorder.clear();case 105:return a.$util.hideAll(),a.$util.showToast({title:p[e]}),r.next=109,a.initRefresh();case 109:a.updateOrderItem({key:"haveOperItem",val:!0}),setTimeout((function(){a.$util.back(),a.lockTap=!1}),500),r.next=117;break;case 113:r.prev=113,r.t1=r["catch"](69),a.updateOrderItem({key:"haveOperItem",val:!0}),setTimeout((function(){a.initRefresh(),a.$util.back(),a.lockTap=!1,a.$util.hideAll()}),2e3);case 117:case"end":return r.stop()}}),s,null,[[14,20],[69,113]])})))()},toChangeItem:function(e){var t=this;return(0,s.default)((0,r.default)().mark((function i(){var a,n,s,o,l;return(0,r.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!t.lockTap){i.next=2;break}return i.abrupt("return");case 2:a=t.detail,n=a.id,s=a.order_code,o=a.order_goods,l=o[0].goods_cover,t.popupInfo={id:n,name:"单号：".concat(s),image:l,refs_key:e},t.$refs[e].open();case 6:case"end":return i.stop()}}),i)})))()},confirmOperItem:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){var i,a,n,s,o,l;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.popupInfo,a=i.id,i.index,n=i.refs_key,s={del_item:["delOrder","删除成功",-1]},o=s[n][0],l=s[n][1],!e.lockTap){t.next=6;break}return t.abrupt("return");case 6:return e.lockTap=!0,t.prev=7,e.$refs[n].close(),t.next=11,e.$api.technician[o]({id:a});case 11:e.$util.showToast({title:l}),setTimeout((function(){e.$util.back(),e.$util.goUrl({url:1,openType:"navigateBack"}),e.lockTap=!1}),1e3),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](7),setTimeout((function(){e.lockTap=!1}),2e3);case 18:case"end":return t.stop()}}),t,null,[[7,15]])})))()},toTel:function(){var e=this;return(0,s.default)((0,r.default)().mark((function t(){var i,a,n,s,o;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.detail,a=i.id,n=i.pay_type,![2,3,4,5,6].includes(n)){t.next=11;break}return t.next=4,e.$api.technician.getVirtualPhone({order_id:a});case 4:if(s=t.sent,s){t.next=8;break}return e.$util.showToast({title:"稍后会有电话打入，请注意接听哦"}),t.abrupt("return");case 8:e.$util.goUrl({url:s,openType:"call"}),t.next=13;break;case 11:o=7==n?"服务结束":"服务取消",e.$util.showToast({title:"".concat(o,"不能联系客户哦")});case 13:case"end":return t.stop()}}),t)})))()},toMap:function(e){var t=this;return(0,s.default)((0,r.default)().mark((function i(){var a,n,s,o,l,c;return(0,r.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.detail[e],n=a.address,s=a.address_info,o=void 0===s?"":s,l=a.lat,c=a.lng,i.next=3,t.$util.checkAuth({type:"userLocation"});case 3:return i.next=5,uni.getLocation({type:"gcj02"});case 5:return i.next=7,uni.openLocation({latitude:1*l,longitude:1*c,name:o?"".concat(n," ").concat(o):n,scale:28});case 7:case"end":return i.stop()}}),i)})))()},toCopy:function(e){this.$util.goUrl({url:e,openType:"copy"})},previewImage:function(e,t){this.$util.previewImage({current:e,urls:t})}}),filters:{handlePayOrder:function(e){return 1===e?"（首次下单）":"（第".concat(e,"次下单）")}}};t.default=f},b40a:function(e,t,i){var a=i("c86c");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.view-btn[data-v-62b4f327]{width:%?102?%;height:%?52?%;border-radius:%?8?%}',""]),e.exports=t},bc2d:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("uni-popup",{ref:"show_fail_item",attrs:{type:"center",maskClick:!1}},[i("v-uni-view",{staticClass:"common-popup-content fill-base pd-lg radius-34",staticStyle:{width:"700rpx"}},[i("v-uni-view",{staticClass:"title"},[e._v("定位失败或不准确")]),i("v-uni-view",{staticClass:"f-desc c-title mt-lg"},[e._v("因诸多原因影响（例如：网速低、信号差、拒绝授权定位等），可能导致您的定位失败或不准确。当您发现时，可以尝试通过以下操作来重新定位：")]),i("v-uni-view",{staticClass:"f-desc c-title mt-md flex-1"},[e._v("1、进入手机系统设置，选择「应用管理」-「微信」-「禁用地址」-「每次使用询问」"),i("v-uni-view",{staticClass:"mt-sm mb-sm"},[e._v("2、进入系统"+e._s(e.$t("action.attendantName"))+"端首页，点击「刷新」按钮，会弹出地址授权，选择同意")]),e._v("3、再次点击「刷新」按钮，查看位置是否有更新")],1),i("v-uni-view",{staticClass:"f-desc c-warning mt-sm",staticStyle:{width:"100%"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.$util.goUrl({url:"https://lbqnyv3.migugu.com/video/666/24/03/zEKjTz0hOYtosc7k4LB9DvPgMPha6g8b.mp4",openType:"video"})}}},[e._v("点击查看操作视频")]),i("v-uni-view",{staticClass:"button"},[i("v-uni-view",{staticClass:"item-child c-base",style:{background:e.primaryColor,color:"#fff"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.$refs.show_fail_item.close()}}},[e._v("知道了")])],1)],1)],1)],1)},n=[]},c2ff:function(e,t,i){"use strict";i.r(t);var a=i("fdc0"),n=i("7d8e");for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);i("3be4");var s=i("828b"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"62b4f327",null,!1,a["a"],void 0);t["default"]=o.exports},d622:function(e,t,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("2634")),r=a(i("2fdc"));i("64aa");var s=i("8f59"),o={name:"timeline",props:{list:{type:Array,default:function(){return{}}},info:{type:Object,default:function(){return{}}},type:{type:Number,default:function(){return 0}}},data:function(){return{rgbaColor:""}},mounted:function(){this.rgbaColor=this.$util.rgbColor(this.primaryColor,.15)},computed:(0,s.mapState)({configInfo:function(e){return e.config.configInfo}}),methods:{toPreviewImage:function(e){var t=this.info[e];this.$util.previewImage({current:t,urls:[t]})},toMap:function(e){var t=this;return(0,r.default)((0,n.default)().mark((function i(){var a,r;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.split("_")[0],r=t.info,i.next=4,t.$util.checkAuth({type:"userLocation"});case 4:return i.next=6,uni.getLocation({type:"gcj02"});case 6:return i.next=8,uni.openLocation({latitude:1*r["".concat(a,"_lat")],longitude:1*r["".concat(a,"_lng")],name:r[e],scale:28});case 8:case"end":return i.stop()}}),i)})))()},toSign:function(){var e=this.info.id,t="/user/pages/order/sign?id=".concat(e);this.$util.goUrl({url:t})}}};t.default=o},e9b7:function(e,t,i){var a=i("c86c");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.record-item[data-v-1a777a34]{padding:0 0 %?60?% %?30?%}.record-item .item-tag[data-v-1a777a34]{width:%?36?%;height:%?36?%;top:0;left:%?-18?%}.record-item .item-tag .tag-dot[data-v-1a777a34]{width:%?18?%;height:%?18?%;border:%?2?% solid #979797;-webkit-transform:rotate(1turn);transform:rotate(1turn)}.record-item .item-text[data-v-1a777a34]{height:%?36?%;line-height:%?36?%}.record-item .item-img[data-v-1a777a34]{width:%?125?%;height:%?125?%;border-radius:%?8?%}.record-item .item-btn[data-v-1a777a34]{width:%?160?%;height:%?64?%;background:#eee}.record-item.b-1px-l[data-v-1a777a34]::before{border-left:2px solid #ccc}.record-item[data-v-1a777a34]:last-child{padding-bottom:0}',""]),e.exports=t},f86a:function(e,t,i){"use strict";var a=i("a2fa"),n=i.n(a);n.a},fdc0:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.detail.id?i("v-uni-view",{staticClass:"order-pages",style:{background:e.pageColor}},[i("v-uni-view",{staticClass:"item-child  pd-lg fill-base f-paragraph c-base",style:{background:e.primaryColor}},[i("v-uni-view",{staticClass:"flex-between"},[i("v-uni-view",{staticClass:"text-bold"},[e._v(e._s(e.statusType[e.detail.pay_type]))]),e.detail.abn_order_id?i("v-uni-view",{staticClass:"flex-y-center f-paragraph c-base",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.$util.goUrl({url:"/technician/pages/order/abnormal?id="+e.detail.abn_order_id})}}},[e._v("此单被平台标记为异常"),i("v-uni-view",{staticClass:"view-btn flex-center fill-base f-desc c-warning ml-md"},[e._v("查看")])],1):e._e()],1),i("v-uni-view",{staticClass:"space-lg"})],1),i("v-uni-view",{staticClass:"menu-list flex-warp rel ml-lg mr-lg pt-lg pb-lg pl-md pr-md fill-base f-paragraph c-caption radius-16",class:[{"add-bell":e.detail.is_add||e.detail.store_id}]},[i("v-uni-view",{staticClass:"menu-line abs b-1px-b"}),e._l(e.lineList,(function(t,a){return[t.icon?i("v-uni-view",{key:a+"_0",staticClass:"item-child flex-center flex-column f-icontext c-paragraph",style:{color:e.detail.pay_type>t.pay_type-1?e.primaryColor:""}},[i("v-uni-view",{staticClass:"item-img fill-base flex-center mb-sm radius",style:{borderColor:e.detail.pay_type>t.pay_type-1?e.primaryColor:""}},[i("i",{staticClass:"iconfont",class:t.icon})]),i("v-uni-view",{staticClass:"ellipsis",staticStyle:{"max-width":"100%"}},[e._v(e._s(t.title))])],1):e._e()]}))],2),6==e.detail.pay_type&&!e.detail.is_add&&e.detail.start_service_time_unix?i("v-uni-view",{staticClass:"item-child mt-md ml-lg mr-lg pd-lg fill-base radius-16"},[i("v-uni-view",{staticClass:"flex-y-center"},[e._v("服务还有"),i("min-countdown",{attrs:{type:2,color:"#F1381F",bgColor:"#F1381F",targetTime:1e3*e.detail.start_service_time_unix},on:{callback:function(t){arguments[0]=t=e.$handleEvent(t),e.countEnd.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"ml-sm"},[e._v("结束")])],1)],1):e._e(),i("v-uni-view",{staticClass:"item-child mt-md ml-lg mr-lg pd-lg fill-base radius-16"},[i("v-uni-view",{staticClass:"pb-lg f-paragraph c-title text-bold"},[e._v("服务内容")]),e._l(e.detail.order_goods,(function(t,a){return i("v-uni-view",{key:a,staticClass:"flex-warp",class:[{"mb-lg":a!=e.detail.order_goods.length-1}]},[i("v-uni-view",{staticClass:"avatar lg radius-16"},[i("v-uni-view",{staticClass:"h5-image avatar lg radius-16",style:{backgroundImage:"url('"+t.goods_cover+"')"}})],1),i("v-uni-view",{staticClass:"flex-1 ml-md"},[i("v-uni-view",{staticClass:"flex-between"},[i("v-uni-view",{staticClass:"f-mini-title c-title text-bold max-380 ellipsis"},[e._v(e._s(t.goods_name))]),i("v-uni-view",{staticStyle:{color:"#4D4D4D"}},[e._v("x"+e._s(t.num))])],1),i("v-uni-view",{staticClass:"flex-warp f-desc",style:{margin:1*t.init_material_price>0?"5rpx 0":"16rpx 0 20rpx 0"}},[i("v-uni-view",{staticClass:"flex-1",staticStyle:{color:"#777"}},[e._v("服务时长："+e._s(t.time_long)+"分钟")]),t.refund_num>0?i("v-uni-view",{staticClass:"c-warning"},[e._v("已退x"+e._s(t.refund_num))]):e._e()],1),1*t.init_material_price>0?i("v-uni-view",{staticClass:"f-desc",staticStyle:{color:"#777"}},[e._v(e._s(e.$t("action.materialText"))+"：¥"+e._s(t.init_material_price))]):e._e(),i("v-uni-view",{staticClass:"f-paragraph c-warning text-bold"},[e._v("¥"+e._s(t.price))])],1)],1)}))],2),e.detail.add_order_id&&e.detail.add_order_id.length>0?i("v-uni-view",{staticClass:"item-child mt-md ml-lg mr-lg pd-lg fill-base radius-16"},[i("v-uni-view",{staticClass:"pb-lg f-paragraph c-title text-bold"},[e._v("加钟项目")]),e._l(e.detail.add_order_id,(function(t,a){return[i("v-uni-view",{key:a+"_0",staticClass:"flex-y-center pb-lg f-desc",class:[{"mt-lg pt-lg b-1px-t":0!==a}],staticStyle:{color:"#555"}},[i("v-uni-view",[e._v("订单编号：")]),i("v-uni-view",{staticClass:"flex-between flex-1 "},[i("v-uni-view",{staticClass:"max-350 ellipsis"},[e._v(e._s(t.order_code))]),i("v-uni-view",{staticClass:"copy-btn flex-center radius-5 f-icontext",style:{borderColor:e.primaryColor,color:e.primaryColor},on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.toCopy(t.order_code)}}},[e._v("复制")])],1)],1),e._l(t.order_goods,(function(n,r){return i("v-uni-view",{key:r+"_"+a+"_1",staticClass:"flex-warp",class:[{"mb-lg":r!=t.order_goods.length-1}],on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.$util.goUrl({url:"/technician/pages/order/detail?id="+t.id})}}},[i("v-uni-view",{staticClass:"avatar lg radius-16"},[i("v-uni-view",{staticClass:"h5-image avatar lg radius-16",style:{backgroundImage:"url('"+n.goods_cover+"')"}})],1),i("v-uni-view",{staticClass:"flex-1 ml-md"},[i("v-uni-view",{staticClass:"flex-between"},[i("v-uni-view",{staticClass:"f-mini-title c-title text-bold max-380 ellipsis"},[e._v(e._s(n.goods_name))]),i("v-uni-view",{staticStyle:{color:"#4D4D4D"}},[e._v("x"+e._s(n.num))])],1),i("v-uni-view",{staticClass:"flex-warp f-desc",style:{margin:1*n.init_material_price>0?"5rpx 0":"16rpx 0 20rpx 0"}},[i("v-uni-view",{staticClass:"flex-1",staticStyle:{color:"#777"}},[e._v("服务时长："+e._s(n.time_long)+"分钟")]),n.refund_num>0?i("v-uni-view",{staticClass:"c-warning"},[e._v("已退x"+e._s(n.refund_num))]):e._e()],1),1*n.init_material_price>0?i("v-uni-view",{staticClass:"f-desc",staticStyle:{color:"#777"}},[e._v(e._s(e.$t("action.materialText"))+"：¥"+e._s(n.init_material_price))]):e._e(),i("v-uni-view",{staticClass:"f-paragraph c-warning text-bold"},[e._v("¥"+e._s(n.price))])],1)],1)})),i("v-uni-view",{key:a+"_2",staticClass:"flex-between pt-lg"},[i("v-uni-view",{style:{color:t.pay_type<3?"#F99346":t.pay_type<7?e.primaryColor:"#999"}},[e._v(e._s(e.statusType[t.pay_type]))]),i("v-uni-view",[2==t.pay_type?i("v-uni-button",{staticClass:"clear-btn order",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.toRefuse(t.id)}}},[e._v("拒单")]):e._e(),i("v-uni-button",{staticClass:"clear-btn order",style:{color:"#fff",background:e.primaryColor,borderColor:e.primaryColor},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toChangeAddOrderItem(a)}}},[1===e.detail.add_flow_path?[e._v(e._s(2==t.pay_type?"接单":3==t.pay_type?"开始服务":6==t.pay_type?"结束打卡":"查看详情"))]:[e._v(e._s(2==t.pay_type?"接单":"查看详情"))]],2)],1)],1)]}))],2):e._e(),e.detail.store_id?i("v-uni-view",{staticClass:"store-info mt-md ml-lg mr-lg pd-lg  fill-base radius-16"},[i("v-uni-view",{staticClass:"f-mini-title c-title text-bold pb-md"},[e._v(e._s(e.detail.store_info.title))]),i("v-uni-view",{staticClass:"flex-between"},[i("v-uni-view",{staticClass:"flex-y-center",staticStyle:{color:"#303030"}},[i("i",{staticClass:"iconfont icondizhi1 mr-sm"}),i("v-uni-view",{staticClass:"c-title flex-1 mr-md"},[i("span",[e._v(e._s(e.detail.store_info.address||"暂未设置门店地址"))]),e.detail.store_info.address?i("span",{staticClass:"copy-btn span f-icontext ml-sm radius-5",style:{color:e.primaryColor,borderColor:e.primaryColor},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toCopy(e.detail.store_info.address)}}},[e._v("复制")]):e._e()])],1),i("v-uni-view",{staticClass:"flex-center"},[i("v-uni-view",{staticClass:"item-icon rel flex-center radius-16",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.$util.goUrl({url:e.detail.store_info.phone,openType:"call"})}}},[i("v-uni-view",{staticClass:"item-icon radius-16 abs",style:{background:e.primaryColor}}),i("i",{staticClass:"iconfont icondadianhua_1",style:{color:e.primaryColor}})],1),e.detail.store_info.address?i("v-uni-view",{staticClass:"item-icon rel flex-center radius-16 ml-md",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toMap("store_info")}}},[i("v-uni-view",{staticClass:"item-icon radius-16 abs",style:{background:e.primaryColor}}),i("i",{staticClass:"iconfont icondizhi_1",style:{color:e.primaryColor}})],1):e._e()],1)],1)],1):e._e(),!e.configInfo.hide_order_info||e.configInfo.hide_order_info&&7!=e.detail.pay_type?i("v-uni-view",{staticClass:"mt-md ml-lg mr-lg pd-lg fill-base f-paragraph c-caption radius-16"},[i("v-uni-view",{staticClass:"flex-between"},[i("v-uni-view",[e._v("下单人")]),i("v-uni-view",{staticClass:"flex-y-center"},[i("v-uni-view",{staticClass:"c-title ellipsis",class:[{"max-350":!e.detail.show_user_order_num||!e.detail.pay_order_times},{"max-150":e.detail.show_user_order_num&&e.detail.pay_order_times}]},[e._v(e._s(e.detail.address_info.user_name))]),e.detail.show_user_order_num&&e.detail.pay_order_times?i("v-uni-view",{staticClass:"c-warning"},[e._v(e._s(e._f("handlePayOrder")(e.detail.pay_order_times)))]):e._e(),e.configInfo.coach_show_lable?i("v-uni-view",{class:[{"ml-sm":!e.detail.pay_order_times}],style:{color:e.primaryColor},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toLabel.apply(void 0,arguments)}}},[e._v("查看标签")]):e._e()],1)],1),i("v-uni-view",{staticClass:"flex-between mt-md",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toTel.apply(void 0,arguments)}}},[i("v-uni-view",[e._v("联系方式")]),i("v-uni-view",{staticClass:"flex-y-center",style:{color:e.primaryColor}},[i("i",{staticClass:"iconfont iconbodadianhua mr-sm"}),i("v-uni-view",[e._v("拨打电话")])],1)],1),e.detail.store_id?e._e():i("v-uni-view",{staticClass:"mt-md"},[i("v-uni-view",[e._v("服务地址")]),i("v-uni-view",{staticClass:"flex-center"},[i("v-uni-view",{staticClass:"c-title mt-sm flex-1 mr-md"},[i("span",[e._v(e._s(""+e.detail.address_info.address+e.detail.address_info.address_info))]),i("span",{staticClass:"copy-btn fill radius-5 f-icontext ml-sm",style:{borderColor:"#eee"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toCopy(""+e.detail.address_info.address+e.detail.address_info.address_info)}}},[e._v("复制")]),e.detail.coach_update_address_auth&&[3,4,5].includes(e.detail.pay_type)?i("span",{staticClass:"copy-btn fill radius-5 f-icontext ml-sm",style:{background:e.primaryColor,color:"#fff",borderColor:e.primaryColor},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$util.goUrl({url:"/technician/pages/order/update-addr"})}}},[e._v("修改")]):e._e()]),i("v-uni-view",{staticClass:"flex-center flex-column f-icontext",style:{color:e.primaryColor},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toMap("address_info")}}},[i("i",{staticClass:"iconfont icon-dingwei",staticStyle:{"font-size":"42rpx"}}),i("v-uni-view",[e._v("立刻导航去")])],1)],1)],1),e.detail.text||e.detail.text_img&&e.detail.text_img.length>0?i("v-uni-view",{staticClass:"mt-md"},[i("v-uni-view",[e._v("订单备注")]),e.detail.text?i("v-uni-view",{staticClass:"c-title mt-sm"},[i("v-uni-text",{staticStyle:{"word-break":"break-all"},attrs:{decode:"emsp"}},[e._v(e._s(e.detail.text))])],1):e._e(),e.detail.text_img&&e.detail.text_img.length>0?i("v-uni-view",{staticClass:"flex-warp item-child"},[e._l(e.detail.text_img,(function(t,a){return[i("v-uni-image",{key:a+"_0",staticClass:"order-img mt-md mr-md radius-10",attrs:{mode:"aspectFill",src:t},on:{click:function(i){if(!i.type.indexOf("key")&&e._k(i.keyCode,"top",void 0,i.key,void 0))return null;arguments[0]=i=e.$handleEvent(i),e.previewImage(t,e.detail.text_img)}}})]}))],2):e._e()],1):e._e()],1):e._e(),i("v-uni-view",{staticClass:"mt-md ml-lg mr-lg pd-lg fill-base f-paragraph c-caption radius-16"},[i("v-uni-view",{staticClass:"flex-between mt-md"},[i("v-uni-view",[e._v("下单时间")]),i("v-uni-view",{staticClass:"c-title"},[e._v(e._s(e.detail.create_time))])],1),i("v-uni-view",{staticClass:"flex-between mt-md"},[i("v-uni-view",[e._v("服务时间")]),i("v-uni-view",{staticClass:"c-title"},[e._v(e._s(e.detail.start_time))])],1),i("v-uni-view",{staticClass:"flex-between mt-md"},[i("v-uni-view",[e._v("服务时长")]),i("v-uni-view",{staticClass:"c-title"},[e._v(e._s(e.detail.time_long)+"分钟")])],1),e.detail.is_add||e.detail.store_id?e._e():[i("v-uni-view",{staticClass:"flex-between mt-md"},[i("v-uni-view",[e._v("车费详情")]),i("v-uni-view",{staticClass:"flex-y-center c-title"},[e._v(e._s(e.carType[e.detail.car_type])),1==e.detail.car_type?i("v-uni-view",{staticClass:"ml-md"},[e._v("全程"+e._s(e.detail.distance))]):e._e()],1)],1),1==e.detail.car_type?i("v-uni-view",{staticClass:"flex-between mt-md"},[i("v-uni-view",[e._v("出行费用")]),i("v-uni-view",{staticClass:"c-warning flex-warp"},[e._v("¥"+e._s(e.detail.car_price)),e.detail.free_fare?i("v-uni-view",{staticClass:"ml-md"},[e._v(e._s(["","平台补贴","自己补贴",e.$t("action.agentName")+"补贴"][e.detail.free_fare]))]):e._e(),e.detail.car_admin?i("v-uni-view",{staticClass:"ml-sm"},[e._v("(车费归属"+e._s(e.$t("action.agentName"))+")")]):e._e()],1)],1):e._e()],i("v-uni-view",{staticClass:"flex-between mt-md"},[i("v-uni-view",[e._v("服务项目费用")]),i("v-uni-view",{staticClass:"c-warning"},[e._v("¥"+e._s(e.detail.init_service_price))])],1),1*e.detail.init_material_price>0?i("v-uni-view",{staticClass:"flex-between mt-md"},[i("v-uni-view",[e._v(e._s(e.$t("action.materialText")))]),i("v-uni-view",{staticClass:"c-warning"},[e._v("¥"+e._s(e.detail.init_material_price))])],1):e._e(),e.detail.add_order_id&&e.detail.add_order_id.length>0?i("v-uni-view",{staticClass:"flex-between mt-md"},[i("v-uni-view",[e._v("加钟合计费用")]),i("v-uni-view",{staticClass:"c-warning"},[e._v("¥"+e._s(e.detail.total_add_price))])],1):e._e(),1*e.detail.discount>0?i("v-uni-view",{staticClass:"flex-between mt-md"},[i("v-uni-view",[e._v("卡券优惠")]),i("v-uni-view",{staticClass:"c-warning"},[e._v("-¥"+e._s(e.detail.discount))])],1):e._e(),1*e.detail.member_discount_balance>0?i("v-uni-view",{staticClass:"flex-warp mt-md"},[i("v-uni-view",{staticClass:"flex-1"},[e._v("会员卡折扣")]),i("v-uni-view",{staticClass:"c-warning"},[e._v(e._s(e.detail.member_discount_balance)+"折 (优惠¥"+e._s(e.detail.member_discount_cash)+")")])],1):e._e(),1*e.detail.balance_discount_cash>0?i("v-uni-view",{staticClass:"flex-warp mt-md"},[i("v-uni-view",{staticClass:"flex-1"},[e._v("储值卡折扣")]),i("v-uni-view",{on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.$refs.balance_discount_item.open()}}},[i("v-uni-view",{staticClass:"c-warning"},[e._v(e._s(e.detail.balance_discount_num)+"张折扣卡 (优惠¥"+e._s(e.detail.balance_discount_cash)+")")]),i("v-uni-view",{staticClass:"flex-between"},[i("v-uni-view"),i("v-uni-view",{staticClass:"f-caption",style:{color:e.primaryColor}},[e._v("查看明细")])],1)],1)],1):e._e(),i("v-uni-view",{staticClass:"flex-between mt-md"},[i("v-uni-view",[e._v("支付方式")]),i("v-uni-view",{staticClass:"c-title"},[e._v(e._s(e.payType[e.detail.pay_model]))])],1),i("v-uni-view",{staticClass:"flex-between mt-md pt-md b-1px-t"},[i("v-uni-view"),i("v-uni-view",{staticClass:"flex-y-baseline c-title"},[e._v("总计："),i("v-uni-view",{staticClass:"c-warning text-bold"},[e._v("¥"+e._s(e.detail.total_price))])],1)],1)],2),i("v-uni-view",{staticClass:"mt-md ml-lg mr-lg pd-lg fill-base f-paragraph c-caption radius-16"},[i("v-uni-view",{staticClass:" flex-y-center pb-lg flex-warp"},[i("v-uni-view",{staticClass:"flex-between c-title"},[e._v("订单编号：")]),i("v-uni-view",{staticClass:"flex-between flex-1 "},[i("v-uni-view",{staticClass:"c-title max-350 ellipsis"},[e._v(e._s(e.detail.order_code))]),i("v-uni-view",{staticClass:"copy-btn flex-center text-center f-icontext radius-5",style:{borderColor:e.primaryColor,color:e.primaryColor},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toCopy(e.detail.order_code)}}},[e._v("复制")])],1)],1),i("timeline",{attrs:{list:e.lineList,info:e.detail}})],1),i("v-uni-view",{staticClass:"space-max-footer"}),e.statusPayType.includes(e.detail.pay_type)||7==e.detail.pay_type&&!e.detail.is_add?i("v-uni-view",{staticClass:"footer-info fix fill-base"},[i("v-uni-view",{staticClass:"flex-between pd-lg"},[i("v-uni-view"),i("v-uni-view",{staticClass:"flex-center f-desc c-title"},[2==e.detail.pay_type?[i("v-uni-button",{staticClass:"clear-btn order",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toRefuse(0)}}},[e._v("拒单")]),i("v-uni-button",{staticClass:"clear-btn order",style:{color:"#fff",background:e.primaryColor,borderColor:e.primaryColor},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toConfirm(e.detail.is_add&&2==e.detail.add_flow_path?6:3)}}},[e._v("接单")])]:e._e(),[2,3,4,5,6].includes(e.detail.pay_type)?[i("v-uni-button",{staticClass:"clear-btn order",style:{color:"#fff",color:e.primaryColor,borderColor:e.primaryColor},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toTel.apply(void 0,arguments)}}},[e._v("联系客户")])]:e._e(),[3,4,5].includes(e.detail.pay_type)?[e.detail.is_add&&1==e.detail.add_flow_path||!e.detail.is_add?i("v-uni-button",{staticClass:"clear-btn order",style:{color:"#fff",background:e.primaryColor,borderColor:e.primaryColor},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toConfirm(e.detail.is_add||e.detail.store_id?6:1*e.detail.pay_type+1)}}},[e._v(e._s(e.detail.is_add||e.detail.store_id?"开始服务":3==e.detail.pay_type?"确认出发":4==e.detail.pay_type?"拍照打卡":"开始服务"))]):e._e()]:e._e(),6==e.detail.pay_type?[e.detail.is_add&&1==e.detail.add_flow_path||!e.detail.is_add?i("v-uni-button",{staticClass:"clear-btn order",style:{color:"#fff",background:e.primaryColor,borderColor:e.primaryColor},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toConfirm(7)}}},[e._v("结束打卡")]):e._e()]:e._e(),7==e.detail.pay_type?[i("v-uni-button",{staticClass:"clear-btn order",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toChangeItem("del_item")}}},[e._v("删除订单")]),e.detail.label_time?e._e():i("v-uni-button",{staticClass:"clear-btn order",style:{color:"#fff",background:e.primaryColor,borderColor:e.primaryColor},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.$util.goUrl({url:"/technician/pages/order/label?id="+e.detail.id+"&uid="+e.detail.user_id})}}},[e._v("评价客户")])]:e._e()],2)],1),i("v-uni-view",{staticClass:"space-safe"})],1):e._e(),i("common-popup",{ref:"del_item",attrs:{type:"DELETE_ORDER",info:e.popupInfo},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmOperItem.apply(void 0,arguments)}}}),i("uni-popup",{ref:"refuse_item",attrs:{type:"center",custom:!0}},[i("v-uni-view",{staticClass:"common-popup-content fill-base pd-lg radius-34"},[i("v-uni-view",{staticClass:"title"},[e._v("拒单")]),i("v-uni-view",{staticClass:"desc"},[e._v("请确认是否拒接接单")]),i("v-uni-textarea",{staticClass:"pd-lg textarea f-desc c-title mt-lg radius-20",attrs:{maxlength:"200",placeholder:"请输入拒单原因","placeholder-class":"f-desc c-caption"},model:{value:e.coach_refund_text,callback:function(t){e.coach_refund_text=t},expression:"coach_refund_text"}}),i("v-uni-view",{staticClass:"flex-center mt-md",staticStyle:{width:"540rpx"}},[i("v-uni-view",{staticClass:"flex-1"}),i("v-uni-view",[e._v(e._s(e.coach_refund_text.length>200?200:e.coach_refund_text.length)+"/200")])],1),i("v-uni-view",{staticClass:"button"},[i("v-uni-view",{staticClass:"item-child",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.$refs.refuse_item.close()}}},[e._v("取消")]),i("v-uni-view",{staticClass:"item-child c-base",style:{background:e.primaryColor,color:"#fff"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.confirmRefuse.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)],1),i("uni-popup",{ref:"oper_item",attrs:{type:"center",custom:!0}},[i("v-uni-view",{staticClass:"common-popup-content fill-base pd-lg radius-34"},[i("v-uni-view",{staticClass:"title"},[e._v(e._s(e.popupInfo.title))]),i("v-uni-view",{staticClass:"desc"},[e._v("温馨提示：定位需要5秒左右才能返回结果，"),i("span",{staticStyle:{color:"#F13F26"}},[e._v("若打卡位置与您实际位置不符，请使用手动搜索位置获取定位")])]),i("v-uni-view",{staticClass:"space-sm"}),4!==e.popupInfo.type?i("v-uni-view",{staticClass:"flex-warp mt-md",staticStyle:{width:"100%"}},[i("v-uni-view",[e._v("拍照打卡：")]),i("v-uni-view",{staticClass:"flex-1"},[i("upload",{attrs:{imagelist:e.popupInfo.imgs,filetype:"picture",imgtype:"imgs",text:"拍摄图片",imgsize:1,sourceType:2},on:{upload:function(t){arguments[0]=t=e.$handleEvent(t),e.imgUpload.apply(void 0,arguments)},del:function(t){arguments[0]=t=e.$handleEvent(t),e.imgUpload.apply(void 0,arguments)}}})],1)],1):e._e(),e.popupInfo.location?i("v-uni-view",{staticClass:"flex-warp mt-md",staticStyle:{width:"100%"}},[i("v-uni-view",[e._v("当前地点：")]),i("v-uni-view",{staticClass:"flex-1",class:[{"c-title":e.popupInfo.location.address},{"c-caption":!e.popupInfo.location.address}]},[e.popupInfo.location.address?i("span",[e._v(e._s(e.popupInfo.location.address))]):i("span",[e._v(e._s(e.popupInfo.isLoca?"定位失败，请选择手动定位":"定位中请耐心等待"))]),e.popupInfo.isLoca?i("span",{staticClass:"c-warning ml-sm",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toChooseLocation.apply(void 0,arguments)}}},[e._v("手动定位")]):e._e()])],1):e._e(),i("v-uni-view",{staticClass:"flex-y-center f-paragraph mt-md",staticStyle:{width:"100%",color:"#5a677e"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.$refs.show_location_item.open()}}},[e._v("定位失败或不准确时您可以这样操作"),i("i",{staticClass:"iconfont iconwentifankui3 ml-sm",staticStyle:{"font-size":"28rpx"}})]),i("v-uni-view",{staticClass:"button"},[i("v-uni-view",{staticClass:"item-child",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.$refs.oper_item.close()}}},[e._v("取消")]),i("v-uni-view",{staticClass:"item-child c-base",style:{background:e.primaryColor,color:"#fff"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.confirmOper.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)],1),i("longbingbing-location-fail",{ref:"show_location_item"}),i("uni-popup",{ref:"balance_discount_item",attrs:{type:"bottom",custom:!0}},[4==e.detail.pay_model?i("v-uni-view",{staticClass:"common-popup-content fill-base pd-lg",staticStyle:{width:"100%","border-radius":"34rpx 34rpx 0 0"}},[i("v-uni-view",{staticClass:"title"},[e._v("折扣明细")]),i("v-uni-scroll-view",{staticClass:"balance-disocunt-list mt-lg",attrs:{"scroll-y":!0},on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t)}}},e._l(e.detail.balance_discount_list,(function(t,a){return i("v-uni-view",{key:a,staticClass:"mt-md"},[i("v-uni-view",{staticClass:"f-mini-title c-title text-bold"},[e._v(e._s(t.title)+" ("+e._s(t.discount)+"折)")]),i("v-uni-view",{staticClass:"flex-center f-paragraph c-title mt-sm"},[i("v-uni-view",{staticClass:"list-item"},[e._v("消费 ¥"+e._s(t.value_cash))]),i("v-uni-view",{staticClass:"list-item"},[e._v("抵扣 ¥"+e._s(t.cash))]),i("v-uni-view",{staticClass:"list-item"},[e._v("优惠 ¥"+e._s(t.discount_cash))])],1)],1)})),1),i("v-uni-view",{staticClass:"flex-between f-paragraph c-title b-1px-t mt-lg pt-lg",staticStyle:{width:"100%"}},[i("v-uni-view",[e._v("共优惠")]),i("v-uni-view",{staticClass:"f-mini-title text-bold c-warning"},[e._v("¥"+e._s(e.detail.balance_discount_cash))])],1),i("v-uni-view",{staticClass:"button"},[i("v-uni-view",{staticClass:"item-child",style:{background:e.primaryColor,color:"#fff"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.$refs.balance_discount_item.close()}}},[e._v("知道了")])],1),i("v-uni-view",{staticClass:"space-safe"})],1):e._e()],1),e.configInfo.plugAuth.recording&&e.configInfo.service_recording_show&&1==e.pageLen?[i("media-recorder",{ref:"recorder",on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.handlerSuccess.apply(void 0,arguments)},save:function(t){arguments[0]=t=e.$handleEvent(t),e.handlerOnSave.apply(void 0,arguments)},error:function(t){arguments[0]=t=e.$handleEvent(t),e.handlerError.apply(void 0,arguments)}}})]:e._e()],2):e._e()},n=[]}}]);