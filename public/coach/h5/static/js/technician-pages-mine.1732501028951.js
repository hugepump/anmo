(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["technician-pages-mine"],{"0f67":function(t,e,i){"use strict";i.r(e);var a=i("f02e"),n=i("9b43");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("6fdd");var c=i("828b"),o=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"59ba9fba",null,!1,a["a"],void 0);e["default"]=o.exports},"4f76":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.technician-pages-mine .popup-authstatus[data-v-59ba9fba]{width:%?750?%}.technician-pages-mine .popup-authstatus .auth-content[data-v-59ba9fba]{width:%?440?%;height:%?285?%;background:linear-gradient(314deg,#b366ff,#66b3ff);border-radius:%?30?%;padding:%?28?%}.technician-pages-mine .popup-authstatus .auth-content .tips-line[data-v-59ba9fba]{width:%?32?%;height:%?93?%;top:%?-90?%;right:%?78?%}.technician-pages-mine .popup-authstatus .auth-content .tips-icon[data-v-59ba9fba]{width:%?138?%;height:%?130?%;left:%?-33?%;bottom:%?-29?%}.technician-pages-mine .popup-authstatus .auth-content .auth-btn[data-v-59ba9fba]{width:%?184?%;height:%?72?%;color:#9059ff}.technician-pages-mine .mine-bg[data-v-59ba9fba]{width:100%;height:%?500?%;z-index:0}.technician-pages-mine .cancel-auth[data-v-59ba9fba]{width:%?110?%;height:%?100?%;font-size:%?100?%;top:%?80?%;right:%?80?%}.technician-pages-mine .cancel-auth .text-bold[data-v-59ba9fba]{height:%?33?%;-webkit-transform:rotate(-32deg);transform:rotate(-32deg)}.technician-pages-mine .coach-info[data-v-59ba9fba]{margin:0 %?12?%}.technician-pages-mine .coach-info .avatar[data-v-59ba9fba]{width:%?160?%;height:%?160?%;border:%?4?% solid #fff}.technician-pages-mine .coach-info .h5-image.avatar[data-v-59ba9fba]{width:100%;height:100%;border:none}.technician-pages-mine .renzheng-info[data-v-59ba9fba]{width:100%;height:%?88?%;margin-top:%?40?%;padding:0 %?24?%;color:#fff;background:linear-gradient(135deg,#3dcc9c,#29cccc);z-index:999}.technician-pages-mine .renzheng-info .iconziliao[data-v-59ba9fba]{font-size:%?40?%}.technician-pages-mine .renzheng-info .edit-btn[data-v-59ba9fba]{width:%?132?%;height:%?56?%;background:rgba(0,102,96,.5)}.technician-pages-mine .is-renzheng[data-v-59ba9fba]{color:#00b395;background:#ceefe9}.technician-pages-mine .service-carfee-info[data-v-59ba9fba]{margin-top:%?28?%}.technician-pages-mine .service-carfee-info .list-item .item-img[data-v-59ba9fba]{width:%?337?%;height:%?100?%}.technician-pages-mine .service-carfee-info .list-item .item-img .abs[data-v-59ba9fba]{top:%?38?%;left:%?28?%;color:#2e9940}.technician-pages-mine .service-carfee-info .list-item .item-content[data-v-59ba9fba]{width:%?337?%;height:%?250?%;padding:%?28?%;background:linear-gradient(225deg,#d4fadb,#fff);border-radius:0 0 %?16?% %?16?%}.technician-pages-mine .service-carfee-info .list-item .item-content .price[data-v-59ba9fba]{font-size:%?48?%}.technician-pages-mine .service-carfee-info .list-item .item-content .cash-btn[data-v-59ba9fba]{width:%?160?%;height:%?68?%;background:#43a960;margin-top:%?16?%}.technician-pages-mine .service-carfee-info .list-item.carfee .item-img .abs[data-v-59ba9fba]{color:#de852c}.technician-pages-mine .service-carfee-info .list-item.carfee .item-content[data-v-59ba9fba]{background:linear-gradient(225deg,#fff9d9,#fff)}.technician-pages-mine .service-carfee-info .list-item.carfee .item-content .cash-btn[data-v-59ba9fba]{background:#ffb433}.technician-pages-mine .tool-list .tool-item[data-v-59ba9fba]{width:25%}.technician-pages-mine .tool-list .tool-item .record-img[data-v-59ba9fba]{width:%?80?%;height:%?80?%}.technician-pages-mine .tool-list .tool-item .record-img .fdd-tag[data-v-59ba9fba]{top:0;right:%?-40?%;width:%?80?%;height:%?34?%;background:#ff002b;border:%?2?% solid #fff}',""]),t.exports=e},"504c":function(t,e,i){var a=i("4f76");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("58e3a818",a,!0,{sourceMap:!1,shadowMode:!1})},"6fdd":function(t,e,i){"use strict";var a=i("504c"),n=i.n(a);n.a},"9b43":function(t,e,i){"use strict";i.r(e);var a=i("d232"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},d232:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("4626"),i("fd3c"),i("bd06"),i("dd2b");var n=a(i("9b1b")),s=a(i("2634")),c=a(i("2fdc")),o=i("8f59"),r={components:{},data:function(){return{isLoad:!1,options:{},lockTap:!1,auth_popup:!1,toolList:[{icon:"level",text:"等级管理",url:"/technician/pages/level"},{icon:"order-eval",text:"订单评价",url:"/technician/pages/order/evaluate"},{icon:"fankui",text:"差评申诉",url:"/technician/pages/bad-comments/box"},{icon:"shield",text:"拉黑用户",url:"/technician/pages/shield"}]}},computed:(0,o.mapState)({configInfo:function(t){return t.config.configInfo},mineInfo:function(t){return t.user.mineInfo},haveOperItem:function(t){return t.order.haveOperItem}}),onLoad:function(t){var e=this;return(0,c.default)((0,s.default)().mark((function i(){return(0,s.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.options=t,e.$util.setNavigationBarColor({bg:"#ffffff",color:"#000000"}),e.initIndex();case 3:case"end":return i.stop()}}),i)})))()},onShow:function(){if(uni.setNavigationBarTitle({title:"我的"}),this.isRegister)this.initRefresh();else{var t=this.haveOperItem,e=this.coachInfo.status,i=void 0===e?0:e;t&&[2,3].includes(i)&&this.updateOrderItem({key:"haveOperItem",val:!1})}},onPullDownRefresh:function(){var t=this;return(0,c.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showNavigationBarLoading(),e.next=3,t.initRefresh();case 3:uni.stopPullDownRefresh();case 4:case"end":return e.stop()}}),e)})))()},methods:(0,n.default)((0,n.default)((0,n.default)({},(0,o.mapActions)(["getConfigInfo","getMineInfo","getCoachInfo"])),(0,o.mapMutations)(["updateUserItem","updateOrderItem"])),{},{initIndex:function(){var t=arguments,e=this;return(0,c.default)((0,s.default)().mark((function i(){var a,n,c,o,r,u,l,f,d,h;return(0,s.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=t.length>0&&void 0!==t[0]&&t[0],e.configInfo.id&&!a&&e.userInfo.id){i.next=4;break}return i.next=4,e.getConfigInfo();case 4:return i.next=6,e.getCoachInfo();case 6:return i.next=8,e.changeToTechnician();case 8:n=e.coachInfo,c=n.status,o=void 0===c?0:c,r=n.auth_status,u=void 0===r?0:r,l=n.coach_position,f=void 0===l?0:l,d=e.auth_popup,h=void 0!==d&&d,2!=o||u||h||e.$refs.auth_status_item.open(),e.$util.hideAll(),a||e.$jweixin.hideOptionMenu(),f&&2==o&&e.$util.getCoachUtilLoca();case 14:case"end":return i.stop()}}),i)})))()},initRefresh:function(){this.initIndex(!0)},changeToTechnician:function(){var t=this;return(0,c.default)((0,s.default)().mark((function e(){var i,a,n,c,o,r,u,l,f,d,h,p,v,g,m,b,w,x;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.coachInfo,a=i.id,n=i.status,c=i.sh_text,o=void 0===c?"":c,4==n&&o&&(t.tipArr[4][0].text=o),-1==a&&t.updateUserItem({key:"coachInfo",val:{work_img:"https://lbqny.migugu.com/admin/anmo/mine/default-user.png"}}),r=t.coachInfo,u=r.fdd_auth_status,l=r.fxq_auth_status,f=t.configInfo.plugAuth,d=f.materialshop,h=void 0!==d&&d,p=f.dynamic,v=void 0!==p&&p,g=f.coachcredit,m=void 0!==g&&g,b=f.adapay,void 0!==b&&b,w=f.heepay,void 0!==w&&w,x=[{icon:"shop",text:"物料商城",url:"/technician/pages/shop/list",join:"差评申诉"},{icon:"dynamic",text:"动态发布",url:"/dynamic/pages/technician/list",join:"差评申诉"},{icon:"sign",text:"电签合同",url:"",join:"等级管理"},{icon:"credit",text:"我的信用分",url:"/technician/pages/credit",join:"差评申诉"},{icon:"cash-bind",text:"提现绑定",url:"/technician/pages/account/bind",join:"差评申诉"}],!0,x.map((function(e){var i=e.text,a=e.join,n=t.toolList.findIndex((function(t){return i==t.text}));-1!=n&&t.toolList.splice(n,1),e.join&&delete e.join;var s=t.toolList.findIndex((function(t){return a==t.text}));("物料商城"==i&&h||"动态发布"==i&&v||"电签合同"==i&&(u||l)||"我的信用分"==i&&m||"提现绑定"==i)&&t.toolList.splice(s,0,e)}));case 9:case"end":return e.stop()}}),e)})))()},toJump:function(t,e){var i=this[t][e],a=(i.id,i.url),n=i.text;console.log(n,a);var s=this.coachInfo,c=s.fdd_auth_status,o=s.fxq_auth_status;if("电签合同"==n)return c&&this.toFddSign(),void(o&&this.toFxqSign());this.$util.goUrl({url:a})},toEditInfo:function(){var t=this.coachInfo,e=t.status,i=t.auth_status,a=t.fdd_auth_status,n=t.fdd_status;if(2==e&&a&&1===n)this.$util.showToast({title:"请先签订合同哦"});else{var s=this.auth_popup;i||s||this.$refs.auth_status_item.close(),this.$util.goUrl({url:"/technician/pages/edit"})}},toFddSign:function(){var t=this;return(0,c.default)((0,s.default)().mark((function e(){var i,a,n,c,o,r,u,l,f,d,h,p,v,g,m;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getCoachInfo();case 2:if(t.updateUserItem({key:"fddExtsign",val:""}),i=t.coachInfo,a=i.status,n=i.admin_id,c=void 0===n?0:n,o=i.fdd_agreement,r=void 0===o?{}:o,u=i.fdd_status,t.$util.showLoading(),l=r&&r.hasOwnProperty("viewpdf_url")?r:{viewpdf_url:""},f=l.viewpdf_url,d=void 0===f?"":f,d&&1!=u){e.next=33;break}if(3!=a){e.next=10;break}return t.$util.showToast({title:"平台管理员已取消授权，不能签约哦"}),e.abrupt("return");case 10:return e.next=12,t.$api.technician.getFddRecord();case 12:if(h=e.sent,h){e.next=33;break}return t.updateUserItem({key:"personVerifyUrl",val:""}),e.next=17,t.$api.technician.getAttestationInfo();case 17:if(p=e.sent,v=p.status,!(v<2)){e.next=29;break}return e.next=22,t.$api.technician.getPersonVerifyUrl();case 22:return g=e.sent,t.$util.hideAll(),t.updateUserItem({key:"personVerifyUrl",val:g}),window.location.href=g,e.abrupt("return");case 29:return e.next=31,t.$api.technician.Extsign({admin_id:c});case 31:m=e.sent,d=m;case 33:t.$util.hideAll(),t.updateUserItem({key:"fddExtsign",val:d}),window.location.href=d;case 36:case"end":return e.stop()}}),e)})))()},toFxqSign:function(){var t=this;return(0,c.default)((0,s.default)().mark((function e(){var i,a,n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getCoachInfo();case 2:if(i=t.coachInfo,i.is_fxq,a=i.is_fxq_check,i.id_code,n=i.true_user_name,void 0===n?"":n,a){e.next=6;break}return t.$util.goUrl({url:"/technician/pages/fxq/real-name"}),e.abrupt("return");case 6:t.$util.goUrl({url:"/technician/pages/fxq/index"});case 7:case"end":return e.stop()}}),e)})))()},validate:function(t){var e=new this.$util.Validate;this.subRule.map((function(i){var a=i.name;e.add(t[a],i)}));var i=e.start();return i},confirm:function(){var t=this;return(0,c.default)((0,s.default)().mark((function e(){var i,a;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.coachInfo.status,a=void 0===i?-1:i,1!=a){e.next=3;break}return e.abrupt("return");case 3:t.$util.goUrl({url:"/technician/pages/apply"});case 4:case"end":return e.stop()}}),e)})))()}})};e.default=r},f02e:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"technician-pages-mine",style:{background:!t.configInfo.plugAuth.coachport||-1!=t.coachInfo.id&&[2,3].includes(t.coachInfo.status)?t.pageColor:""}},[t.configInfo.plugAuth.coachport?t._e():[i("abnor",{attrs:{type:"NOT_AUTH",isCenter:!0}})],t.configInfo.plugAuth.coachport&&t.coachInfo&&t.coachInfo.id?[i("v-uni-image",{staticClass:"mine-bg abs",attrs:{mode:"aspectFill","lazy-load":!0,src:t.configInfo.coach_image}}),i("v-uni-view",{staticClass:"rel",staticStyle:{padding:"50rpx 28rpx 0 28rpx"}},[i("v-uni-view",{staticClass:"flex-between rel",staticStyle:{height:"48rpx","z-index":"9999"}},[i("v-uni-view"),i("i",{staticClass:"iconfont iconshezhi2 c-title",staticStyle:{"font-size":"48rpx"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.$util.goUrl({url:"/technician/pages/setting"})}}})],1),i("v-uni-view",{staticClass:"rel",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toEditInfo.apply(void 0,arguments)}}},[3==t.coachInfo.status?i("v-uni-view",{staticClass:"cancel-auth iconfont icon-biaoqian c-caption flex-center abs"},[i("v-uni-view",{staticClass:"text-bold f-icontext abs"},[t._v("取消授权")])],1):t._e(),i("v-uni-view",{staticClass:"flex-warp"},[i("v-uni-view",{staticClass:"coach-info flex-center flex-1"},[i("v-uni-image",{staticClass:"avatar radius",attrs:{mode:"aspectFill",src:t.coachInfo.work_img||"https://lbqny.migugu.com/admin/anmo/technician/default_technician.png"}}),i("v-uni-view",{staticClass:"flex-1",staticStyle:{"margin-left":"28rpx"},style:{color:t.configInfo.coach_font_color}},[i("v-uni-view",{staticClass:"f-sm-title text-bold max-400 ellipsis"},[t._v(t._s(t.coachInfo.coach_name||"-"))]),i("v-uni-view",{staticClass:"f-paragraph",staticStyle:{"margin-top":"12rpx",opacity:"0.7"}},[t._v("ID："+t._s(t.coachInfo.id))])],1)],1)],1),i("v-uni-view",{staticClass:"renzheng-info flex-center radius-16 rel",class:[{"is-renzheng":2==t.coachInfo.auth_status}]},[i("i",{staticClass:"iconfont iconziliao"}),i("v-uni-view",{staticClass:"flex-1 flex-between ml-sm f-paragraph"},[i("v-uni-view",[t._v(t._s(2==t.coachInfo.auth_status?"已认证 · 修改资料需重新审核":0==t.coachInfo.auth_status?"真人认证 完善资料才可上线接单":1==t.coachInfo.auth_status?"认证审核中":"认证已驳回"))]),2==t.coachInfo.auth_status?i("i",{staticClass:"iconfont icon-right",staticStyle:{"font-size":"24rpx"}}):i("v-uni-view",{staticClass:"edit-btn flex-center text-bold radius"},[t._v("去完成")])],1)],1)],1),i("v-uni-view",{staticClass:"service-carfee-info flex-between font-num"},[i("v-uni-view",{staticClass:"list-item",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.$util.goUrl({url:"/technician/pages/income/index?type=2"})}}},[i("v-uni-view",{staticClass:"item-img rel"},[i("v-uni-image",{staticClass:"item-img",attrs:{src:"https://lbqny.migugu.com/admin/anmo/coachport/order-service.png"}}),i("v-uni-view",{staticClass:"abs f-mini-title text-bold"},[t._v("服务收入")])],1),i("v-uni-view",{staticClass:"item-content"},[i("v-uni-view",{staticClass:"flex-y-baseline f-title c-title"},[t._v("¥"),i("v-uni-view",{staticClass:"price"},[t._v(t._s(t.coachInfo.service_price||0))])],1),i("v-uni-view",{staticClass:"f-desc c-caption"},[t._v("可提现")]),i("v-uni-view",{staticClass:"cash-btn flex-center f-mini-title c-base radius"},[t._v("去提现")])],1)],1),i("v-uni-view",{staticClass:"list-item carfee",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.$util.goUrl({url:"/technician/pages/income/index?type=3"})}}},[i("v-uni-view",{staticClass:"item-img rel"},[i("v-uni-image",{staticClass:"item-img",attrs:{src:"https://lbqny.migugu.com/admin/anmo/coachport/order-carfee.png"}}),i("v-uni-view",{staticClass:"abs f-mini-title text-bold"},[t._v("订单车费")])],1),i("v-uni-view",{staticClass:"item-content"},[i("v-uni-view",{staticClass:"flex-y-baseline f-title c-title"},[t._v("¥"),i("v-uni-view",{staticClass:"price"},[t._v(t._s(t.coachInfo.car_price||0))])],1),i("v-uni-view",{staticClass:"f-desc c-caption"},[t._v("可提现")]),i("v-uni-view",{staticClass:"cash-btn flex-center f-mini-title c-base radius"},[t._v("去提现")])],1)],1)],1),i("v-uni-view",{staticClass:"fill-base radius-16",staticStyle:{"margin-top":"28rpx"}},[i("v-uni-view",{staticClass:"f-title text-bold",staticStyle:{padding:"24rpx 28rpx"}},[t._v("个人档案")]),i("v-uni-view",{staticClass:"tool-list flex-warp pb-sm"},t._l(t.toolList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"tool-item flex-center flex-column mb-lg",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toJump("toolList",a)}}},[i("v-uni-view",{staticClass:"record-img rel"},[i("v-uni-image",{staticClass:"record-img",attrs:{src:"https://lbqny.migugu.com/admin/anmo/coachport/"+e.icon+".png"}}),"电签合同"!=e.text||1!=t.coachInfo.fdd_status&&0!=t.coachInfo.is_fxq?t._e():i("v-uni-view",{staticClass:"fdd-tag flex-center f-little c-base radius abs"},[t._v("待签约")])],1),i("v-uni-view",{staticClass:"f-caption c-title"},[t._v(t._s(e.text))])],1)})),1)],1)],1),i("v-uni-view",{staticClass:"space-footer"}),i("v-uni-view",{style:{height:t.configInfo.tabbarHeight+"px"}}),i("longbingbing-tabbar",{attrs:{tabType:"coachTabBar",cur:4}})]:t._e(),i("uni-popup",{ref:"auth_status_item",attrs:{type:"top",maskClick:!1,custom:!0}},[i("v-uni-view",{staticStyle:{height:"484rpx"}}),i("v-uni-view",{staticClass:"popup-authstatus"},[i("v-uni-view",{staticClass:"flex-between",staticStyle:{padding:"0 28rpx"}},[i("v-uni-view"),i("v-uni-view",[i("v-uni-view",{staticClass:"auth-content rel"},[i("v-uni-view",{staticClass:"f-title c-base text-bold"},[t._v("完善资料")]),i("v-uni-view",{staticClass:"f-paragraph c-base mt-sm"},[t._v("需补充剩余资料才可以线上接单哟～")]),i("v-uni-view",{staticClass:"flex-between",staticStyle:{"margin-top":"15rpx"}},[i("v-uni-view"),i("v-uni-view",{staticClass:"auth-btn flex-center fill-base f-mini-title text-bold radius",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.$refs.auth_status_item.close(),t.auth_popup=!0}}},[t._v("知道了")])],1),i("v-uni-image",{staticClass:"tips-line abs",attrs:{src:"https://lbqny.migugu.com/admin/anmo/coachport/tips-line.png"}}),i("v-uni-image",{staticClass:"tips-icon abs",attrs:{src:"https://lbqny.migugu.com/admin/anmo/coachport/tips-icon.png"}})],1)],1)],1)],1)],1)],2)},n=[]}}]);