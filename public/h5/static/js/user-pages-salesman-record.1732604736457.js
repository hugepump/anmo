(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-pages-salesman-record"],{"4ae6":function(t,e,a){"use strict";a.r(e);var i=a("c35b"),s=a("a221");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("a5ca");var r=a("828b"),c=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"795894c5",null,!1,i["a"],void 0);e["default"]=c.exports},6511:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.user-salesman-record .iconshaixuanxia-1[data-v-795894c5]{color:#525252;font-size:%?20?%;-webkit-transform:scale(.7);transform:scale(.7)}.user-salesman-record .list-item .item-text[data-v-795894c5]{width:%?200?%}.user-salesman-record .popup-rank[data-v-795894c5]{border-radius:%?34?% %?34?% 0 0}.user-salesman-record .popup-rank .item-rank[data-v-795894c5]{width:%?157?%;height:%?72?%;border:1px solid #e5e5e5}.user-salesman-record .popup-rank .item-rank.channel[data-v-795894c5]{width:%?216?%}.user-salesman-record .popup-rank .item-rank.channel[data-v-795894c5]:nth-child(3n-1){margin:0 %?20?%}.user-salesman-record .popup-rank .btn-info[data-v-795894c5]{background:#f9f9f9}.user-salesman-record .popup-rank .btn-info .item-child[data-v-795894c5]{width:%?320?%;height:%?80?%;background:#fff;border:%?1?% solid #c7c7c7;margin:0 %?14?%}.user-salesman-record .popup-rank .space-safe[data-v-795894c5]{background:#f9f9f9}',""]),t.exports=e},a221:function(t,e,a){"use strict";a.r(e);var i=a("b53f"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},a5ca:function(t,e,a){"use strict";var i=a("ac05"),s=a.n(i);s.a},ac05:function(t,e,a){var i=a("6511");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("967d").default;s("6292ab14",i,!0,{sourceMap:!1,shadowMode:!1})},b53f:function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c223");var s=i(a("2634")),n=i(a("2fdc")),r=i(a("9b1b")),c=a("8f59"),l={components:{},data:function(){return{isLoad:!1,options:{},today:"",preCheck:{tabInd:2,statusInd:0,start_time:"",end_time:""},tabInd:2,tabList:[{id:1,title:"今日",start_time:"",end_time:""},{id:2,title:"近7日",start_time:"",end_time:""},{id:3,title:"近30日",start_time:"",end_time:""},{id:4,title:"自定义",start_time:"",end_time:""}],base_status:[{id:-1,title:"全部"},{id:0,title:"未入账"},{id:1,title:"已入账"}],statusInd:0,param:{page:1,channel_name:""},list:{data:[]},loading:!0,lockTap:!1}},computed:(0,c.mapState)({}),onLoad:function(t){this.options=t,this.initIndex()},onPullDownRefresh:function(){uni.showNavigationBarLoading(),this.initRefresh(),uni.stopPullDownRefresh()},onReachBottom:function(){this.list.current_page>=this.list.last_page||this.loading||(this.param.page=this.param.page+1,this.loading=!0,this.getList())},methods:(0,r.default)((0,r.default)({},(0,c.mapMutations)(["updateUserItem","updateOrderItem"])),{},{initIndex:function(){var t=arguments,e=this;return(0,n.default)((0,s.default)().mark((function a(){var i,n,r,c;return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.length>0&&void 0!==t[0]&&t[0],e.$util.setNavigationBarColor({bg:e.primaryColor}),n=new Date(Math.ceil((new Date).getTime())),r=e.$util.formatTime(n,"YY-M-D"),864e5,c=1e3*e.$util.DateToUnix(r),e.today=r,e.tabList[0].start_time=r,e.tabList[0].end_time=r,e.tabList[1].start_time=e.$util.formatTime(c-6048e5,"YY-M-D"),e.tabList[1].end_time=r,e.tabList[2].start_time=e.$util.formatTime(c-2592e6,"YY-M-D"),e.tabList[2].end_time=r,a.next=15,e.getList();case 15:e.isLoad=!0,i||e.$jweixin.hideOptionMenu();case 17:case"end":return a.stop()}}),a)})))()},initRefresh:function(){this.param.page=1,this.initIndex(!0)},toSearch:function(t){this.param.page=1,this.param.channel_name=t,this.getList()},getList:function(t){var e=this;return(0,n.default)((0,s.default)().mark((function a(){var i,n,r,c,l,o,d,u,p,v,f;return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t&&(e.param.page=1,e.list.data=[],uni.pageScrollTo({scrollTop:0})),i=e.list,n=e.tabInd,r=e.tabList,c=e.statusInd,l=e.base_status,o=r[n],d=o.start_time,u=o.end_time,p=l[c].id,v=e.$util.deepCopy(e.param),-1!=p&&(v.status=p),v.start_time=e.$util.DateToUnix(d),v.end_time=e.$util.DateToUnix(u)+86400-1,a.next=10,e.$api.salesman.salesmanChannelOrderListV2(v);case 10:f=a.sent,1==e.param.page||(f.data=i.data.concat(f.data)),e.list=f,e.loading=!1,e.$util.hideAll();case 14:case"end":return a.stop()}}),a)})))()},pickerChange:function(t,e){var a=this.tabList[3],i=a.start_time,s=a.end_time;"start_time"==e?i=t.detail.value:s=t.detail.value,i&&s&&this.$util.DateToUnix(i)>this.$util.DateToUnix(s)?this.$util.showToast({title:"开始时间不能大于结束时间"}):this.tabList[3][e]=t.detail.value},toChangeItem:function(t,e){this[e]=t},toConfirm:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;2==t&&(e=0,this.statusInd=0,this.preCheck.statusInd=0);var a=1==t?this.preCheck:this.tabList[e],i=a.start_time,s=void 0===i?"":i,n=a.end_time,r=void 0===n?"":n,c=2==t?{tabInd:2}:3==t?this:this.preCheck,l=c.tabInd;if(3==t){if((!s||!r)&&3==l)return void this.$util.showToast({title:s?"请选择结束时间":"请选择开始时间"});this.preCheck.start_time=s,this.preCheck.end_time=r,this.preCheck.tabInd=l}else this.tabList[e].start_time=s,this.tabList[e].end_time=r,this.tabInd=l;2!=t&&(this.$refs.show_choose_time.close(),this.param.page=1,this.getList())}})};e.default=l},c35b:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoad?a("v-uni-view",{staticClass:"user-salesman-record",style:{background:t.pageColor}},[a("fixed",[a("v-uni-view",{staticClass:"fill-base flex-center pd-lg"},[a("v-uni-view",{staticClass:"flex-1"},[a("search",{attrs:{type:"input",padding:0,radius:30,height:"70rpx",placeholder:"搜索渠道码来源"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.toSearch.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"flex-y-center pl-lg",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.$refs.show_choose_time.open()}}},[t._v("筛选"),a("i",{staticClass:"iconfont iconshaixuanxia-1 c-caption"})])],1)],1),t._l(t.list.data,(function(e,i){return a("v-uni-view",{key:i,staticClass:"list-item fill-base mt-md ml-md mr-md pd-lg radius-16"},[a("v-uni-view",{staticClass:"flex-between pb-lg b-1px-b"},[a("v-uni-view",{staticClass:"flex-y-center f-desc c-paragraph"},[t._v("下单人："),a("v-uni-view",{staticClass:"f-mini-title c-title text-bold max-400 ellipsis"},[t._v(t._s(e.address_info.user_name))])],1),a("v-uni-view",{staticClass:"f-paragraph text-bold",style:{color:1==e.status?t.primaryColor:"#F99346"}},[t._v(t._s(1===e.status?"已入账":"未入账"))])],1),a("v-uni-view",{staticClass:"flex-y-center f-desc c-paragraph mt-lg",on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.$util.goUrl({url:e.order_code,openType:"copy"})}}},[a("v-uni-view",{staticClass:"item-text"},[t._v("订单号:")]),a("v-uni-view",{staticClass:"c-title"},[t._v(t._s(e.order_code))])],1),a("v-uni-view",{staticClass:"flex-y-center f-desc c-paragraph mt-md"},[a("v-uni-view",{staticClass:"item-text"},[t._v("项目付款:")]),a("v-uni-view",{staticClass:"c-title"},[t._v("¥"+t._s(e.service_price))])],1),a("v-uni-view",{staticClass:"flex-y-center f-desc c-paragraph mt-md"},[a("v-uni-view",{staticClass:"item-text"},[t._v(t._s(t.$t("action.materialText"))+":")]),a("v-uni-view",{staticClass:"c-title"},[t._v("¥"+t._s(e.material_price))])],1),a("v-uni-view",{staticClass:"flex-y-center f-desc c-paragraph mt-md"},[a("v-uni-view",{staticClass:"item-text"},[t._v("下单时间:")]),a("v-uni-view",{staticClass:"c-title"},[t._v(t._s(e.create_time))])],1),a("v-uni-view",{staticClass:"flex-y-center f-desc c-paragraph mt-md"},[a("v-uni-view",{staticClass:"item-text"},[t._v("预计佣金:")]),a("v-uni-view",{staticClass:"flex-y-center c-warning text-bold"},[t._v("¥"+t._s(e.salesman_cash_info.cash)),1*e.salesman_cash_info.point_cash>0?a("v-uni-view",[t._v("(手续费¥"+t._s(e.salesman_cash_info.point_cash)+")")]):t._e()],1)],1),a("v-uni-view",{staticClass:"flex-y-center f-desc c-paragraph mt-md"},[a("v-uni-view",{staticClass:"item-text"},[t._v("渠道码来源:")]),a("v-uni-view",{staticClass:"c-title"},[t._v(t._s(e.channel.channel_name)+"("+t._s(e.channel.balance)+"%)")])],1)],1)})),t.loading?a("load-more",{attrs:{noMore:t.list.current_page>=t.list.last_page&&t.list.data.length>0,loading:t.loading}}):t._e(),!t.loading&&t.list.data.length<=0&&1==t.list.current_page?a("abnor",{attrs:{isCenter:!0}}):t._e(),a("v-uni-view",{staticClass:"space-footer"}),a("uni-popup",{ref:"show_choose_time",attrs:{type:"bottom",maskClick:!1}},[a("v-uni-view",{staticClass:"popup-rank fill-base"},[a("v-uni-view",{staticClass:"flex-between pd-lg"},[a("v-uni-view",{staticClass:"f-title c-title text-bold"},[t._v("选择筛选条件")]),a("v-uni-view",{staticClass:"f-caption c-caption",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toConfirm(1)}}},[t._v("取消")])],1),a("v-uni-view",{staticClass:"pd-lg"},[a("v-uni-view",{staticClass:"pt-lg pb-lg f-paragraph text-bold"},[t._v("状态")]),a("v-uni-view",{staticClass:"flex-warp pb-sm"},t._l(t.base_status,(function(e,i){return a("v-uni-view",{key:i,staticClass:"item-rank channel mb-md flex-center f-desc c-title radius-16",style:{background:i==t.statusInd?t.primaryColor:"",color:i==t.statusInd?"#fff":"",borderColor:i==t.statusInd?t.primaryColor:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toChangeItem(i,"statusInd")}}},[a("v-uni-view",{staticClass:"ellipsis",staticStyle:{"max-width":"180rpx"}},[t._v(t._s(e.title))])],1)})),1),a("v-uni-view",{staticClass:"pt-lg pb-lg f-paragraph text-bold"},[t._v("时间")]),a("v-uni-view",{staticClass:"flex-warp pb-lg"},t._l(t.tabList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"item-rank flex-center f-desc c-title radius-16",class:[{"ml-md":0!=i}],style:{background:i==t.tabInd?t.primaryColor:"",color:i==t.tabInd?"#fff":"",borderColor:i==t.tabInd?t.primaryColor:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toChangeItem(i,"tabInd")}}},[t._v(t._s(e.title))])})),1),3==t.tabInd?a("v-uni-view",{staticClass:"flex-between pt-lg pb-lg"},[a("v-uni-view",{staticClass:"f-paragraph text-bold"},[t._v("开始时间")]),a("v-uni-picker",{attrs:{mode:"date",start:"1900-01-01",end:t.today},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.pickerChange(e,"start_time")}}},[a("v-uni-view",{staticClass:"flex-y-center f-title",class:[{"c-title":t.tabList[3].start_time},{"f-caption c-caption":!t.tabList[3].start_time}]},[t._v(t._s(t.tabList[3].start_time||"请选择")),a("i",{staticClass:"iconfont icon-right c-caption"})])],1)],1):t._e(),3==t.tabInd?a("v-uni-view",{staticClass:"flex-between pt-md pb-lg"},[a("v-uni-view",{staticClass:"f-paragraph text-bold"},[t._v("结束时间")]),a("v-uni-picker",{attrs:{mode:"date",start:"1900-01-01",end:t.today},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.pickerChange(e,"end_time")}}},[a("v-uni-view",{staticClass:"flex-y-center f-title",class:[{"c-title":t.tabList[3].end_time},{"f-caption c-caption":!t.tabList[3].end_time}]},[t._v(t._s(t.tabList[3].end_time||"请选择")),a("i",{staticClass:"iconfont icon-right c-caption"})])],1)],1):t._e()],1),a("v-uni-view",{staticClass:"btn-info flex-center pd-lg"},[a("v-uni-view",{staticClass:"item-child flex-center fill-base f-desc radius",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toConfirm(2)}}},[t._v("重置")]),a("v-uni-view",{staticClass:"item-child flex-center f-desc c-base radius",style:{background:t.primaryColor,borderColor:t.primaryColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toConfirm(3)}}},[t._v("查询")])],1),a("v-uni-view",{staticClass:"space-safe"})],1)],1)],2):t._e()},s=[]}}]);