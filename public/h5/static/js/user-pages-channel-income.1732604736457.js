(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-pages-channel-income"],{"2afc":function(t,e,i){"use strict";var a=i("b96c"),n=i.n(a);n.a},4909:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("3efd"),i("c223");var n=a(i("2634")),s=a(i("2fdc")),l=a(i("9b1b")),c=i("8f59"),r={components:{},data:function(){return{isLoad:!1,today:"",preCheck:{tabInd:4,channelInd:0,start_time:"",end_time:""},tabInd:4,tabList:[{id:1,title:"今日",start_time:"",end_time:""},{id:2,title:"近7日",start_time:"",end_time:""},{id:3,title:"近30日",start_time:"",end_time:""},{id:4,title:"自定义",start_time:"",end_time:""}],detail:{},base_channel:[],channelInd:0,param:{page:1,name:""},list:{data:[]},loading:!0}},computed:(0,c.mapState)({configInfo:function(t){return t.config.configInfo}}),onLoad:function(){this.initIndex()},destroyed:function(){this.$util.back()},onPullDownRefresh:function(){uni.showNavigationBarLoading(),this.initRefresh(),uni.stopPullDownRefresh()},onReachBottom:function(){this.list.current_page>=this.list.last_page||this.loading||(this.param.page=this.param.page+1,this.loading=!0,this.getList())},methods:(0,l.default)((0,l.default)({},(0,c.mapMutations)([])),{},{initIndex:function(){var t=arguments,e=this;return(0,s.default)((0,n.default)().mark((function i(){var a,s,l,c,r;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.length>0&&void 0!==t[0]&&t[0],e.$util.showLoading(),s=new Date(Math.ceil((new Date).getTime())),l=e.$util.formatTime(s,"YY-M-D"),864e5,c=1e3*e.$util.DateToUnix(l),e.today=l,e.tabList[0].start_time=l,e.tabList[0].end_time=l,e.tabList[1].start_time=e.$util.formatTime(c-6048e5,"YY-M-D"),e.tabList[1].end_time=l,e.tabList[2].start_time=e.$util.formatTime(c-2592e6,"YY-M-D"),e.tabList[2].end_time=l,i.next=15,e.getList();case 15:return i.next=17,e.$api.channel.channelQrSelect();case 17:r=i.sent,r.unshift({id:0,title:"默认码"}),r.unshift({id:-1,title:"全部"}),e.base_channel=r,e.$util.setNavigationBarColor({bg:e.primaryColor}),uni.setNavigationBarTitle({title:"我是"+e.$t("action.channelName")}),e.isLoad=!0,e.$util.hideAll(),a||e.$jweixin.hideOptionMenu();case 26:case"end":return i.stop()}}),i)})))()},initRefresh:function(){this.param.page,this.initIndex(!0)},toSearch:function(t){this.param.page=1,this.param.name=t,this.getList()},getList:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var i,a,s,l,c,r,o,d,u,v,h,f,p;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.list,a=t.tabInd,s=t.tabList,l=t.channelInd,c=t.base_channel,r=t.$util.deepCopy(t.param),4!==a&&(o=s[a],d=o.start_time,u=o.end_time,r.start_time=t.$util.DateToUnix(d),r.end_time=t.$util.DateToUnix(u)+86400-1),c.length>0&&(v=c[l].id,h=void 0===v?-1:v,-1!==h&&(r.qr_id=h)),1!=r.page){e.next=10;break}return f=t.$util.deepCopy(r),delete f.page,e.next=9,t.$api.channel.index(f);case 9:t.detail=e.sent;case 10:return e.next=12,t.$api.channel.orderList(r);case 12:p=e.sent,1==t.param.page||(p.data=i.data.concat(p.data)),t.list=p,t.loading=!1,t.$util.hideAll();case 16:case"end":return e.stop()}}),e)})))()},pickerChange:function(t,e){var i=this.tabList[3],a=i.start_time,n=i.end_time;"start_time"==e?a=t.detail.value:n=t.detail.value,a&&n&&this.$util.DateToUnix(a)>this.$util.DateToUnix(n)?this.$util.showToast({title:"开始时间不能大于结束时间"}):this.tabList[3][e]=t.detail.value},toChangeItem:function(t,e){this[e]=t},toConfirm:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;2==t&&(e=0);var i=1==t?this.preCheck:this.tabList[e],a=i.start_time,n=void 0===a?"":a,s=i.end_time,l=void 0===s?"":s,c=2==t?{tabInd:4,channelInd:0}:3==t?this:this.preCheck,r=c.tabInd,o=c.channelInd;if(3==t){if((!n||!l)&&3==r)return void this.$util.showToast({title:n?"请选择结束时间":"请选择开始时间"});this.preCheck.start_time=n,this.preCheck.end_time=l,this.preCheck.tabInd=r,this.preCheck.channelInd=o}else this.tabList[e].start_time=n,this.tabList[e].end_time=l,this.tabInd=r,this.channelInd=o;2!=t&&(this.$refs.show_choose_time.close(),this.param.page=1,this.getList())},toApplyCash:function(t){var e=this;return(0,s.default)((0,n.default)().mark((function i(){var a;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e.detail[t],1*a!=0){i.next=4;break}return e.$util.showToast({title:"暂无可提现金额哦"}),i.abrupt("return");case 4:e.$util.goUrl({url:"/user/pages/cash-out?type=channel"});case 5:case"end":return i.stop()}}),i)})))()}})};e.default=r},"702a":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.user-channel-index .mine-menu-list[data-v-8d801010]{height:%?370?%}.user-channel-index .mine-menu-list .channel-code[data-v-8d801010]{width:%?134?%;height:%?54?%;background:hsla(0,0%,100%,.1);border-radius:%?100?% 0 0 %?100?%}.user-channel-index .mine-menu-list .channel-code .iconerweima[data-v-8d801010]{font-size:%?28?%;margin:0 %?5?%}.user-channel-index .mine-menu-list .channel-code .icon-down[data-v-8d801010]{font-size:%?18?%;-webkit-transform:scale(.5) rotate(270deg);transform:scale(.5) rotate(270deg)}.user-channel-index .mine-menu-list .money-count .item-child[data-v-8d801010]{width:50%}.user-channel-index .mine-menu-list .money-count .item-child .num[data-v-8d801010]{font-size:%?49?%}.user-channel-index .mine-menu-list .money-count .line[data-v-8d801010]{width:%?1?%;height:%?47?%;background:hsla(0,0%,100%,.3)}.user-channel-index .mine-menu-list .cash-out-list .item-child[data-v-8d801010]{width:%?300?%;height:%?70?%;background:#fff}.user-channel-index .mine-menu-list .cash-out-list .item-child[data-v-8d801010]:nth-child(1){background:hsla(0,0%,100%,.5);margin-right:%?40?%}.user-channel-index .search-info[data-v-8d801010]{border-radius:0 0 %?16?% %?16?%;overflow:hidden}.user-channel-index .search-info .item-search[data-v-8d801010]{width:%?630?%}.user-channel-index .search-info .iconshaixuanxia-1[data-v-8d801010]{font-size:%?20?%;color:#cdcdcd;-webkit-transform:scale(.65);transform:scale(.65)}.user-channel-index .popup-rank[data-v-8d801010]{border-radius:%?34?% %?34?% 0 0}.user-channel-index .popup-rank .item-rank[data-v-8d801010]{width:%?157?%;height:%?72?%;border:1px solid #e5e5e5}.user-channel-index .popup-rank .item-rank.channel[data-v-8d801010]{width:%?216?%}.user-channel-index .popup-rank .item-rank.channel[data-v-8d801010]:nth-child(3n-1){margin:0 %?20?%}.user-channel-index .popup-rank .btn-info[data-v-8d801010]{background:#f9f9f9}.user-channel-index .popup-rank .btn-info .item-child[data-v-8d801010]{width:%?320?%;height:%?80?%;background:#fff;border:%?1?% solid #c7c7c7;margin:0 %?14?%}.user-channel-index .popup-rank .space-safe[data-v-8d801010]{background:#f9f9f9}',""]),t.exports=e},"877d":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLoad?i("v-uni-view",{staticClass:"user-channel-index",style:{background:t.pageColor}},[i("v-uni-view",{staticClass:"mine-menu-list c-base",style:{background:t.primaryColor}},[i("v-uni-view",{staticClass:"flex-between pt-md pl-lg pb-lg"},[i("v-uni-view",{staticClass:"flex-center"},[i("v-uni-view",{staticClass:"f-desc mr-sm"},[t._v("上级")]),i("v-uni-view",{staticClass:"f-title max-400 ellipsis"},[t._v(t._s(t.detail.salesman_name||t.detail.agent_name||"平台"))])],1),i("v-uni-view",{staticClass:"channel-code flex-center f-icontext",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.$util.goUrl({url:"/user/pages/channel/qr"})}}},[i("i",{staticClass:"iconfont iconerweima"}),t._v("渠道码"),i("i",{staticClass:"iconfont icon-down"})])],1),i("v-uni-view",{staticClass:"money-count flex-center pb-lg"},[i("v-uni-view",{staticClass:"item-child flex-center flex-column"},[i("v-uni-view",{staticClass:"num text-bold"},[t._v(t._s(t.detail.order_price))]),i("v-uni-view",{staticClass:"f-caption"},[t._v("订单总金额")]),i("v-uni-view",{staticClass:"f-caption",staticStyle:{height:"36rpx"}},[t._v("不含"+t._s(t.$t("action.materialText")))])],1),i("v-uni-view",{staticClass:"line"}),i("v-uni-view",{staticClass:"item-child flex-center flex-column"},[i("v-uni-view",{staticClass:"num text-bold"},[t._v(t._s(t.detail.order_count))]),i("v-uni-view",{staticClass:"f-caption"},[t._v("订单数量")]),i("v-uni-view",{staticStyle:{height:"36rpx"}})],1),i("v-uni-view",{staticClass:"line"}),i("v-uni-view",{staticClass:"item-child flex-center flex-column"},[i("v-uni-view",{staticClass:"num text-bold"},[t._v(t._s(t.detail.total_cash))]),i("v-uni-view",{staticClass:"f-caption"},[t._v("总佣金")]),i("v-uni-view",{staticClass:"f-caption",staticStyle:{height:"36rpx"}},[t._v("不含手续费")])],1)],1),i("v-uni-view",{staticClass:"cash-out-list flex-center"},[i("v-uni-view",{staticClass:"item-child flex-center f-mini-title c-base radius",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.$util.goUrl({url:"/user/pages/distribution/record?type=4"})}}},[t._v("提现记录")]),i("v-uni-view",{staticClass:"item-child flex-center f-mini-title c-base radius",style:{color:t.primaryColor},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toApplyCash("cash")}}},[t._v("申请提现")])],1)],1),i("v-uni-view",{staticClass:"search-info flex-between fill-base"},[i("v-uni-view",{staticClass:"item-search"},[i("search",{attrs:{type:"input",placeholder:"请输入服务名称/订单号"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.toSearch.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.toSearch.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"flex-center pr-md f-paragraph c-title",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.show_choose_time.open()}}},[t._v("筛选"),i("i",{staticClass:"iconfont iconshaixuanxia-1"})])],1),i("v-uni-view",{staticClass:"order-pages"},t._l(t.list.data,(function(e,a){return i("v-uni-view",{key:a,staticClass:"item-child mt-md ml-lg mr-lg pd-lg fill-base radius-16"},[i("v-uni-view",{staticClass:"flex-between pb-lg"},[i("v-uni-view",{staticClass:"f-paragraph c-title max-350 ellipsis"},[t._v("下单人："+t._s(e.address_info.user_name))]),i("v-uni-view",{staticClass:"f-caption c-caption"},[t._v(t._s(e.create_time))])],1),t._l(e.order_goods,(function(a,n){return i("v-uni-view",{key:n,staticClass:"flex-center mb-lg"},[i("v-uni-image",{staticClass:"avatar lg radius-16",attrs:{mode:"aspectFill",src:a.goods_cover}}),i("v-uni-view",{staticClass:"flex-1 ml-md"},[i("v-uni-view",{staticClass:"flex-between"},[i("v-uni-view",{staticClass:"f-mini-title c-title text-bold ellipsis",class:[{"max-300":a.refund_num>0},{"max-450":0==a.refund_num}]},[t._v(t._s(a.goods_name))]),a.refund_num>0?i("v-uni-view",{staticClass:"f-caption c-warning"},[t._v("已退x"+t._s(a.refund_num))]):t._e()],1),i("v-uni-view",{staticClass:"f-caption c-caption mt-sm mb-sm"},[t._v(t._s("服务"===t.$t("action.attendantName").substring(0,2)?"":"服务")+t._s(t.$t("action.attendantName"))+"："+t._s(e.coach_info?e.coach_info.coach_name:"-"))]),i("v-uni-view",{staticClass:"flex-between"},[i("v-uni-view",{staticClass:"flex-y-baseline f-caption c-warning"},[t._v("¥"),i("v-uni-view",{staticClass:"f-title text-bold"},[t._v(t._s(a.true_price))]),1*a.material_price>0?i("v-uni-view",{staticClass:"c-caption ml-sm"},[t._v(t._s(t.$t("action.materialText"))+":¥"+t._s(a.material_price))]):t._e()],1),i("v-uni-view",{staticClass:"c-paragraph"},[t._v("x"+t._s(a.num))])],1)],1)],1)})),i("v-uni-view",{staticClass:"flex-between f-caption"},[i("v-uni-view",[i("v-uni-view",{staticClass:"flex-y-center"},[t._v("分销佣金："),i("v-uni-view",{staticClass:"c-warning mr-sm"},[t._v("¥"+t._s(e.channel_cash))])],1),i("v-uni-view",{staticClass:"flex-y-center"},[t._v("手续费："),i("v-uni-view",{staticClass:"c-warning"},[t._v("¥"+t._s(e.point_cash))])],1),1*e.refund_price>0?i("v-uni-view",{staticClass:"flex-y-center",staticStyle:{"margin-top":"4rpx"}},[t._v("实际成交金额："),i("v-uni-view",{staticClass:"c-warning"},[t._v("¥"+t._s(e.true_service_price))])],1):t._e()],1),i("v-uni-view",[i("v-uni-view",{staticClass:"flex-between"},[i("v-uni-view"),i("v-uni-view",{staticClass:"flex-y-center f-desc c-title"},[t._v("付款："),i("v-uni-view",{staticClass:"text-bold"},[t._v("¥"+t._s(e.pay_price))])],1)],1),1*e.material_price>0?i("v-uni-view",{staticClass:"c-caption"},[t._v("含"+t._s(t.$t("action.materialText"))+t._s(e.material_price)+"元")]):t._e()],1)],1)],2)})),1),t.loading?i("load-more",{attrs:{noMore:t.list.current_page>=t.list.last_page&&t.list.data.length>0,loading:t.loading}}):t._e(),!t.loading&&t.list.data.length<=0&&1==t.list.current_page?i("abnor",{attrs:{percent:"calc(100vh - 494rpx - calc(30rpx + env(safe-area-inset-bottom) / 2))"}}):t._e(),i("v-uni-view",{staticClass:"space-footer"}),i("uni-popup",{ref:"show_choose_time",attrs:{type:"bottom",maskClick:!1}},[i("v-uni-view",{staticClass:"popup-rank fill-base"},[i("v-uni-view",{staticClass:"flex-between pd-lg"},[i("v-uni-view",{staticClass:"f-title c-title text-bold"},[t._v("选择筛选条件")]),i("v-uni-view",{staticClass:"f-caption c-caption",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toConfirm(1)}}},[t._v("取消")])],1),i("v-uni-view",{staticClass:"pd-lg"},[i("v-uni-view",{staticClass:"pt-lg pb-lg f-paragraph text-bold"},[t._v("渠道码")]),i("v-uni-view",{staticClass:"flex-warp pb-sm",staticStyle:{"max-height":"28vh",overflow:"auto"}},t._l(t.base_channel,(function(e,a){return i("v-uni-view",{key:a,staticClass:"item-rank channel mb-md flex-center f-desc c-title radius-16",style:{background:a==t.channelInd?t.primaryColor:"",color:a==t.channelInd?"#fff":"",borderColor:a==t.channelInd?t.primaryColor:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toChangeItem(a,"channelInd")}}},[i("v-uni-view",{staticClass:"ellipsis",staticStyle:{"max-width":"180rpx"}},[t._v(t._s(e.title))])],1)})),1),i("v-uni-view",{staticClass:"pt-lg pb-lg f-paragraph text-bold"},[t._v("时间")]),i("v-uni-view",{staticClass:"flex-warp pb-lg"},t._l(t.tabList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"item-rank flex-center f-desc c-title radius-16",class:[{"ml-md":0!=a}],style:{background:a==t.tabInd?t.primaryColor:"",color:a==t.tabInd?"#fff":"",borderColor:a==t.tabInd?t.primaryColor:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toChangeItem(a,"tabInd")}}},[t._v(t._s(e.title))])})),1),3==t.tabInd?i("v-uni-view",{staticClass:"flex-between pt-lg pb-lg"},[i("v-uni-view",{staticClass:"f-paragraph text-bold"},[t._v("开始时间")]),i("v-uni-picker",{attrs:{mode:"date",start:"1900-01-01",end:t.today},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.pickerChange(e,"start_time")}}},[i("v-uni-view",{staticClass:"flex-y-center f-title",class:[{"c-title":t.tabList[3].start_time},{"f-caption c-caption":!t.tabList[3].start_time}]},[t._v(t._s(t.tabList[3].start_time||"请选择")),i("i",{staticClass:"iconfont icon-right c-caption"})])],1)],1):t._e(),3==t.tabInd?i("v-uni-view",{staticClass:"flex-between pt-md pb-lg"},[i("v-uni-view",{staticClass:"f-paragraph text-bold"},[t._v("结束时间")]),i("v-uni-picker",{attrs:{mode:"date",start:"1900-01-01",end:t.today},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.pickerChange(e,"end_time")}}},[i("v-uni-view",{staticClass:"flex-y-center f-title",class:[{"c-title":t.tabList[3].end_time},{"f-caption c-caption":!t.tabList[3].end_time}]},[t._v(t._s(t.tabList[3].end_time||"请选择")),i("i",{staticClass:"iconfont icon-right c-caption"})])],1)],1):t._e()],1),i("v-uni-view",{staticClass:"btn-info flex-center pd-lg"},[i("v-uni-view",{staticClass:"item-child flex-center fill-base f-desc radius",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toConfirm(2)}}},[t._v("重置")]),i("v-uni-view",{staticClass:"item-child flex-center f-desc c-base radius",style:{background:t.primaryColor,borderColor:t.primaryColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toConfirm(3)}}},[t._v("查询")])],1),i("v-uni-view",{staticClass:"space-safe"})],1)],1)],1):t._e()},n=[]},"98a6":function(t,e,i){"use strict";i.r(e);var a=i("4909"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},ae1aa:function(t,e,i){"use strict";i.r(e);var a=i("877d"),n=i("98a6");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("2afc");var l=i("828b"),c=Object(l["a"])(n["default"],a["b"],a["c"],!1,null,"8d801010",null,!1,a["a"],void 0);e["default"]=c.exports},b96c:function(t,e,i){var a=i("702a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("44a5d369",a,!0,{sourceMap:!1,shadowMode:!1})}}]);