(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-pages-coachbroker-bind-technician"],{"58e5":function(e,t,n){var i=n("c105");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("bd3d65a2",i,!0,{sourceMap:!1,shadowMode:!1})},"633b":function(e,t,n){"use strict";n.r(t);var i=n("8330"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"746e":function(e,t,n){"use strict";var i=n("58e5"),a=n.n(i);a.a},8330:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("5de6")),r=i(n("9b1b")),o=i(n("2634")),c=i(n("2fdc")),s=n("8f59"),u={components:{},props:{},data:function(){return{options:{},confirmText:"长按上图保存图片",src:"",cover:"",admin_id:0,check_admin:{id:0,agent_name:"平台"}}},computed:(0,s.mapState)({configInfo:function(e){return e.config.configInfo},mineInfo:function(e){return e.user.mineInfo}}),onLoad:function(e){var t=this;return(0,c.default)((0,o.default)().mark((function n(){var i,a,r,c;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.options=e,t.$util.showLoading(),i=t.$util.getPage(-1).detail.broker_poster,a=void 0===i?"":i,t.cover=a||"https://lbqny.migugu.com/admin/anmo/mine/inv_coach.png",t.$util.setNavigationBarColor({bg:t.primaryColor}),r="邀请绑定"+t.$t("action.attendantName"),uni.setNavigationBarTitle({title:r}),c=t,setTimeout((function(){c.renderToCanvas()}),1e3),t.$jweixin.hideOptionMenu();case 10:case"end":return n.stop()}}),n)})))()},methods:(0,r.default)((0,r.default)({},(0,s.mapActions)(["getConfigInfo"])),{},{initRefresh:function(){this.src="",this.$util.showLoading(),this.renderToCanvas(!0)},renderToCanvas:function(){var e=arguments,t=this;return(0,c.default)((0,o.default)().mark((function n(){var i,a,r,c,s,u,d,f,l,p;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.length>0&&void 0!==e[0]&&e[0],a=t.cover,r=t.admin_id,c=void 0===r?0:r,s=t.check_admin,u=void 0===s?{}:s,d=u.id,f=void 0===d?0:d,i&&f&&(c=f),t.$util.showLoading(),n.next=7,t.$api.coachbroker.resellerInvCoachQr({admin_id:c});case 7:l=n.sent,"0rpx",p={css:{width:"710rpx",height:"1138rpx"},views:[{type:"image",src:a,css:{width:"710rpx",height:"1138rpx",objectFit:"cover",top:"0rpx",left:"0rpx",position:"absolute"}},{type:"image",src:l,css:{position:"absolute",width:"314rpx",height:"314rpx",top:"588rpx",left:"198rpx",background:"#ffffff",borderRadius:"0rpx"}}]},t.$refs.painter.render(p),t.$refs.painter.canvasToTempFilePathSync({fileType:"jpg",quality:1,success:function(e){t.src=e.tempFilePath,t.$util.hideAll()}});case 12:case"end":return n.stop()}}),n)})))()},previewImage:function(){var e=this.src;this.$util.previewImage({current:e,urls:[e]})},saveImage:function(){var e=this;return(0,c.default)((0,o.default)().mark((function t(){var n,i,r,c;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$util.checkAuth({type:"writePhotosAlbum"});case 2:return n=e.src,t.next=5,uni.saveImageToPhotosAlbum({filePath:n});case 5:if(i=t.sent,r=(0,a.default)(i,2),c=r[0],r[1],!c){t.next=11;break}return t.abrupt("return");case 11:uni.showToast({icon:"none",title:"保存成功"});case 12:case"end":return t.stop()}}),t)})))()},toPreviewSave:function(){this.toConfirmPreviewSave()},toConfirmPreviewSave:function(){this.previewImage()}})};t.default=u},bdaf:function(e,t,n){"use strict";n.r(t);var i=n("d0be"),a=n("633b");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("746e");var o=n("828b"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"ed75c1b6",null,!1,i["a"],void 0);t["default"]=c.exports},c105:function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,".code-img[data-v-ed75c1b6]{width:%?710?%;height:%?1138?%}",""]),e.exports=t},d0be:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={lPainter:n("9ca4").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"pt-md",style:{background:e.pageColor}},[n("v-uni-view",{staticClass:"hideCanvasView"},[n("l-painter",{ref:"painter",staticClass:"hideCanvas",attrs:{useCORS:!0}})],1),e.src?[n("v-uni-image",{staticClass:"code-img ml-md",attrs:{src:e.src},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImage.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"space-max-footer"}),n("fix-bottom-button",{attrs:{text:[{text:"分享设置",type:"cancel"},{text:e.confirmText,type:"confirm"}],bgColor:"#fff",classType:2},on:{cancel:function(t){arguments[0]=t=e.$handleEvent(t),e.$util.goUrl({url:"/user/pages/coachbroker/share-set"})},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.toPreviewSave.apply(void 0,arguments)}}})]:e._e()],2)},r=[]}}]);