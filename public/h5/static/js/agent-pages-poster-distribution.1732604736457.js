(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["agent-pages-poster-distribution"],{3614:function(t,e,r){var n=r("c86c");e=n(!1),e.push([t.i,".code-img[data-v-cb3918c4]{width:%?710?%;height:%?1278?%}",""]),t.exports=e},"441d":function(t,e,r){"use strict";r.r(e);var n=r("f7c5"),i=r("d0b8");for(var a in i)["default"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return i[t]}))}(a);r("9bee");var o=r("828b"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"cb3918c4",null,!1,n["a"],void 0);e["default"]=s.exports},4594:function(t,e,r){var n=r("3614");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=r("967d").default;i("17ea8f0e",n,!0,{sourceMap:!1,shadowMode:!1})},"8cec":function(t,e,r){"use strict";r("6a54");var n=r("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r("5de6")),a=n(r("9b1b")),o=n(r("2634")),s=n(r("2fdc")),c=r("8f59"),u={components:{},props:{},data:function(){return{options:{},confirmText:"长按上图保存图片",src:""}},computed:(0,c.mapState)({configInfo:function(t){return t.config.configInfo}}),onLoad:function(t){var e=this;return(0,s.default)((0,o.default)().mark((function r(){var n;return(0,o.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.options=t,e.$util.showLoading(),e.$util.setNavigationBarColor({bg:e.primaryColor}),n=e,setTimeout((function(){n.renderToCanvas()}),1e3),e.$jweixin.hideOptionMenu();case 6:case"end":return r.stop()}}),r)})))()},methods:(0,a.default)((0,a.default)({},(0,c.mapActions)(["getConfigInfo"])),{},{initRefresh:function(){this.src="",this.$util.showLoading(),this.renderToCanvas(!0)},renderToCanvas:function(){var t=arguments,e=this;return(0,s.default)((0,o.default)().mark((function r(){var n,i,a,s,c,u,f;return(0,o.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.length>0&&void 0!==t[0]&&t[0],n=e,r.next=4,e.$api.agent.agentInvresellerQr();case 4:i=r.sent,a=e.$util.getPage(-1).detail,s=a.agent_name,c=a.admin_reseller_poster,u=e.userInfo.avatarUrl,s=s.length>15?s.substring(0,15)+"...":s,"0rpx",f={css:{width:"710rpx",height:"1278rpx"},views:[{type:"image",src:c,css:{width:"710rpx",height:"1138rpx",objectFit:"cover",top:"0rpx",left:"0rpx",position:"absolute"}},{type:"view",css:{background:"#fff",width:"710rpx",height:"140rpx",bottom:"0rpx",left:"0rpx",position:"absolute"},views:[{type:"image",src:u,css:{position:"absolute",width:"94rpx",height:"94rpx",objectFit:"cover",borderRadius:"50rpx",bottom:"23rpx",left:"20rpx"}},{type:"text",text:s,css:{position:"absolute",bottom:"72rpx",left:"130rpx",width:"600rpx",fontSize:"32rpx",fontWeight:"600",color:"#0C0C0C"}},{type:"text",text:"邀请您成为TA的分销员，扫描上方二维码立即加入",css:{position:"absolute",bottom:"28rpx",left:"130rpx",width:"600rpx",fontSize:"26rpx",color:"#999999"}}]},{type:"image",src:i,css:{position:"absolute",width:"337rpx",height:"337rpx",top:"512rpx",left:"187rpx",background:"#ffffff",borderRadius:"0rpx"}}]},e.$refs.painter.render(f),e.$refs.painter.canvasToTempFilePathSync({fileType:"jpg",quality:1,success:function(t){n.$util.hideAll(),e.src=t.tempFilePath}});case 12:case"end":return r.stop()}}),r)})))()},previewImage:function(){var t=this.src;this.$util.previewImage({current:t,urls:[t]})},saveImage:function(){var t=this;return(0,s.default)((0,o.default)().mark((function e(){var r,n,a,s;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$util.checkAuth({type:"writePhotosAlbum"});case 2:return r=t.src,e.next=5,uni.saveImageToPhotosAlbum({filePath:r});case 5:if(n=e.sent,a=(0,i.default)(n,2),s=a[0],a[1],!s){e.next=11;break}return e.abrupt("return");case 11:uni.showToast({icon:"none",title:"保存成功"});case 12:case"end":return e.stop()}}),e)})))()},toPreviewSave:function(){this.toConfirmPreviewSave()},toConfirmPreviewSave:function(){this.previewImage()}})};e.default=u},"9bee":function(t,e,r){"use strict";var n=r("4594"),i=r.n(n);i.a},d0b8:function(t,e,r){"use strict";r.r(e);var n=r("8cec"),i=r.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},f7c5:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){return n}));var n={lPainter:r("9ca4").default},i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"pt-md",style:{background:t.pageColor}},[r("v-uni-view",{staticClass:"hideCanvasView"},[r("l-painter",{ref:"painter",staticClass:"hideCanvas",attrs:{useCORS:!0}})],1),t.src?[r("v-uni-image",{staticClass:"code-img ml-md",attrs:{src:t.src},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImage.apply(void 0,arguments)}}}),r("v-uni-view",{staticClass:"space-max-footer"}),r("fix-bottom-button",{attrs:{text:[{text:t.confirmText,type:"confirm"}],bgColor:"#fff",classType:2},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.toPreviewSave.apply(void 0,arguments)}}})]:t._e()],2)},a=[]}}]);