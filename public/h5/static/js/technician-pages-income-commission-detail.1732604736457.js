(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["technician-pages-income-commission-detail"],{"4d88":function(t,a,e){"use strict";var i=e("eb97"),s=e.n(i);s.a},"67b5":function(t,a,e){"use strict";e.r(a);var i=e("7c9f"),s=e.n(i);for(var c in i)["default"].indexOf(c)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(c);a["default"]=s.a},7391:function(t,a,e){"use strict";e.r(a);var i=e("81a5"),s=e("67b5");for(var c in s)["default"].indexOf(c)<0&&function(t){e.d(a,t,(function(){return s[t]}))}(c);e("4d88");var n=e("828b"),l=Object(n["a"])(s["default"],i["b"],i["c"],!1,null,"6cf85ffa",null,!1,i["a"],void 0);a["default"]=l.exports},"7c9f":function(t,a,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("fd3c"),e("c223");var s=i(e("9b1b")),c=i(e("2634")),n=i(e("2fdc")),l=e("8f59"),r={components:{},data:function(){return{isLoad:!1,options:{},detail:{},empty_comm_text:""}},computed:(0,l.mapState)({configInfo:function(t){return t.config.configInfo}}),onLoad:function(t){var a=this;return(0,n.default)((0,c.default)().mark((function e(){return(0,c.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.options=t,e.next=3,a.initIndex();case 3:case"end":return e.stop()}}),e)})))()},methods:(0,s.default)((0,s.default)({},(0,l.mapActions)(["getConfigInfo"])),{},{initIndex:function(){var t=arguments,a=this;return(0,n.default)((0,c.default)().mark((function e(){var i;return(0,c.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.length>0&&void 0!==t[0]&&t[0],e.next=3,a.getDetail();case 3:a.$util.setNavigationBarColor({bg:a.primaryColor}),a.isLoad=!0,i||a.$jweixin.hideOptionMenu();case 6:case"end":return e.stop()}}),e)})))()},initRefresh:function(){this.initIndex(!0)},getDetail:function(){var t=this;return(0,n.default)((0,c.default)().mark((function a(){var e,i,s,n,l,r,_,v,o,p,u,d,m,f,h,w,C,g,x,b,y,k,$,T,S;return(0,c.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.options.id,a.next=3,t.$api.technician.coachCommissionInfo({id:e});case 3:i=a.sent,s=i.coach_cash,n=i.true_car_price,l=i.total_share_cash,r=i.init_material_price,_=i.init_service_price,v=i.refund_price,o=i.coach_balance,i.material_price,p=i.material_type,u=void 0===p?0:p,d=i.coupon_bear_type,m=void 0===d?0:d,f=i.discount,h=i.car_admin,w=void 0===h?0:h,C=i.refund_comm_cash,g=void 0===C?0:C,x=i.refund_empty_cash,b=void 0===x?0:x,0,i.order_goods.map((function(t){t.true_total_price=t.price*t.num,1*t.refund_num>0&&t.price*t.num})),y=1*g>0?"-".concat(g):"",1*b>0&&(y+="-".concat(b)),i.coach_text=2===m?"":0===u?"(".concat(_,"+").concat(r,"-").concat(i.material_price,"-").concat(f,"-").concat(v).concat(y,")*").concat(o,"%"):"(".concat(_,"+").concat(r,"-").concat(f,"-").concat(v).concat(y,")*").concat(o,"%-").concat(i.material_price),k=0,$="",i.add_order.map((function(t,a){k+=1*t.coach_cash;var e=1*t.refund_comm_cash>0?"-".concat(t.refund_comm_cash):"";t.add_coach_text=0===u?"(".concat(t.init_service_price,"+").concat(t.init_material_price,"-").concat(t.material_price,"-").concat(t.refund_price).concat(e,")*").concat(t.coach_balance,"%-").concat(t.total_share_cash):"(".concat(t.init_service_price,"+").concat(t.init_material_price,"-").concat(t.refund_price).concat(e,")*").concat(t.coach_balance,"%-").concat(t.material_price,"-").concat(t.total_share_cash),$+="".concat(0==a?"":"+").concat(t.coach_cash)})),k=k.toFixed(2),i.add_coach_cash=k,i.add_coach_text=$,T="".concat(s),i.add_order&&i.add_order.length>0&&(T+="+".concat(k)),1*l>0&&(T+="-".concat(l)),w||(T+="+".concat(n)),i.total_order_text=T,S=1*s+1*k+1*n-1*l,i.total_order_cash=S.toFixed(2),t.detail=i;case 24:case"end":return a.stop()}}),a)})))()},toShow:function(){var t=this.detail,a=t.coupon_bear_type,e=t.refund_comm_cash,i=void 0===e?0:e,s=t.refund_empty_cash,c=void 0===s?0:s;2!==a&&(this.empty_comm_text=1*i>0?" - 退款手续费":"",1*c>0&&(this.empty_comm_text+=" - 空单费"),this.$refs.show_rule_item.open())},toShowAddRule:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.empty_comm_text=1*t>0?" - 退款手续费":"",this.$refs.show_add_rule_item.open()}})};a.default=r},"81a5":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.detail.id?e("v-uni-view",{staticClass:"technician-commission-detail pt-md",style:{background:t.pageColor}},[e("v-uni-view",{staticClass:"pd-lg fill-base"},[e("v-uni-view",{staticClass:"flex-y-center f-mini-title c-title"},[e("v-uni-view",{staticClass:"dot mr-sm radius",style:{background:t.primaryColor}}),t._v("订单号"),e("v-uni-view",{staticClass:"ml-sm"},[t._v(t._s(t.detail.order_code))])],1),e("v-uni-view",{staticClass:"f-mini-title c-title text-bold mt-lg"},[t._v("项目明细")]),t._l(t.detail.order_goods,(function(a,i){return e("v-uni-view",{key:i,staticClass:"flex-between f-paragraph",class:[{"mt-lg":0==i},{"mt-md":0!=i}]},[e("span",{staticClass:"c-paragraph max-500"},[t._v(t._s(a.goods_name)),e("span",{staticClass:"ml-md"},[t._v("x"+t._s(a.num))]),1*a.refund_num>0?e("span",{staticClass:"ml-md c-warning"},[t._v("已退x"+t._s(a.refund_num))]):t._e()]),e("v-uni-view",{staticClass:"c-title"},[t._v("¥"+t._s(a.true_total_price))])],1)})),e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("服务时间")]),e("v-uni-view",{staticClass:"c-caption"},[t._v(t._s(t.detail.time_text))])],1),e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("项目总金额")]),e("v-uni-view",{staticClass:"c-title"},[t._v("¥"+t._s(t.detail.init_service_price))])],1),e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v(t._s(t.$t("action.materialText")))]),e("v-uni-view",{staticClass:"c-title flex-y-center"},[t._v("¥"+t._s(t.detail.material_price)),1*t.detail.init_material_price>1*t.detail.material_price?e("v-uni-view",{staticClass:"ml-sm c-caption text-delete"},[t._v("¥"+t._s(t.detail.init_material_price))]):t._e()],1)],1),e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("卡券优惠")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.discount))])],1),e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("退款金额")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.refund_price))])],1),1*t.detail.refund_comm_cash>0?e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("退款手续费")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.refund_comm_cash))])],1):t._e(),1*t.detail.refund_empty_cash>0?e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("空单费")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.refund_empty_cash))])],1):t._e(),e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg mb-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("分成比例")]),e("v-uni-view",{staticClass:"c-title"},[t._v(t._s(t.detail.coach_balance)+"%")])],1),e("v-uni-view",{staticClass:"flex-between pt-lg b-1px-t"},[e("v-uni-view",{staticClass:"f-paragraph c-paragraph flex-y-center",on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.toShow.apply(void 0,arguments)}}},[t._v("应得收益"),2!==t.detail.coupon_bear_type?e("i",{staticClass:"iconfont iconwentifankui3 ml-sm"}):t._e()]),e("span",{staticClass:"max-500",staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.detail.coach_text?t.detail.coach_text+" =":"")),e("span",{staticClass:"f-caption ml-sm",style:{color:t.primaryColor}},[t._v("¥"),e("span",{staticClass:"f-mini-title"},[t._v(t._s(t.detail.coach_cash))])])])],1)],2),t.detail.add_order&&t.detail.add_order.length>0?e("v-uni-view",{staticClass:"mt-md pd-lg fill-base"},[e("v-uni-view",{staticClass:"f-mini-title c-title text-bold"},[t._v("加钟明细")]),t._l(t.detail.add_order,(function(a,i){return[t._l(a.order_goods,(function(a,s){return e("v-uni-view",{key:s+"_"+i+"_0",staticClass:"flex-between f-paragraph",class:[{"mt-lg":0==s},{"mt-md":0!=s}]},[e("span",{staticClass:"c-paragraph max-500"},[t._v(t._s(a.goods_name)+t._s(0==s?" (第"+(1*i+1)+"次加钟)":"")),e("span",{staticClass:"ml-md"},[t._v("x"+t._s(a.num))]),1*a.refund_num>0?e("span",{staticClass:"ml-md c-warning"},[t._v("已退x"+t._s(a.refund_num))]):t._e()]),e("v-uni-view",{staticClass:"c-title"},[t._v("¥"+t._s(a.price))])],1)})),e("v-uni-view",{key:i+"_1",staticClass:"flex-between f-paragraph mt-lg mb-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("项目总金额")]),e("v-uni-view",{staticClass:"c-title"},[t._v("¥"+t._s(a.init_service_price))])],1),e("v-uni-view",{key:i+"_2",staticClass:"flex-between f-paragraph mt-lg mb-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v(t._s(t.$t("action.materialText")))]),e("v-uni-view",{staticClass:"c-title flex-y-center"},[t._v("¥"+t._s(a.material_price)),1*a.init_material_price>1*a.material_price?e("v-uni-view",{staticClass:"ml-sm c-caption text-delete"},[t._v("¥"+t._s(a.init_material_price))]):t._e()],1)],1),e("v-uni-view",{key:i+"_3",staticClass:"flex-between f-paragraph mt-lg mb-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("退款金额")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(a.refund_price))])],1),1*a.refund_comm_cash>0?e("v-uni-view",{key:i+"_4",staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("退款手续费")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(a.refund_comm_cash))])],1):t._e(),e("v-uni-view",{key:i+"_5",staticClass:"flex-between f-paragraph mt-lg mb-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("分成比例")]),e("v-uni-view",{staticClass:"c-title"},[t._v(t._s(a.coach_balance)+"%")])],1),e("v-uni-view",{key:i+"_6",staticClass:"flex-between f-paragraph mt-lg mb-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("分摊扣费")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(a.total_share_cash))])],1),e("v-uni-view",{key:i+"_7",staticClass:"flex-between f-paragraph mt-lg mb-lg"},[e("v-uni-view",{staticClass:"f-paragraph c-paragraph flex-y-center",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toShowAddRule(1*a.refund_comm_cash)}}},[t._v("应得收益"),e("i",{staticClass:"iconfont iconwentifankui3 ml-sm"})]),e("span",{staticClass:"max-500",staticStyle:{"word-break":"break-all"}},[t._v(t._s(a.add_coach_text+" =")),e("span",{staticClass:"f-caption ml-sm",style:{color:t.primaryColor}},[t._v("¥"),e("span",{staticClass:"f-mini-title"},[t._v(t._s(a.coach_cash))])])])],1)]})),e("v-uni-view",{staticClass:"flex-between pt-lg b-1px-t"},[e("v-uni-view",{staticClass:"f-paragraph c-paragraph flex-y-center"},[t._v("加钟收益")]),e("span",{staticClass:"max-500",staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.detail.add_order.length>1?t.detail.add_coach_text+" =":"")),e("span",{staticClass:"f-caption",class:[{"ml-sm":t.detail.add_order.length>1}],style:{color:t.primaryColor}},[t._v("¥"),e("span",{staticClass:"f-mini-title"},[t._v(t._s(t.detail.add_coach_cash))])])])],1)],2):t._e(),1*t.detail.total_share_cash>0?e("v-uni-view",{staticClass:"mt-md pd-lg fill-base"},[e("v-uni-view",{staticClass:"f-mini-title c-title text-bold"},[t._v("扣费明细")]),1*t.detail.partner_share_cash>0?e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("经纪人扣款")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.partner_share_cash))])],1):t._e(),1*t.detail.channel_share_cash>0?e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("渠道扣款")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.channel_share_cash))])],1):t._e(),1*t.detail.salesman_share_cash>0?e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("业务扣款")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.salesman_share_cash))])],1):t._e(),1*t.detail.reseller_share_cash>0?e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("一级分销员扣款")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.reseller_share_cash))])],1):t._e(),1*t.detail.level_reseller_share_cash>0?e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("二级分销员扣款")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.level_reseller_share_cash))])],1):t._e(),2===t.detail.pay_model&&1*t.detail.coach_balance_cash>0?e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("储值扣款")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.coach_balance_cash))])],1):t._e(),1*t.detail.coupon_share_cash>0?e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("卡券扣款")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.coupon_share_cash))])],1):t._e(),1*t.detail.poster_cash>0?e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("广告费")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.poster_cash))])],1):t._e(),1*t.detail.point_cash>0?e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("手续费")]),e("v-uni-view",{staticClass:"c-title"},[t._v("-¥"+t._s(t.detail.point_cash))])],1):t._e(),e("v-uni-view",{staticClass:"flex-between mt-lg pt-lg b-1px-t"},[e("v-uni-view",{staticClass:"f-paragraph c-paragraph"},[t._v("合计扣费")]),e("v-uni-view",{staticClass:"flex-y-center f-caption c-warning"},[t._v("¥"),e("v-uni-view",{staticClass:"f-mini-title"},[t._v(t._s(t.detail.total_share_cash))])],1)],1)],1):t._e(),t.detail.car_admin?t._e():e("v-uni-view",{staticClass:"mt-md pd-lg fill-base"},[e("v-uni-view",{staticClass:"f-mini-title c-title text-bold"},[t._v("车费明细")]),e("v-uni-view",{staticClass:"flex-between f-paragraph mt-lg"},[e("v-uni-view",{staticClass:"c-paragraph"},[t._v("车费收益")]),e("v-uni-view",{staticClass:"c-title text-bold",style:{color:t.primaryColor}},[t._v("¥"+t._s(t.detail.true_car_price))])],1)],1),e("v-uni-view",{staticClass:"space-max-footer"}),e("fixed",{attrs:{position:"bottom"}},[e("v-uni-view",{staticClass:"pd-lg fill-base flex-between f-paragraph",staticStyle:{width:"100%"}},[e("v-uni-view",{staticClass:"f-mini-title c-title text-bold"},[t._v("实际收益")]),e("span",{staticClass:"max-500 c-warning",staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.detail.total_order_text+" =")),e("span",{staticClass:"f-caption text-bold ml-sm"},[t._v("¥"),e("span",{staticClass:"f-mini-title"},[t._v(t._s(t.detail.total_order_cash))])])])],1),e("v-uni-view",{staticClass:"space-safe fill-base"})],1),e("uni-popup",{ref:"show_rule_item",attrs:{type:"center",maskClick:!1,zIndex:999}},[e("v-uni-view",{staticClass:"common-popup-content fill-base pd-lg radius-34"},[e("v-uni-view",{staticClass:"title"},[t._v("应得收益")]),e("v-uni-view",{staticClass:"f-desc c-title mt-lg"},[0===t.detail.material_type?[t._v("应得收益 = (项目总金额 + 原"+t._s(t.$t("action.materialText"))+" - 实付"+t._s(t.$t("action.materialText"))+" - 卡券优惠 -\n\t\t\t\t\t退款金额"+t._s(t.empty_comm_text)+") * 分成比例")]:[t._v("应得收益 = (项目总金额 + 原"+t._s(t.$t("action.materialText"))+" - 卡券优惠 - 退款金额"+t._s(t.empty_comm_text)+") * 分成比例 -\n\t\t\t\t\t实付"+t._s(t.$t("action.materialText")))]],2),e("v-uni-view",{staticClass:"button"},[e("v-uni-view",{staticClass:"item-child c-base",style:{background:t.primaryColor,color:"#fff"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.$refs.show_rule_item.close()}}},[t._v("知道了")])],1)],1)],1),e("uni-popup",{ref:"show_add_rule_item",attrs:{type:"center",maskClick:!1,zIndex:999}},[e("v-uni-view",{staticClass:"common-popup-content fill-base pd-lg radius-34"},[e("v-uni-view",{staticClass:"title"},[t._v("加钟收益")]),e("v-uni-view",{staticClass:"f-desc c-title mt-lg"},[1*t.detail.material_type===0?[t._v("应得收益 = (项目总金额 + 原"+t._s(t.$t("action.materialText"))+" - 实付"+t._s(t.$t("action.materialText"))+" -\n\t\t\t\t\t退款金额"+t._s(t.empty_comm_text)+") *\n\t\t\t\t\t分成比例 - 分摊扣费")]:[t._v("应得收益 = (项目总金额 + 原"+t._s(t.$t("action.materialText"))+" - 退款金额"+t._s(t.empty_comm_text)+") * 分成比例 -\n\t\t\t\t\t实付"+t._s(t.$t("action.materialText"))+" - 分摊扣费")]],2),e("v-uni-view",{staticClass:"button"},[e("v-uni-view",{staticClass:"item-child c-base",style:{background:t.primaryColor,color:"#fff"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.$refs.show_add_rule_item.close()}}},[t._v("知道了")])],1)],1)],1)],1):t._e()},s=[]},e9d1:function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.technician-commission-detail .dot[data-v-6cf85ffa]{width:%?14?%;height:%?14?%}',""]),t.exports=a},eb97:function(t,a,e){var i=e("e9d1");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("967d").default;s("539770a9",i,!0,{sourceMap:!1,shadowMode:!1})}}]);