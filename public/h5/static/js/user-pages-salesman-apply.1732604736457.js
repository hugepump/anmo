(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-pages-salesman-apply"],{3257:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoad?a("v-uni-view",{staticClass:"apply-pages",style:{background:t.options.admin_id&&-1!=t.salesman_status||!t.options.admin_id&&[1,2,3].includes(t.salesman_status)?"":t.pageColor}},[t.options.admin_id&&-1!=t.salesman_status||!t.options.admin_id&&[1,2,3].includes(t.salesman_status)?a("v-uni-view",{staticClass:"page-height"},[a("abnor",{attrs:{percent:"150%",title:t.title[t.salesman_status],tip:t.tipArr[t.salesman_status],button:t.buttonArr[t.salesman_status],image:t.image[t.salesman_status],tipMax:4==t.salesman_status?"690rpx":""},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.$util.goUrl({url:"/pages/mine",openType:"reLaunch"})}}})],1):[a("v-uni-view",{staticClass:"apply-form pt-md"},[a("v-uni-view",{staticClass:"fill-base radius-16"},[a("v-uni-view",{staticClass:"flex-between pl-lg pr-lg b-1px-b"},[a("v-uni-view",{staticClass:"item-text"},[t._v("您的姓名")]),a("v-uni-input",{staticClass:"item-input flex-1",attrs:{type:"text",maxlength:"20",placeholder:t.rule[0].errorMsg},model:{value:t.form.user_name,callback:function(e){t.$set(t.form,"user_name",e)},expression:"form.user_name"}})],1),a("v-uni-view",{staticClass:"flex-between pl-lg pr-lg b-1px-b"},[a("v-uni-view",{staticClass:"item-text"},[t._v("真实姓名")]),a("v-uni-input",{staticClass:"item-input flex-1",attrs:{type:"text",maxlength:"10",placeholder:t.rule[1].errorMsg},model:{value:t.form.true_user_name,callback:function(e){t.$set(t.form,"true_user_name",e)},expression:"form.true_user_name"}})],1),a("v-uni-view",{staticClass:"flex-between pl-lg pr-lg b-1px-b"},[a("v-uni-view",{staticClass:"item-text"},[t._v("手机号码")]),a("v-uni-input",{staticClass:"item-input flex-1",attrs:{type:"text",placeholder:t.rule[2].errorMsg},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1)],1),a("v-uni-view",{staticClass:"space-max-footer"}),a("fix-bottom-button",{attrs:{text:[{text:"确定申请",type:"confirm",isAuth:!0}],bgColor:"#fff"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}})]],2):t._e()},i=[]},"7c66":function(t,e,a){"use strict";a.r(e);var n=a("ba65"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},a01f:function(t,e,a){"use strict";a.r(e);var n=a("3257"),i=a("7c66");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);var s=a("828b"),u=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"4cabf8be",null,!1,n["a"],void 0);e["default"]=u.exports},ba65:function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("fd3c");var i=n(a("9b1b")),r=n(a("2634")),s=n(a("2fdc")),u=a("8f59"),o={components:{},data:function(){return{isLoad:!1,options:{},tipArr:{1:[{text:"您已经成功提交申请",color:0},{text:"审核将在3个工作日内出结果，请耐心等待",color:0}],2:[{text:"恭喜您，审核通过！",color:0},{text:"您已具备业务员资格，快去分享体验吧~",color:0}],3:[{text:"请联系平台管理人员询问原因",color:0}],4:[{text:"请联系平台管理人员询问失败原因",color:0}]},buttonArr:{1:[{text:"个人中心",type:"cancel"}],2:[{text:"去分享",type:"confirm"}],3:[{text:"个人中心",type:"cancel"}],4:[{text:"再次申请",type:"confirm"},{text:"个人中心",type:"cancel"}]},title:{"-1":"申请业务员",1:"等待审核",2:"",3:"取消授权",4:"申请失败"},image:{1:"https://lbqny.migugu.com/admin/public/apply_wait.png",2:"https://lbqny.migugu.com/admin/public/apply_suc.png",3:"https://lbqny.migugu.com/admin/public/apply_fail.png",4:"https://lbqny.migugu.com/admin/public/apply_fail.png"},salesman_status:-1,form:{id:0,admin_id:0,user_name:"",true_user_name:"",phone:""},rule:[{name:"user_name",checkType:"isNotNull",errorMsg:"请输入您的姓名",regType:2},{name:"true_user_name",checkType:"isNotNull",errorMsg:"请输入您的真实姓名",regType:2},{name:"phone",checkType:"isMobile",errorMsg:"请输入常用手机号码"}],lockTap:!1}},computed:(0,u.mapState)({configInfo:function(t){return t.config.configInfo}}),onLoad:function(t){var e=this;return(0,s.default)((0,r.default)().mark((function a(){var n,i,s,u;return(0,r.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$util.showLoading(),n=t.admin_id,i=void 0===n?0:n,t.admin_id=1*i,e.options=t,e.form.admin_id=i,a.next=7,e.initIndex();case 7:e.scanRecordId&&e.updateScanRecord(),s=e.title,u=e.salesman_status,uni.setNavigationBarTitle({title:s[u]}),e.isLoad=!0,e.$jweixin.hideOptionMenu();case 12:case"end":return a.stop()}}),a)})))()},methods:(0,i.default)((0,i.default)((0,i.default)({},(0,u.mapActions)(["getConfigInfo","getUserInfo","addScanRecord","updateScanRecord"])),(0,u.mapMutations)(["updateUserItem"])),{},{initIndex:function(){var t=arguments,e=this;return(0,s.default)((0,r.default)().mark((function a(){var n,i,s,u,o,l,c,p;return(0,r.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.length>0&&void 0!==t[0]&&t[0],n=e.options.admin_id,i=void 0===n?0:n,e.scanRecordId,s=e.$util.getQueryString("code"),i&&!s&&e.addScanRecord({type:5,qr_id:i}),a.next=7,e.getConfigInfo();case 7:return a.next=9,e.$api.salesman.salesmanInfo();case 9:if(u=a.sent,e.$util.setNavigationBarColor({bg:e.primaryColor}),u&&(!u||u.id)){a.next=14;break}return e.$util.hideAll(),a.abrupt("return");case 14:for(o in i&&(u.admin_id=i),e.form)e.form[o]=u[o];l=u.status,c=u.sh_text,p=i||4!=l?l:-1,e.salesman_status=p,4==p&&c&&(e.tipArr[4][0].text=c),e.$util.hideAll();case 21:case"end":return a.stop()}}),a)})))()},initRefresh:function(){this.initIndex(!0)},confirm:function(){var t=this;return(0,s.default)((0,r.default)().mark((function e(){var a;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.salesman_status,4!=a){e.next=5;break}return t.salesman_status=-1,uni.setNavigationBarTitle({title:"申请业务员"}),e.abrupt("return");case 5:t.$util.goUrl({url:"/user/pages/salesman/income",openType:"reLaunch"});case 6:case"end":return e.stop()}}),e)})))()},validate:function(t){var e=new this.$util.Validate;this.rule.map((function(a){var n=a.name;e.add(t[n],a)}));var a=e.start();return a},submit:function(){var t=this;return(0,s.default)((0,r.default)().mark((function e(){var a,n,i;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.$util.deepCopy(t.form),n=t.validate(a),!n){e.next=5;break}return t.$util.showToast({title:n}),e.abrupt("return");case 5:if(i=t.options.admin_id,i&&(a.admin_id=i),!t.lockTap){e.next=9;break}return e.abrupt("return");case 9:return t.lockTap=!0,t.$util.showLoading(),e.prev=11,e.next=14,t.$api.salesman.applySalesman(a);case 14:t.$util.hideAll(),t.$util.showToast({title:"提交成功"}),setTimeout((function(){t.$util.back(),t.$util.goUrl({url:"/user/pages/apply-result?type=4",openType:"redirectTo"})}),1e3),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](11),setTimeout((function(){t.lockTap=!1,t.$util.hideAll()}),2e3);case 22:case"end":return e.stop()}}),e,null,[[11,19]])})))()}})};e.default=o}}]);