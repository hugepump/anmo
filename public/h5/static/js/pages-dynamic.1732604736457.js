(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-dynamic"],{2435:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"custom-tabbar fix flex-center fill-base b-1px-t"},t._l(t.configInfo.tabBar,(function(e,a){return n("v-uni-view",{key:a,staticClass:"flex-center flex-column mt-sm",style:{width:100/t.configInfo.tabBar.length+"%",color:e.default_img.includes("https://")?"#252324":t.cur==e.id?t.primaryColor:e.selected_img==e.default_img?"#BCCAD9":"#666"},on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.changeTab(e)}}},[e.default_img.includes("https://")?n("v-uni-image",{staticClass:"item-img",attrs:{src:t.cur==e.id?e.selected_img:e.default_img}}):n("i",{staticClass:"iconfont",class:t.cur==e.id?e.selected_img:e.default_img}),n("v-uni-view",{staticClass:"text",class:[{"text-bold":t.cur==e.id&&e.default_img.includes("https://")}]},[t._v(t._s(e.name))])],1)})),1)},i=[]},"24e5":function(t,e,n){"use strict";var a=n("71c8"),i=n.n(a);i.a},"334a":function(t,e,n){"use strict";n.r(e);var a=n("2435"),i=n("e724");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("24e5");var o=n("828b"),c=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"25101552",null,!1,a["a"],void 0);e["default"]=c.exports},3563:function(t,e,n){"use strict";var a=n("516f"),i=n.n(a);i.a},"3ebf":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"pages-dynamic",style:{background:t.pageColor}},[t.isLoad?[t.configInfo.plugAuth.dynamic?[n("fixed",[n("v-uni-view",{staticClass:"fix-info rel",style:{background:t.pageColor}},[n("v-uni-view",{staticClass:"search-info fill-base pt-lg pl-lg pr-lg pb-md abs"},[n("v-uni-view",{staticClass:"flex-center pb-md"},[1==t.coach_status&&t.configInfo.web_coach_port?n("v-uni-view",{staticClass:"dynamic-btn flex-center f-caption mr-lg radius",style:{color:t.primaryColor,border:"1rpx solid "+t.primaryColor},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.$refs.show_item.open()}}},[n("i",{staticClass:"iconfont icon-jia-bold"}),t._v("发动态")]):t._e(),n("v-uni-view",{staticClass:"flex-1"},[n("search",{attrs:{type:"input",padding:0,radius:30,backgroundColor:"#F0F0F0",placeholder:"请输入"+t.$t("action.attendantName")+"姓名"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.toSearch.apply(void 0,arguments)}}})],1)],1),n("tab",{attrs:{list:t.tabList,activeIndex:1*t.activeIndex,activeColor:t.primaryColor,width:"50%",height:"90rpx",fontSize:"28rpx",numberType:2,lineClass:"sm"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.handerTabChange.apply(void 0,arguments)}}})],1)],1)],1),n("v-uni-view",{staticClass:"space-md"}),t.list.data.length>0?n("wfalls-flow",{ref:"dynamic_wfalls",attrs:{list:t.list.data,path:1}}):t._e(),t.loading?n("load-more",{attrs:{noMore:t.list.current_page>=t.list.last_page&&t.list.data.length>0,loading:t.loading}}):t._e(),!t.loading&&t.list.data.length<=0&&1==t.list.current_page?[t.location.lat&&t.location.lng?n("abnor",{attrs:{percent:"calc(100vh - 244rpx - calc(98rpx + env(safe-area-inset-bottom) / 2))"}}):t._e(),t.location.lat||t.location.lng?t._e():[n("abnor",{attrs:{type:"NOT_LOCATION",title:"暂无数据",percent:"calc(100vh - 244rpx - calc(98rpx + env(safe-area-inset-bottom) / 2))"}})]]:[n("v-uni-view",{staticClass:"space-footer"}),n("v-uni-view",{style:{height:t.configInfo.tabbarHeight+"px"}})]]:[n("abnor",{attrs:{type:"NOT_AUTH"}})],n("longbingbing-tabbar",{attrs:{cur:3}}),n("uni-popup",{ref:"show_item",attrs:{type:"bottom"}},[n("v-uni-view",{staticClass:"show-popup pd-lg"},[n("v-uni-view",{staticClass:"show-item flex-center f-paragraph mt-md radius-16",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toAddDynamic(1)}}},[t._v("发布图片")]),n("v-uni-view",{staticClass:"show-item flex-center f-paragraph mt-md radius-16",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toAddDynamic(2)}}},[t._v("发布视频")]),n("v-uni-view",{staticClass:"show-item flex-center f-paragraph mt-md radius-16",style:{color:t.primaryColor},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.$refs.show_item.close()}}},[t._v("取消")]),n("v-uni-view",{staticClass:"space-safe"})],1)],1),n("longbingbing-change-user-type")]:t._e()],2)},i=[]},"516f":function(t,e,n){var a=n("6786");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("4c1398dc",a,!0,{sourceMap:!1,shadowMode:!1})},6526:function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.wf-list-container[data-v-14000720]{display:flex;justify-content:space-between;align-items:flex-start;padding:0 %?20?%}.wf-list[data-v-14000720]{width:calc(50% - %?10?%);display:flex;flex-direction:column}.wf-item-child[data-v-14000720]{background:#fff;margin-bottom:%?20?%;border-radius:%?16?%;overflow:hidden}.wf-item-child .examin-btn[data-v-14000720]{top:%?20?%;left:%?15?%;width:%?89?%;height:%?37?%;z-index:1}.wf-item-child .play-video-info[data-v-14000720]{top:%?0?%;width:100%;height:calc(100% - %?128?%);z-index:9}.wf-item-child .play-video-info .play-video[data-v-14000720]{width:%?66?%;height:%?66?%;background:rgba(2,2,2,.5)}.wf-item-child .play-video-info .play-video .iconfont[data-v-14000720]{font-size:%?28?%}.cover[data-v-14000720]{width:100%;height:%?100?%}.wf-item[data-v-14000720]{padding:%?20?%}.wf-item .avatar[data-v-14000720]{width:%?40?%;height:%?40?%;border-radius:%?40?%;margin-right:%?6?%}.wf-item .coach[data-v-14000720]{max-width:%?100?%}.wf-item .iconfont[data-v-14000720]{font-size:%?24?%}',""]),t.exports=e},6786:function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.pages-dynamic .fix-info[data-v-0607ae3a]{height:%?225?%}.pages-dynamic .fix-info .space-top[data-v-0607ae3a]{width:100%;height:%?40?%;top:0}.pages-dynamic .fix-info .search-info[data-v-0607ae3a]{width:100%;top:0;border-radius:%?40?%}.pages-dynamic .fix-info .search-info .dynamic-btn[data-v-0607ae3a]{width:%?134?%;height:%?56?%;-webkit-transform:rotate(1turn);transform:rotate(1turn)}.pages-dynamic .fix-info .search-info .dynamic-btn .iconfont[data-v-0607ae3a]{font-size:%?24?%;margin-right:%?6?%}.pages-dynamic .show-popup[data-v-0607ae3a]{width:%?750?%;background:#f3f3f5;border-radius:%?30?% %?30?% 0 0}.pages-dynamic .show-popup .avatar[data-v-0607ae3a]{width:%?84?%;height:%?84?%}.pages-dynamic .show-popup .show-item[data-v-0607ae3a]{color:#222;height:%?100?%;background:#fff}',""]),t.exports=e},"6c54":function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("2634")),r=a(n("2fdc")),o=a(n("9b1b"));n("64aa"),n("473f"),n("bf0f"),n("5c47"),n("aa9c"),n("c223");var c=n("8f59"),s={props:{list:{type:Array},path:{type:String||Number},follow:{type:Boolean,default:function(){return!1}},thumbsObj:{type:Object,default:function(){return{}}}},data:function(){return{viewList:[{list:[]},{list:[]}],everyNum:2}},mounted:function(){this.list.length>0&&this.init()},computed:(0,c.mapState)({}),methods:(0,o.default)((0,o.default)({},(0,c.mapActions)()),{},{init:function(){var t=this;this.viewList=[{list:[]},{list:[]}],setTimeout((function(){t.handleViewRender(0,0)}),500)},handleViewRender:function(t,e){var n=this,a=this.viewList.reduce((function(t,e){return t+e.list.length}),0);if(console.log(a,"====index"),a>this.list.length-1)this.$emit("finishLoad",a);else{var i=uni.createSelectorQuery().in(this),r=0;i.selectAll("#wf-list").boundingClientRect((function(t){r=t[0].bottom-t[1].bottom<=0?0:1,console.log(t,"======wf-list data",r),n.viewList[r].list.push(n.list[a])})).exec()}},goDetail:function(t,e){var n=this;return(0,r.default)((0,i.default)().mark((function a(){var r,o,c,s;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=n.viewList[t].list[e].id,o=n.path,c=1==o?"":"technician/",s="/dynamic/pages/".concat(c,"detail?id=").concat(r),n.$util.goUrl({url:s});case 5:case"end":return a.stop()}}),a)})))()},toCollect:function(t){this.$emit("collect",t)}})};e.default=s},"6df1":function(t,e,n){"use strict";n.r(e);var a=n("808c"),i=n("e54c");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("fa23");var o=n("828b"),c=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"14000720",null,!1,a["a"],void 0);e["default"]=c.exports},"71c8":function(t,e,n){var a=n("b542");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("49682afc",a,!0,{sourceMap:!1,shadowMode:!1})},"7c7f":function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("9b1b")),r=a(n("2634")),o=a(n("2fdc"));n("64aa"),n("5c47"),n("8f71"),n("bf0f");var c=n("8f59"),s={components:{},props:{cur:{type:Number,default:function(){return 0}}},data:function(){return{}},computed:(0,c.mapState)({configInfo:function(t){return t.config.configInfo},userPageType:function(t){return t.user.userPageType},activeIndex:function(t){return t.order.activeIndex}}),mounted:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){var n,a,i;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t,a=uni.getSystemInfoSync().windowHeight,i=n.configInfo.navBarHeight,setTimeout((function(){var e=uni.createSelectorQuery().in(n);e.select(".custom-tabbar").boundingClientRect((function(e){var r=a-e.height-i,o=n.$util.deepCopy(t.configInfo);o.curSysHeight=r,o.tabbarHeight=e.height,n.updateConfigItem({key:"configInfo",val:o})})).exec()}),500);case 4:case"end":return e.stop()}}),e)})))()},methods:(0,i.default)((0,i.default)((0,i.default)({},(0,c.mapActions)(["getConfigInfo"])),(0,c.mapMutations)(["updateConfigItem"])),{},{changeTab:function(t){var e=this;return(0,o.default)((0,r.default)().mark((function n(){var a,i,o,c,s,u,l,d,f,p;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.id){n.next=5;break}return n.next=3,e.getConfigInfo();case 3:a=e.configInfo.tabBar.filter((function(e){return e.name==t.name})),t=a[0];case 5:if(i=t,o=i.id,c=e.activeIndex,s=e.cur,u=e.userPageType,l={1:"/pages/service",2:"/pages/technician",3:"/pages/dynamic",4:"/pages/order?tab=".concat(c),5:"/pages/mine?type=".concat(u),6:"/pages/shopstore",7:"/pages/map"},o!=s){n.next=10;break}return n.abrupt("return");case 10:if(d=getCurrentPages(),f=d[d.length-1].loading,p=void 0!==f&&f,5==o||!p){n.next=14;break}return n.abrupt("return");case 14:e.$util.goUrl({url:l[o],openType:"reLaunch"});case 15:case"end":return n.stop()}}),n)})))()}})};e.default=s},"7f3b":function(t,e,n){"use strict";n.r(e);var a=n("dd10"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"808c":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"wf-list-container"},t._l(t.viewList,(function(e,a){return n("v-uni-view",{key:a,staticClass:"wf-list",attrs:{id:"wf-list"}},t._l(e.list,(function(e,i){return n("v-uni-view",{key:i,staticClass:"wf-item-child rel",attrs:{"data-id":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDetail(a,i)}}},[2==t.path&&2!=e.status?n("v-uni-view",{staticClass:"examin-btn flex-center f-icontext c-base radius abs",style:{background:1==e.status?"#FC8218":"#FF6262"}},[t._v(t._s(1==e.status?"审核中":"已驳回"))]):t._e(),n("v-uni-image",{staticClass:"cover",attrs:{mode:"widthFix",id:"id"+e.id,src:e.cover},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.handleViewRender.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.handleViewRender.apply(void 0,arguments)}}}),2==e.type?n("v-uni-view",{staticClass:"play-video-info flex-center c-base abs"},[n("v-uni-view",{staticClass:"play-video flex-center c-base radius"},[n("i",{staticClass:"iconfont icon-play-video"})])],1):t._e(),n("v-uni-view",{staticClass:"wf-item"},[n("v-uni-view",{staticClass:"f-desc c-black text-bold"},[t._v(t._s(e.title))]),n("v-uni-view",{staticClass:"flex-between mt-sm"},[n("v-uni-view",{staticClass:"flex-center"},[n("v-uni-image",{staticClass:"avatar",attrs:{mode:"aspectFill",src:e.work_img}}),n("v-uni-view",{staticClass:"coach f-caption c-desc ellipsis"},[t._v(t._s(e.coach_name))])],1),t.follow?n("v-uni-view",{staticClass:"flex-center pl-md pr-md",on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.toCollect(e.id)}}},[n("i",{staticClass:"iconfont ml-lg",class:[{iconshoucang1:!t.thumbsObj[e.id]},{iconshoucang2:t.thumbsObj[e.id]}],staticStyle:{"font-size":"28rpx"},style:{color:t.thumbsObj[e.id]?t.primaryColor:""}})]):n("v-uni-view",{staticClass:"flex-y-baseline f-caption c-desc"},[n("i",{staticClass:"iconfont iconjuli",style:{color:t.primaryColor}}),t._v(t._s(e.distance))])],1)],1)],1)})),1)})),1)},i=[]},"99baf":function(t,e,n){"use strict";n.r(e);var a=n("3ebf"),i=n("7f3b");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("3563");var o=n("828b"),c=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"0607ae3a",null,!1,a["a"],void 0);e["default"]=c.exports},b542:function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.custom-tabbar[data-v-25101552]{height:%?98?%;bottom:0;height:calc(%?98?% + env(safe-area-inset-bottom) / 2);padding-bottom:calc(env(safe-area-inset-bottom) / 2)}.custom-tabbar .item-img[data-v-25101552]{width:%?40?%;height:%?40?%}.custom-tabbar .iconfont[data-v-25101552]{font-size:%?40?%}.custom-tabbar .text[data-v-25101552]{font-size:%?22?%;margin-top:%?5?%;height:%?32?%}',""]),t.exports=e},c90f:function(t,e,n){var a=n("6526");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("5d298461",a,!0,{sourceMap:!1,shadowMode:!1})},dd10:function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("bd06"),n("c223");var i=a(n("9b1b")),r=a(n("2634")),o=a(n("2fdc")),c=n("8f59"),s=a(n("c57d")),u=a(n("334a")),l=a(n("6df1")),d={components:{longbingbingTabbar:u.default,wfallsFlow:l.default},data:function(){return{isLoad:!1,options:{},navTitle:"",loading:!0,lockTap:!1}},computed:(0,c.mapState)({pageActive:function(t){return t.dynamic.pageActive},haveOperItem:function(t){return t.dynamic.haveOperItem},activeIndex:function(t){return t.dynamic.activeIndex},tabList:function(t){return t.dynamic.tabList},param:function(t){return t.dynamic.param},list:function(t){return t.dynamic.list},coach_status:function(t){return t.dynamic.coach_status},configInfo:function(t){return t.config.configInfo},isGzhLogin:function(t){return t.user.isGzhLogin},haveShieldOper:function(t){return t.user.haveShieldOper}}),onLoad:function(t){var e=this;return(0,o.default)((0,r.default)().mark((function n(){var a,i;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.pid,i=void 0===a?0:a,t.pid=1*i,e.options=t,!e.pageActive||i){n.next=9;break}return e.isLoad=!0,e.loading=!1,e.$util.hideAll(),e.initNavTitle(),n.abrupt("return");case 9:return n.next=11,e.initIndex();case 11:e.updateDynamicItem({key:"pageActive",val:!0}),e.initNavTitle();case 13:case"end":return n.stop()}}),n)})))()},onShow:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){var n,a,i,o,c,s,u;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.initNavTitle(t.appShare?0:1),t.haveOperItem&&(t.initRefresh(),t.updateDynamicItem({key:"haveOperItem",val:!1})),!t.location.lat&&t.locaRefuse&&t.toResetUtilLoca(),n=t.userCoachStatus,a=n.status,i=void 0===a?0:a,o=n.coach_position,c=void 0===o?0:o,s=t.configInfo.realtime_location,u=void 0===s?0:s,1!=t.haveShieldOper){e.next=11;break}return e.next=8,t.initIndex();case 8:t.updateUserItem({key:"haveShieldOper",val:0}),e.next=12;break;case 11:t.pageActive&&!u&&c&&2==i&&t.$util.getCoachUtilLoca();case 12:case"end":return e.stop()}}),e)})))()},onPullDownRefresh:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showNavigationBarLoading(),e.next=3,t.initRefresh();case 3:uni.stopPullDownRefresh();case 4:case"end":return e.stop()}}),e)})))()},onReachBottom:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.list.current_page>=t.list.last_page||t.loading)){e.next=2;break}return e.abrupt("return");case 2:return t.param.page=t.param.page+1,t.loading=!0,e.next=6,t.getList();case 6:setTimeout((function(){t.$refs.dynamic_wfalls.handleViewRender()}),0);case 7:case"end":return e.stop()}}),e)})))()},onShareAppMessage:function(t){var e=this.userInfo.id,n=void 0===e?0:e,a="/pages/dynamic?pid=".concat(n);return this.$util.log(a),{title:"",imageUrl:"",path:a}},watch:{locaRefuse:function(t,e){t||this.toResetUtilLoca()}},methods:(0,i.default)((0,i.default)((0,i.default)({},(0,c.mapActions)(["getConfigInfo","getUserInfo","getDynamicIndex","getDynamicList","addScanRecord","updateScanRecord"])),(0,c.mapMutations)(["updateUserItem","updateServiceItem","updateTechnicianItem","updateMapItem","updateDynamicItem","updateShopstoreItem"])),{},{initIndex:function(){var t=arguments,e=this;return(0,o.default)((0,r.default)().mark((function n(){var a,i,o,c,s,u,l,d;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.length>0&&void 0!==t[0]&&t[0],i=e.options.pid,o=void 0===i?0:i,c=e.scanRecordId,c=e.$util.getQueryString("code"),o&&!c&&e.addScanRecord({type:2,qr_id:o,is_qr:0}),s=e.userInfo.id,u=void 0===s?0:s,!(!e.configInfo.id||a||o&&c&&!u)){n.next=9;break}return n.next=9,e.getConfigInfo();case 9:if(!o||c||u){n.next=12;break}return n.next=12,e.getUserInfo();case 12:if(!o||c||e.userInfo.id){n.next=14;break}return n.abrupt("return");case 14:if(l=e.configInfo.plugAuth.dynamic,d=void 0!==l&&l,d){n.next=20;break}return e.isLoad=!0,e.loading=!1,e.$util.hideAll(),n.abrupt("return");case 20:return n.next=22,e.getDynamicIndex();case 22:e.isNotLoca();case 23:case"end":return n.stop()}}),n)})))()},initRefresh:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.initIndex(!0);case 2:case"end":return e.stop()}}),e)})))()},initNavTitle:function(){var t=arguments,e=this;return(0,o.default)((0,r.default)().mark((function n(){var a,i,o,c;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=t.length>0&&void 0!==t[0]?t[0]:0,e.$util.setNavigationBarColor({bg:e.primaryColor}),i=e.configInfo.tabBar,i&&i.length>0&&(o=i.findIndex((function(t){return 3==t.id})),c=-1==o?"动态":i[o].name,e.navTitle=c,uni.setNavigationBarTitle({title:c}),e.scanRecordId&&e.updateScanRecord(),a||(e.$jweixin.initJssdk((function(){e.toAppShare()})),e.updateUserItem({key:"appShare",val:!1})));case 4:case"end":return n.stop()}}),n)})))()},toResetUtilLoca:function(){return(0,o.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},toOpenLocation:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.toConfirmOpenLoca();case 1:case"end":return e.stop()}}),e)})))()},toConfirmOpenLoca:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.initRefresh();case 1:case"end":return e.stop()}}),e)})))()},toAppShare:function(){var t=this.userInfo.id,e=void 0===t?0:t,n=this.navTitle,a=s.default.siteroot,i=a.split("/index.php")[0],r="".concat(i,"/h5/#/pages/dynamic?pid=").concat(e),o=this.configInfo.app_logo,c=o||"";this.$jweixin.showOptionMenu(),this.$jweixin.shareAppMessage(n,"",r,c),this.$jweixin.shareTimelineMessage(n,r,c)},handerTabChange:function(t){var e=this;return(0,o.default)((0,r.default)().mark((function n(){return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.updateDynamicItem({key:"activeIndex",val:t}),uni.pageScrollTo({scrollTop:0}),1!=t){n.next=5;break}return n.next=5,e.getDynamicIndex();case 5:return n.next=7,e.getList(1);case 7:case"end":return n.stop()}}),n)})))()},isNotLoca:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){var n,a,i,o,c,s;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.location,t.locaRefuse,a=t.userCoachStatus,i=a.status,o=void 0===i?0:i,c=a.coach_position,s=void 0===c?0:c,s&&2==o&&n.lat&&"暂未获取到位置信息"!=n.address&&t.updateUserItem({key:"isChangeCoachLoca",val:!0}),n.lat&&(!n.lat||"暂未获取到位置信息"!=n.address)){e.next=7;break}return e.next=6,t.$util.getUtilLocation();case 6:t.updateMapItem({key:"pageActive",val:!1});case 7:t.initUtilLocaData();case 8:case"end":return e.stop()}}),e)})))()},getUtilLocation:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$util.getUtilLocation();case 2:t.initUtilLocaData();case 3:case"end":return e.stop()}}),e)})))()},initUtilLocaData:function(){var t=this;return(0,o.default)((0,r.default)().mark((function e(){var n,a,i,o,c,s,u,l,d;return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getList(1);case 2:n=t.location,a=n.lat,i=void 0===a?0:a,o=n.lng,c=void 0===o?0:o,s=n.is_util_loca,u=void 0===s?0:s,l=n.isIp,d=void 0===l||l,i&&c&&u&&t.$util.getMapInfo(d);case 4:case"end":return e.stop()}}),e)})))()},toSearch:function(t){this.param.coach_name=t,this.getList(1)},getList:function(t){var e=this;return(0,o.default)((0,r.default)().mark((function n(){var a,i,o,c,s,u;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t&&(e.param.page=1,e.updateDynamicItem({key:"list",val:{data:[],last_page:1,current_page:1}})),a=e.location,i=a.lat,o=void 0===i?0:i,c=a.lng,s=void 0===c?0:c,e.list,u=Object.assign({},e.param,{lat:o,lng:s}),n.next=6,e.getDynamicList(u);case 6:e.isLoad=!0,e.loading=!1,e.$util.hideAll();case 9:case"end":return n.stop()}}),n)})))()},toAddDynamic:function(t){this.$refs.show_item.close(),this.$util.goUrl({url:"/dynamic/pages/technician/edit?type=".concat(t)})}})};e.default=d},e54c:function(t,e,n){"use strict";n.r(e);var a=n("6c54"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},e724:function(t,e,n){"use strict";n.r(e);var a=n("7c7f"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},fa23:function(t,e,n){"use strict";var a=n("c90f"),i=n.n(a);i.a}}]);