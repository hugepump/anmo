(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-pages-dynamics"],{"0f63":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("bf0f"),i("18f7"),i("de6c"),i("bd06"),i("c223"),i("2797");var n=a(i("9b1b")),s=a(i("2634")),c=a(i("2fdc")),o=i("8f59"),r=(a(i("c57d")),a(i("6df1"))),l={components:{wfallsFlow:r.default},data:function(){return{isLoad:!1,options:{},navTitle:"动态",loading:!0,lockTap:!1,list:{data:[]},param:{page:1,coach_name:"",coach_id:0},detail:{},iconType:{1:"icon-kefuwu",2:"iconjishifuwu",3:"iconkeyuyue",4:"iconkeyuyue"},thumbsObj:{}}},computed:(0,o.mapState)({pageActive:function(t){return t.dynamic.pageActive},haveOperItem:function(t){return t.dynamic.haveOperItem},activeIndex:function(t){return t.dynamic.activeIndex},tabList:function(t){return t.dynamic.tabList},coach_status:function(t){return t.dynamic.coach_status},configInfo:function(t){return t.config.configInfo},isGzhLogin:function(t){return t.user.isGzhLogin},haveShieldOper:function(t){return t.user.haveShieldOper}}),onLoad:function(t){var e=this;return(0,c.default)((0,s.default)().mark((function i(){var a,n;return(0,s.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.id,n=void 0===a?0:a,e.options=t,e.param.coach_id=n,i.next=5,e.initIndex();case 5:e.initNavTitle();case 6:case"end":return i.stop()}}),i)})))()},onShow:function(){var t=this;return(0,c.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.haveOperItem&&(t.initRefresh(),t.updateDynamicItem({key:"haveOperItem",val:!1}));case 1:case"end":return e.stop()}}),e)})))()},onPullDownRefresh:function(){var t=this;return(0,c.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showNavigationBarLoading(),e.next=3,t.initRefresh();case 3:uni.stopPullDownRefresh();case 4:case"end":return e.stop()}}),e)})))()},onReachBottom:function(){var t=this;return(0,c.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.list.current_page>=t.list.last_page||t.loading)){e.next=2;break}return e.abrupt("return");case 2:return t.param.page=t.param.page+1,t.loading=!0,e.next=6,t.getList();case 6:setTimeout((function(){t.$refs.coach_dynamic_wfalls.handleViewRender()}),0);case 7:case"end":return e.stop()}}),e)})))()},watch:{locaRefuse:function(t,e){t||this.toResetUtilLoca()}},methods:(0,n.default)((0,n.default)((0,n.default)({},(0,o.mapActions)(["getConfigInfo","getUserInfo"])),(0,o.mapMutations)(["updateUserItem","updateServiceItem","updateTechnicianItem","updateMapItem","updateDynamicItem","updateShopstoreItem"])),{},{initIndex:function(){var t=arguments,e=this;return(0,c.default)((0,s.default)().mark((function i(){var a;return(0,s.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=t.length>0&&void 0!==t[0]&&t[0],e.configInfo.id&&!a){i.next=4;break}return i.next=4,e.getConfigInfo();case 4:return i.next=6,Promise.all([e.getDetail(),e.getList(1)]);case 6:a||e.$jweixin.hideOptionMenu();case 7:case"end":return i.stop()}}),i)})))()},initRefresh:function(){var t=this;return(0,c.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.initIndex(!0);case 2:case"end":return e.stop()}}),e)})))()},initNavTitle:function(){var t=this;return(0,c.default)((0,s.default)().mark((function e(){var i,a,n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$util.setNavigationBarColor({bg:t.primaryColor}),i=t.configInfo.tabBar,i&&i.length>0&&(a=i.findIndex((function(t){return 3==t.id})),n=-1==a?"动态":i[a].name,t.navTitle=n,uni.setNavigationBarTitle({title:n}));case 3:case"end":return e.stop()}}),e)})))()},getDetail:function(){var t=this;return(0,c.default)((0,s.default)().mark((function e(){var i,a;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.options.id,e.next=3,t.$api.service.coachInfo({id:i});case 3:a=e.sent,t.detail=a;case 5:case"end":return e.stop()}}),e)})))()},getList:function(t){var e=this;return(0,c.default)((0,s.default)().mark((function i(){var a,n,c,o,r,l,d,u;return(0,s.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t&&(e.param.page=1,e.list.data=[]),a=e.location,n=a.lat,c=void 0===n?0:n,o=a.lng,r=void 0===o?0:o,l=e.list,d=Object.assign({},e.param,{lat:c,lng:r}),i.next=6,e.$api.dynamic.dynamicList(d);case 6:u=i.sent,1==d.page||(u.data=l.data.concat(u.data)),e.list=u,e.list.data.forEach((function(t){e.thumbsObj[t.id]=t.is_thumbs})),e.isLoad=!0,e.loading=!1,e.$util.hideAll();case 12:case"end":return i.stop()}}),i)})))()},changeCollect:function(t){var e=this;return(0,c.default)((0,s.default)().mark((function i(){var a;return(0,s.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.$api.dynamic.thumbsAddOrCancek({dynamic_id:t});case 2:e.$util.showToast({title:"操作成功"}),a=e.$util.deepCopy(e.thumbsObj),a[t]=1==a[t]?a[t]-1:a[t]+1,e.thumbsObj=a,e.detail.dynamic_thumbs_num=1==a[t]?e.detail.dynamic_thumbs_num+1:e.detail.dynamic_thumbs_num-1;case 7:case"end":return i.stop()}}),i)})))()},toCollect:function(){var t=this;return(0,c.default)((0,s.default)().mark((function e(){var i,a,n,c;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.detail,a=i.id,n=i.is_follow,c=i.follow_num,e.next=3,t.$api.dynamic.followAddOrCancek({coach_id:a});case 3:t.$util.showToast({title:n?"取消成功":"关注成功"}),t.detail.is_follow=1==n?0:1,t.detail.follow_num=1==n?c-1:c+1,t.$util.back();case 7:case"end":return e.stop()}}),e)})))()}})};e.default=l},"1cb0":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"pages-dynamic",style:{background:t.pageColor}},[t.isLoad?[i("fixed",[i("v-uni-view",{staticClass:"fix-info rel fill-base"},[i("v-uni-view",{staticClass:"fill-base pt-lg pl-lg pr-lg pb-md search-info abs"},[i("v-uni-view",{staticClass:"flex-y-center"},[i("v-uni-image",{staticClass:"d-cover",attrs:{src:t.detail.work_img,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"pl-md"},[i("v-uni-view",{staticClass:"f-title text-bold"},[t._v(t._s(t.detail.coach_name||"-"))]),t.detail.id?i("v-uni-view",{staticClass:"pt-sm flex-y-center"},[i("i",{staticClass:"iconfont",class:[t.iconType[t.detail.text_type]],style:{color:t.primaryColor,fontSize:"14px"}}),i("v-uni-text",{staticClass:"f-caption",staticStyle:{"margin-left":"6rpx"},style:{color:t.primaryColor}},[t._v(t._s(t.configInfo.btn_config[1*t.detail.text_type-1].text))])],1):t._e()],1)],1),i("v-uni-view",{staticClass:"d-info pl-lg pr-lg flex-between"},[i("v-uni-view",{},[i("v-uni-view",{staticClass:"f-sm-title text-bold flex-center"},[t._v(t._s(t.detail.follow_num))]),i("v-uni-view",{staticClass:"f-caption c-paragraph flex-center"},[t._v("关注")])],1),i("v-uni-view",{},[i("v-uni-view",{staticClass:"f-sm-title text-bold flex-center"},[t._v(t._s(t.detail.dynamic_thumbs_num))]),i("v-uni-view",{staticClass:"f-caption c-paragraph flex-center"},[t._v("获赞")])],1),i("v-uni-view",{staticClass:"f-caption follow-btn flex-center",style:{color:t.detail.is_follow?t.primaryColor:"#fff",background:t.detail.is_follow?"#fff":t.primaryColor,borderColor:t.primaryColor},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toCollect.apply(void 0,arguments)}}},[t._v(t._s(t.detail.is_follow?"已关注":"关注"))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"space-md"}),t.list.data.length>0?i("wfalls-flow",{ref:"coach_dynamic_wfalls",attrs:{list:t.list.data,thumbsObj:t.thumbsObj,path:1,follow:!0},on:{collect:function(e){arguments[0]=e=t.$handleEvent(e),t.changeCollect.apply(void 0,arguments)}}}):t._e(),t.loading?i("load-more",{attrs:{noMore:t.list.current_page>=t.list.last_page&&t.list.data.length>0,loading:t.loading}}):t._e(),!t.loading&&t.list.data.length<=0&&1==t.list.current_page?i("abnor",{attrs:{percent:"calc(100vh - 184px - calc(30rpx + env(safe-area-inset-bottom) / 2))"}}):t._e(),i("v-uni-view",{staticClass:"space-footer"})]:t._e()],2)},n=[]},"5d65":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.pages-dynamic .fix-info[data-v-dbcf8574]{height:%?336?%}.pages-dynamic .fix-info .space-top[data-v-dbcf8574]{width:100%;height:%?40?%;top:0}.pages-dynamic .fix-info .search-info[data-v-dbcf8574]{width:100%;top:0;border-radius:%?40?%}.pages-dynamic .show-popup[data-v-dbcf8574]{width:%?750?%;background:#f3f3f5;border-radius:%?30?% %?30?% 0 0}.pages-dynamic .show-popup .avatar[data-v-dbcf8574]{width:%?84?%;height:%?84?%}.pages-dynamic .show-popup .show-item[data-v-dbcf8574]{color:#222;height:%?100?%;background:#fff}.pages-dynamic .d-cover[data-v-dbcf8574]{width:%?120?%;height:%?120?%;border-radius:%?120?%}.pages-dynamic .d-info[data-v-dbcf8574]{padding-top:%?50?%}.pages-dynamic .follow-btn[data-v-dbcf8574]{width:%?114?%;height:%?54?%;border:1px solid transparent;border-radius:%?54?%}',""]),t.exports=e},6526:function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.wf-list-container[data-v-14000720]{display:flex;justify-content:space-between;align-items:flex-start;padding:0 %?20?%}.wf-list[data-v-14000720]{width:calc(50% - %?10?%);display:flex;flex-direction:column}.wf-item-child[data-v-14000720]{background:#fff;margin-bottom:%?20?%;border-radius:%?16?%;overflow:hidden}.wf-item-child .examin-btn[data-v-14000720]{top:%?20?%;left:%?15?%;width:%?89?%;height:%?37?%;z-index:1}.wf-item-child .play-video-info[data-v-14000720]{top:%?0?%;width:100%;height:calc(100% - %?128?%);z-index:9}.wf-item-child .play-video-info .play-video[data-v-14000720]{width:%?66?%;height:%?66?%;background:rgba(2,2,2,.5)}.wf-item-child .play-video-info .play-video .iconfont[data-v-14000720]{font-size:%?28?%}.cover[data-v-14000720]{width:100%;height:%?100?%}.wf-item[data-v-14000720]{padding:%?20?%}.wf-item .avatar[data-v-14000720]{width:%?40?%;height:%?40?%;border-radius:%?40?%;margin-right:%?6?%}.wf-item .coach[data-v-14000720]{max-width:%?100?%}.wf-item .iconfont[data-v-14000720]{font-size:%?24?%}',""]),t.exports=e},"6c54":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2634")),s=a(i("2fdc")),c=a(i("9b1b"));i("64aa"),i("473f"),i("bf0f"),i("5c47"),i("aa9c"),i("c223");var o=i("8f59"),r={props:{list:{type:Array},path:{type:String||Number},follow:{type:Boolean,default:function(){return!1}},thumbsObj:{type:Object,default:function(){return{}}}},data:function(){return{viewList:[{list:[]},{list:[]}],everyNum:2}},mounted:function(){this.list.length>0&&this.init()},computed:(0,o.mapState)({}),methods:(0,c.default)((0,c.default)({},(0,o.mapActions)()),{},{init:function(){var t=this;this.viewList=[{list:[]},{list:[]}],setTimeout((function(){t.handleViewRender(0,0)}),500)},handleViewRender:function(t,e){var i=this,a=this.viewList.reduce((function(t,e){return t+e.list.length}),0);if(console.log(a,"====index"),a>this.list.length-1)this.$emit("finishLoad",a);else{var n=uni.createSelectorQuery().in(this),s=0;n.selectAll("#wf-list").boundingClientRect((function(t){s=t[0].bottom-t[1].bottom<=0?0:1,console.log(t,"======wf-list data",s),i.viewList[s].list.push(i.list[a])})).exec()}},goDetail:function(t,e){var i=this;return(0,s.default)((0,n.default)().mark((function a(){var s,c,o,r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:s=i.viewList[t].list[e].id,c=i.path,o=1==c?"":"technician/",r="/dynamic/pages/".concat(o,"detail?id=").concat(s),i.$util.goUrl({url:r});case 5:case"end":return a.stop()}}),a)})))()},toCollect:function(t){this.$emit("collect",t)}})};e.default=r},"6df1":function(t,e,i){"use strict";i.r(e);var a=i("808c"),n=i("e54c");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("fa23");var c=i("828b"),o=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"14000720",null,!1,a["a"],void 0);e["default"]=o.exports},"7ec7":function(t,e,i){"use strict";var a=i("95a1"),n=i.n(a);n.a},"808c":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wf-list-container"},t._l(t.viewList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"wf-list",attrs:{id:"wf-list"}},t._l(e.list,(function(e,n){return i("v-uni-view",{key:n,staticClass:"wf-item-child rel",attrs:{"data-id":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDetail(a,n)}}},[2==t.path&&2!=e.status?i("v-uni-view",{staticClass:"examin-btn flex-center f-icontext c-base radius abs",style:{background:1==e.status?"#FC8218":"#FF6262"}},[t._v(t._s(1==e.status?"审核中":"已驳回"))]):t._e(),i("v-uni-image",{staticClass:"cover",attrs:{mode:"widthFix",id:"id"+e.id,src:e.cover},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.handleViewRender.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.handleViewRender.apply(void 0,arguments)}}}),2==e.type?i("v-uni-view",{staticClass:"play-video-info flex-center c-base abs"},[i("v-uni-view",{staticClass:"play-video flex-center c-base radius"},[i("i",{staticClass:"iconfont icon-play-video"})])],1):t._e(),i("v-uni-view",{staticClass:"wf-item"},[i("v-uni-view",{staticClass:"f-desc c-black text-bold"},[t._v(t._s(e.title))]),i("v-uni-view",{staticClass:"flex-between mt-sm"},[i("v-uni-view",{staticClass:"flex-center"},[i("v-uni-image",{staticClass:"avatar",attrs:{mode:"aspectFill",src:e.work_img}}),i("v-uni-view",{staticClass:"coach f-caption c-desc ellipsis"},[t._v(t._s(e.coach_name))])],1),t.follow?i("v-uni-view",{staticClass:"flex-center pl-md pr-md",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.toCollect(e.id)}}},[i("i",{staticClass:"iconfont ml-lg",class:[{iconshoucang1:!t.thumbsObj[e.id]},{iconshoucang2:t.thumbsObj[e.id]}],staticStyle:{"font-size":"28rpx"},style:{color:t.thumbsObj[e.id]?t.primaryColor:""}})]):i("v-uni-view",{staticClass:"flex-y-baseline f-caption c-desc"},[i("i",{staticClass:"iconfont iconjuli",style:{color:t.primaryColor}}),t._v(t._s(e.distance))])],1)],1)],1)})),1)})),1)},n=[]},"95a1":function(t,e,i){var a=i("5d65");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("46e69f67",a,!0,{sourceMap:!1,shadowMode:!1})},9730:function(t,e,i){"use strict";i.r(e);var a=i("1cb0"),n=i("eed6");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("7ec7");var c=i("828b"),o=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"dbcf8574",null,!1,a["a"],void 0);e["default"]=o.exports},c90f:function(t,e,i){var a=i("6526");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("5d298461",a,!0,{sourceMap:!1,shadowMode:!1})},e54c:function(t,e,i){"use strict";i.r(e);var a=i("6c54"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},eed6:function(t,e,i){"use strict";i.r(e);var a=i("0f63"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},fa23:function(t,e,i){"use strict";var a=i("c90f"),n=i.n(a);n.a}}]);