webpackJsonp([69],{JfEv:function(e,t){},m62f:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),o=a.n(r),n=a("J0Oq"),l=a.n(n),s=a("3cXf"),i=a.n(s),c=a("4YfN"),u=a.n(c),m=a("bSIt"),_=a("PxTW"),p=a.n(_),h={data:function(){var e=function(e,t,a){var r=/^(?:0|[1-9][0-9]?|(([0]\.\d{1}|[1-9][0-9]*\.\d{1}))|100)$/,o=/^\+?[1-9][0-9]*$/,n=/^[0-9]+.?[0-9]*/;if(""===t)a(new Error("请输入"+e.text));else if(t&&(!n.test(t)||!o.test(t)&&!r.test(t)||o.test(t)&&!/^(?:0|[1-9][0-9]?|100)$/.test(t))){var l=!n.test(t)||o.test(t)||r.test(t)?"":"，最多保留1位小数";a(new Error("请输入正确"+e.text+"，0至100"+l))}else a()};return{walletTypeArr:["wechat_transfer_auth","alipay_transfer_auth","bank_transfer_auth","offline_transfer_auth"],cityType:{3:{type:"success",text:"省"},1:{type:"primary",text:"市"},2:{type:"danger",text:"区县"}},loading:{list:!1,user:!1,pid:!1},searchForm:{list:{page:1,limit:10,username:"",nickName:""},user:{page:1,limit:10,nickName:""},pid:{page:1,limit:10,username:"",agent_name:"",city_id:""}},tableData:{list:[],user:[],pid:[]},total:{list:0,user:0,pid:0},currentRow:{},base_city:[],showDialog:{sub:!1,user:!1,pid:!1},subForm:{id:0,username:"",passwd_text:"",agent_name:"",merchant_name:"",license:[],phone:"",login_auth_phone:"",city_type:3,city_id:"",city_data:[],balance:"",admin_pid:"",admin_ptitle:"",level_balance:"",user_id:"",nickName:"",phone_admin_num:0,phone_encryption:0,sub_agent_auth:0,agent_coach_auth:0,salesman_auth:0,channel_auth:0,reseller_auth:0,recommend_cash_auth:0,partner_auth:0,coach_cash_auth:0,wallet_check_auth:0,wallet_check_type:3,wechat_transfer_auth:0,alipay_transfer_auth:0,offline_transfer_auth:1,bank_transfer_auth:0,car_admin:0,coach_check_auth:0,delegated_coach:0,coupon_auth:0,user_auth:0,store_auth:0,store_package_auth:0,group_write_off_auth:0,hotel_auth:0},subFormRules:{username:{required:!0,validator:this.$reg.isNotNull,reg_type:2,text:"账号",trigger:"blur"},passwd_text:{required:!0,type:"string",message:"请输入密码",trigger:"blur"},agent_name:{required:!0,validator:this.$reg.isNotNull,reg_type:2,text:"真实姓名",trigger:"blur"},phone:{required:!0,validator:this.$reg.isAllPhone,text:"服务电话",trigger:"blur"},login_auth_phone:{required:!0,validator:this.$reg.isTel,text:"联系电话",trigger:"blur"},city_type:{required:!0,type:"number",message:"请选择代理等级",trigger:"blur"},balance:{required:!0,validator:e,text:"平台抽成比例",trigger:["blur","change"]},level_balance:{required:!0,validator:e,text:"上级"+this.$t("action.agentName")+"抽成比例",trigger:["blur","change"]},user_id:{required:!0,type:"number",message:"请选择关联用户",trigger:"blur"},phone_admin_num:{required:!0,validator:this.$reg.isNum,text:"管理员授权个数",trigger:"blur"}}}},created:function(){this.getTableDataList(1,"list")},computed:u()({},Object(m.e)({routesItem:function(e){return e.routes}})),methods:{resetForm:function(e){var t=e+"Form";this.$refs[t].resetFields(),this.getTableDataList(1,e)},handleSizeChange:function(e,t){this.searchForm[t].limit=e,this.handleCurrentChange(1,t)},handleCurrentChange:function(e,t){this.searchForm[t].page=e,this.getTableDataList("",t)},getTableDataList:function(e,t){var a=this;e&&(this.searchForm[t].page=e),this.loading[t]=!0;var r=JSON.parse(i()(this.searchForm[t]));if("pid"===t){var o=JSON.parse(i()(this.subForm)),n=o.id,l=void 0===n?0:n,s=o.city_type,c=o.city_data;r.id=l,1!==s&&c.splice(c.length-1,1),r.city_id=1===s?[c[0]]:c}var u={list:"adminList",user:"userSelect",pid:"adminList"}[t];this.$api.agent[u](r).then(function(e){if(a.loading[t]=!1,200===e.code){var r=e.data,o=r.data,n=r.total;a.tableData[t]=o,a.total[t]=n}})},getCover:function(e){this.subForm.license=e},changeCoachAuth:function(e){e||(this.subForm.car_admin=0,this.subForm.coach_check_auth=0,this.subForm.delegated_coach=0,this.subForm.partner_auth=0)},changeStoreAuth:function(e){e||(this.subForm.store_package_auth=0,this.subForm.group_write_off_auth=0)},changeCheckType:function(e){var t=this;this.walletTypeArr.map(function(a,r){t.subForm[a]=r===e?1:0})},toShowDialog:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:0};return l()(o.a.mark(function r(){var n,l,s,c,u,m,_;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=JSON.parse(i()(a)),"user"!==e&&"pid"!==e){r.next=15;break}if("user"===e&&(t.searchForm.user.nickName=""),"pid"!==e){r.next=12;break}if(n=t.subForm,l=n.city_type,s=void 0===l?3:l,c=n.city_data,!(1===s&&c.length<2||2===s&&c.length<3)){r.next=8;break}return t.$message.error("请选择"+t.cityType[s].text),r.abrupt("return");case 8:t.searchForm.pid.city_type&&delete t.searchForm.pid.city_type,3===s&&(t.searchForm.pid.city_type=3),t.searchForm.pid.username="",t.searchForm.pid.agent_name="";case 12:return t.currentRow={},r.next=15,t.getTableDataList(1,e);case 15:if("sub"!==e){r.next=30;break}if(!a.id){r.next=24;break}return r.next=19,t.$api.agent.adminInfo({id:a.id});case 19:u=r.sent,m=u.data,a=m,r.next=25;break;case 24:a={id:0,username:"",passwd_text:"",agent_name:"",merchant_name:"",license:[],phone:"",login_auth_phone:"",city_type:3,city_id:"",city_data:[],balance:"",admin_pid:"",admin_ptitle:"",level_balance:"",user_id:"",nickName:"",phone_admin_num:0,phone_encryption:0,sub_agent_auth:0,agent_coach_auth:0,salesman_auth:0,channel_auth:0,reseller_auth:0,recommend_cash_auth:0,partner_auth:0,coach_cash_auth:0,wallet_check_auth:0,wallet_check_type:3,wechat_transfer_auth:0,alipay_transfer_auth:0,offline_transfer_auth:1,bank_transfer_auth:0,car_admin:0,coach_check_auth:0,delegated_coach:0,coupon_auth:0,user_auth:0,store_auth:0,store_package_auth:0,group_write_off_auth:0,hotel_auth:0};case 25:for(_ in a.license=a.license&&a.license.length>0?[{url:a.license}]:[],a.id&&t.walletTypeArr.map(function(e,t){a[e]&&(a.wallet_check_type=t)}),t[e+"Form"])t[e+"Form"][_]=a[_];return r.next=30,t.getCityList();case 30:t.showDialog[e]=!0,["sub"].includes(e)&&t.$refs[e+"Form"].validate&&t.$refs[e+"Form"].clearValidate();case 32:case"end":return r.stop()}},r,t)}))()},getCityList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return l()(o.a.mark(function a(){var r,n,l,s,i,c,u;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.subForm,n=r.city_type,l=void 0===n?3:n,s=r.city_data,t&&(1===t&&s.length>2&&s.splice(2,1),3===t&&s.length>0&&(s=[s[0]]),e.subForm.city_data=s),a.next=4,e.$api.system.citySelect({city_type:3});case 4:if(i=a.sent,c=i.code,u=i.data,200===c){a.next=9;break}return a.abrupt("return");case 9:u.map(function(e){3===l&&delete e.children,e.children&&e.children.map(function(e){1!==l&&0!==e.children.length||delete e.children})}),e.base_city=u;case 11:case"end":return a.stop()}},a,e)}))()},handleTableChange:function(e,t){var a=e=JSON.parse(i()(e)),r=a.id,o=a.nickName,n=a.username,l=void 0===n?"":n;"pid"===t?e.admin_ptitle=l:e.nickName=o||"用户ID "+r,this.currentRow=e},toResetChangeForm:function(){this.subForm.admin_pid=0,this.subForm.admin_ptitle="",this.currentRow={}},submitFormInfo:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return l()(o.a.mark(function r(){var n,l,s,c,u,m,_,p,h,d,b,v,g,f,y,F,$,k;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=!0,1===a&&t.$refs[e+"Form"].validate(function(e){e||(n=!1)}),n){r.next=4;break}return r.abrupt("return");case 4:if("sub"===e){r.next=12;break}if(null!==t.currentRow&&t.currentRow.id){r.next=8;break}return t.$message.error("user"===e?"请选择用户":"请选择上级"+t.$t("action.agentName")),r.abrupt("return");case 8:return l=t.currentRow,s=l.id,c=void 0===s?0:s,u=l.nickName,m=void 0===u?"":u,_=l.username,p=void 0===_?"":_,"user"===e?(t.subForm.user_id=c,t.subForm.nickName=m):(t.subForm.admin_pid=c,t.subForm.admin_ptitle=p),t.showDialog[e]=!1,r.abrupt("return");case 12:if(h=t.cityType,!((d=JSON.parse(i()(t[e+"Form"]))).username.length<2||d.passwd_text.length<6)){r.next=17;break}return t.$message.error(d.username.length<2?"账号不能少于2位数":"密码不能少于6位数"),r.abrupt("return");case 17:if(b=d.city_type,v=d.city_data,!(1===b&&v.length<2||2===b&&v.length<3||3===b&&0===v.length)){r.next=21;break}return t.$message.error("请选择"+h[b].text),r.abrupt("return");case 21:if(d.city_id=v[v.length-1],g=100-1*d.balance,!(d.admin_pid&&1*d.level_balance>=g)){r.next=26;break}return t.$message.error("上级"+t.$t("action.agentName")+"抽成不能大于或等于当前"+t.$t("action.agentName")+"提成 (当前"+t.$t("action.agentName")+"提成"+g+"%)"),r.abrupt("return");case 26:if(f=t.routesItem.auth,y=f.adapay,F=f.heepay,!d.bank_transfer_auth||y||F){r.next=30;break}return t.$message.error(t.$t("action.agentName")+"操作打款权限：请选择打款方式"),r.abrupt("return");case 30:return d.license=d.license&&d.license.length>0?d.license[0].url:"",delete d.city_data,delete d.admin_ptitle,delete d.nickName,delete d.wallet_check_type,$=d.id?"adminUpdate":"adminAdd",r.next=38,t.$api.agent[$](d);case 38:if(k=r.sent,200===k.code){r.next=42;break}return r.abrupt("return");case 42:t.$message.success(t.$t(d.id?"tips.successRev":"tips.successSub")),t.showDialog[e]=!1,t.getTableDataList("","list");case 45:case"end":return r.stop()}},r,t)}))()},confirmDel:function(e){var t=this;this.$confirm(this.$t("tips.franchiseeDelete"),this.$t("tips.reminder"),{confirmButtonText:this.$t("action.comfirm"),cancelButtonText:this.$t("action.cancel"),type:"warning"}).then(function(){t.$api.agent.adminStatusUpdate({id:e,status:"-1"}).then(function(e){200===e.code&&(t.$message.success(t.$t("tips.successDel")),t.searchForm.list.page=t.searchForm.list.page<Math.ceil((t.total.list-1)/t.searchForm.list.limit)?t.searchForm.list.page:Math.ceil((t.total.list-1)/t.searchForm.list.limit),t.getTableDataList("","list"))})})}},filters:{handleTime:function(e,t){return 1===t?p()(1e3*e).format("YYYY-MM-DD"):2===t?p()(1e3*e).format("HH:mm:ss"):p()(1e3*e).format("YYYY-MM-DD HH:mm:ss")}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lb-agent-account"},[a("top-nav"),e._v(" "),a("div",{staticClass:"page-main"},[a("el-row",{staticClass:"page-top-operate"},[a("lb-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:e.$route.name+"-add",expression:"`${$route.name}-add`"}],attrs:{size:"medium",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.toShowDialog("sub")}}},[e._v(e._s(e.$t("menu.AgentAccountAdd")))])],1),e._v(" "),a("el-row",{staticClass:"page-search-form"},[a("el-form",{ref:"listForm",attrs:{inline:!0,model:e.searchForm.list},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"账号名称",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号名称"},model:{value:e.searchForm.list.username,callback:function(t){e.$set(e.searchForm.list,"username",t)},expression:"searchForm.list.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"关联用户",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入关联用户"},model:{value:e.searchForm.list.nickName,callback:function(t){e.$set(e.searchForm.list,"nickName",t)},expression:"searchForm.list.nickName"}})],1),e._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDataList(1,"list")}}},[e._v(e._s(e.$t("action.search")))]),e._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("list")}}},[e._v(e._s(e.$t("action.reset")))])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.list,expression:"loading.list"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.list,"header-cell-style":{background:"#f5f7fa",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"账号名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"passwd_text",label:"账号密码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_name",label:"真实姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"merchant_name",label:"商家名称","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city_type",label:"代理等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"small",type:e.cityType[t.row.city_type].type}},[e._v(e._s(e.cityType[t.row.city_type].text))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"省/市/区县","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n            "+e._s(3===t.row.city_type?t.row.province:1===t.row.city_type?t.row.city_id?t.row.province+" "+t.row.city:"-":t.row.city_id?t.row.province?t.row.province+" "+t.row.city+" "+t.row.area:t.row.city+" "+t.row.area:"-")+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"user_id",label:"关联用户ID","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"关联用户昵称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"服务电话","min-width":"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"login_auth_phone",label:"联系电话","min-width":"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"平台抽成比例"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.balance)+"%")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"admin_pid",label:"上级"+e.$t("action.agentName")+"账号名称","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.admin_ptitle||"-"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"上级"+e.$t("action.agentName")+"抽成","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n            "+e._s(t.row.admin_ptitle?t.row.level_balance+"%":"-")+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e._f("handleTime")(t.row.create_time,1)))]),e._v(" "),a("p",[e._v(e._s(e._f("handleTime")(t.row.create_time,2)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table-operate"},[a("lb-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:e.$route.name+"-edit",expression:"`${$route.name}-edit`"}],attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return e.toShowDialog("sub",{id:t.row.id})}}},[e._v(e._s(e.$t("action.edit")))]),e._v(" "),a("lb-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:e.$route.name+"-delete",expression:"`${$route.name}-delete`"}],attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(a){return e.confirmDel(t.row.id)}}},[e._v(e._s(e.$t("action.delete")))])],1)]}}])})],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.list.page,pageSize:e.searchForm.list.limit,total:e.total.list},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"list")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"list")}}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.$t(e.subForm.id?"menu.AgentAccountEdit":"menu.AgentAccountAdd"),visible:e.showDialog.sub,width:"800px",top:"5vh",center:"","append-to-body":!0},on:{"update:visible":function(t){return e.$set(e.showDialog,"sub",t)}}},[a("lb-tips",[e._v("\n      提成方式计算规则 ："+e._s(e.$t("action.attendantName"))+"提成 > 平台提成 >\n      省代理 > 市代理 > 区县代理\n      "+e._s(e.routesItem.auth.reseller?"> "+e.$t("action.resellerName")+"提成":"")+"\n      "+e._s(e.routesItem.auth.coachbroker?"> "+e.$t("action.attendantName")+e.$t("action.brokerName")+"提成":"")+"\n      "+e._s(e.routesItem.auth.channel?"> "+e.$t("action.channelName")+"提成":"")+"\n      "+e._s(e.routesItem.auth.salesman?"> 业务员提成":"")+"\n    ")]),e._v(" "),a("el-form",{ref:"subForm",staticClass:"dialog-form",attrs:{model:e.subForm,rules:e.subFormRules,"label-width":"170px"}},[a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号",maxlength:"20","show-word-limit":""},model:{value:e.subForm.username,callback:function(t){e.$set(e.subForm,"username",t)},expression:"subForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"passwd_text"}},[a("el-input",{attrs:{placeholder:"请输入密码",maxlength:"20","show-word-limit":""},model:{value:e.subForm.passwd_text,callback:function(t){e.$set(e.subForm,"passwd_text",t)},expression:"subForm.passwd_text"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名",prop:"agent_name"}},[a("el-input",{attrs:{placeholder:"请输入真实姓名",maxlength:"20","show-word-limit":""},model:{value:e.subForm.agent_name,callback:function(t){e.$set(e.subForm,"agent_name",t)},expression:"subForm.agent_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商家名称",prop:"merchant_name"}},[a("el-input",{attrs:{placeholder:"请输入商家名称",maxlength:"20","show-word-limit":""},model:{value:e.subForm.merchant_name,callback:function(t){e.$set(e.subForm,"merchant_name",t)},expression:"subForm.merchant_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"营业执照",prop:"license"}},[a("lb-cover",{attrs:{fileList:e.subForm.license},on:{selectedFiles:e.getCover}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理等级",prop:"city_type"}},[a("el-radio-group",{on:{change:function(t){return e.getCityList(t)}},model:{value:e.subForm.city_type,callback:function(t){e.$set(e.subForm,"city_type",t)},expression:"subForm.city_type"}},[a("el-radio",{attrs:{label:3}},[e._v("省代理")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("市代理")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("区县代理")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"选择"+e.cityType[e.subForm.city_type].text,prop:"city_data"}},[a("el-cascader",{attrs:{size:"large",options:e.base_city,placeholder:"请选择"+e.cityType[e.subForm.city_type].text,props:{checkStrictly:!0,label:"title",value:"id"}},model:{value:e.subForm.city_data,callback:function(t){e.$set(e.subForm,"city_data",t)},expression:"subForm.city_data"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"关联用户",prop:"user_id"}},[a("el-tag",{staticClass:"cursor-pointer",attrs:{type:e.subForm.user_id?"primary":"danger"},on:{click:function(t){return e.toShowDialog("user")}}},[e._v(e._s(e.subForm.user_id?e.subForm.nickName||"用户ID "+e.subForm.user_id:"选择关联用户"))])],1),e._v(" "),a("el-form-item",{attrs:{label:"服务电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入服务电话"},model:{value:e.subForm.phone,callback:function(t){e.$set(e.subForm,"phone",t)},expression:"subForm.phone"}}),e._v(" "),a("lb-tool-tips",[e._v("用于客户咨询，支持400电话\n          "),a("div",{staticClass:"mt-sm"},[e._v("400电话格式：400-xxxxxxx")])])],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话",prop:"login_auth_phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.subForm.login_auth_phone,callback:function(t){e.$set(e.subForm,"login_auth_phone",t)},expression:"subForm.login_auth_phone"}}),e._v(" "),a("lb-tool-tips",[e._v("联系电话用于后台登录验证")])],1),e._v(" "),a("el-form-item",{attrs:{label:"平台抽成比例",prop:"balance"}},[a("el-input",{attrs:{placeholder:"请输入平台抽成比例"},model:{value:e.subForm.balance,callback:function(t){e.$set(e.subForm,"balance",t)},expression:"subForm.balance"}},[a("template",{slot:"append"},[e._v("%")])],2),e._v(" "),a("lb-tool-tips",[a("p",{staticClass:"mb-sm"},[e._v("平台抽成取值0%到100%")]),e._v(" "),a("p",{staticClass:"mb-sm"},[e._v("\n            设置为0%，表示平台不抽成，除去"+e._s(e.$t("action.attendantName"))+"\n            "+e._s(e.routesItem.auth.coachbroker?"、"+e.$t("action.attendantName")+e.$t("action.brokerName"):"")+"\n            "+e._s(e.routesItem.auth.reseller?"、"+e.$t("action.resellerName"):"")+"\n            "+e._s(e.routesItem.auth.channel?"、"+e.$t("action.channelName"):"")+"\n            "+e._s(e.routesItem.auth.salesman?"、业务员":"")+"\n            的提成后，剩下都归"+e._s(e.$t("action.agentName"))+"\n          ")]),e._v(" "),a("p",[e._v("\n            设置100%，则表示"+e._s(e.$t("action.agentName"))+"无提成，除去"+e._s(e.$t("action.attendantName"))+"和"+e._s(e.$t("action.agentName"))+"的提成后，剩下都归平台\n          ")])])],1),e._v(" "),3!==e.subForm.city_type&&e.subForm.city_data.length>0?a("el-form-item",{attrs:{label:"关联上级"+e.$t("action.agentName"),prop:""}},[a("el-tag",{staticClass:"cursor-pointer",attrs:{type:e.subForm.admin_pid?"primary":"danger",closable:!!e.subForm.admin_ptitle},on:{close:e.toResetChangeForm,click:function(t){return e.toShowDialog("pid")}}},[e._v(e._s(e.subForm.admin_ptitle||"选择关联上级"+e.$t("action.agentName")))])],1):e._e(),e._v(" "),3!==e.subForm.city_type&&e.subForm.admin_pid?a("el-form-item",{attrs:{label:"上级"+e.$t("action.agentName")+"抽成",prop:"level_balance"}},[a("el-input",{attrs:{placeholder:"请输入上级"+e.$t("action.agentName")+"抽成比例"},model:{value:e.subForm.level_balance,callback:function(t){e.$set(e.subForm,"level_balance",t)},expression:"subForm.level_balance"}},[a("template",{slot:"append"},[e._v("%")])],2),e._v(" "),a("lb-tool-tips",[e._v(e._s(e.cityType[e.subForm.city_type].text)+"代理需要分给上级"+e._s(e.$t("action.agentName"))+"的比例。例如"+e._s(e.cityType[e.subForm.city_type].text)+"代理可分得40%\n          "),a("div",{staticClass:"mt-sm"},[e._v("\n            如果设置了上级抽成10%，则"+e._s(e.cityType[e.subForm.city_type].text)+"代理只分得30%\n          ")])])],1):e._e(),e._v(" "),e.routesItem.auth.mobilenode?a("el-form-item",{attrs:{label:"管理员授权个数",prop:"phone_admin_num"}},[a("el-input",{attrs:{placeholder:"请输入管理员授权个数"},model:{value:e.subForm.phone_admin_num,callback:function(t){e.$set(e.subForm,"phone_admin_num",t)},expression:"subForm.phone_admin_num"}}),e._v(" "),a("lb-tool-tips",[e._v(e._s(e.$t("action.agentName"))+"可添加手机端管理员的个数，添加的管理员可协助"+e._s(e.$t("action.agentName"))+"管理订单")])],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"查看真实号码",prop:"phone_encryption"}},[a("el-radio-group",{model:{value:e.subForm.phone_encryption,callback:function(t){e.$set(e.subForm,"phone_encryption",t)},expression:"subForm.phone_encryption"}},[a("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("action.ON")))]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("action.OFF")))])],1),e._v(" "),a("lb-tool-tips",[e._v("选择开启，该"+e._s(e.$t("action.agentName"))+"能在自己的后台看到订单里的真实电话号码")])],1),e._v(" "),a("el-form-item",{attrs:{label:"发展"+e.$t("action.agentName"),prop:"sub_agent_auth"}},[a("el-radio-group",{model:{value:e.subForm.sub_agent_auth,callback:function(t){e.$set(e.subForm,"sub_agent_auth",t)},expression:"subForm.sub_agent_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("有权限时，该"+e._s(e.$t("action.agentName"))+"手机端有权限邀请"+e._s(e.$t("action.agentName"))+"入驻")])],1),e._v(" "),a("el-form-item",{attrs:{label:"发展"+e.$t("action.attendantName"),prop:"agent_coach_auth"}},[a("el-radio-group",{on:{change:e.changeCoachAuth},model:{value:e.subForm.agent_coach_auth,callback:function(t){e.$set(e.subForm,"agent_coach_auth",t)},expression:"subForm.agent_coach_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("无权限时，"+e._s(e.$t("action.agentName"))+"端无数据概览、"+e._s(e.routesItem.auth.agentservice?"服务管理、":"")+e._s(e.$t("action.attendantName"))+"管理、订单管理、"+e._s(e.$t("action.attendantName"))+"求救通知、订单通知")])],1),e._v(" "),e.subForm.agent_coach_auth?a("block",[e.routesItem.auth.caradmin?a("el-form-item",{attrs:{label:"车费归属"+e.$t("action.agentName"),prop:"car_admin"}},[a("el-radio-group",{model:{value:e.subForm.car_admin,callback:function(t){e.$set(e.subForm,"car_admin",t)},expression:"subForm.car_admin"}},[a("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("action.ON")))]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("action.OFF")))])],1),e._v(" "),a("lb-tool-tips",[e._v("选择开启，该"+e._s(e.$t("action.agentName"))+"下关联的"+e._s(e.$t("action.attendantName"))+"接单产生的车费都归该"+e._s(e.$t("action.agentName"))+"所有，车费不返给"+e._s(e.$t("action.attendantName")))])],1):e._e(),e._v(" "),e.routesItem.auth.agentcoachcheck?a("el-form-item",{attrs:{label:e.$t("action.attendantName")+"审核权限",prop:"coach_check_auth"}},[a("el-radio-group",{model:{value:e.subForm.coach_check_auth,callback:function(t){e.$set(e.subForm,"coach_check_auth",t)},expression:"subForm.coach_check_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("有权限时，该"+e._s(e.$t("action.agentName"))+"有权限审核与自己绑定的"+e._s(e.$t("action.attendantName"))+"或者自己在后台添加的"+e._s(e.$t("action.attendantName"))+"\n            "),a("div",{staticClass:"mt-sm"},[e._v("\n              无权限时，"+e._s(e.$t("action.agentName"))+"不能审核自己的真实"+e._s(e.$t("action.attendantName"))+"和虚拟"+e._s(e.$t("action.attendantName"))+"\n            ")])])],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"委派"+e.$t("action.attendantName"),prop:"delegated_coach"}},[a("el-radio-group",{model:{value:e.subForm.delegated_coach,callback:function(t){e.$set(e.subForm,"delegated_coach",t)},expression:"subForm.delegated_coach"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("无权限时，该"+e._s(e.$t("action.agentName"))+"只能转单给线上"+e._s(e.$t("action.attendantName"))+"\n          ")])],1),e._v(" "),e.routesItem.auth.coachbroker?a("el-form-item",{attrs:{label:e.$t("action.attendantName")+e.$t("action.brokerName")+"权限",prop:"partner_auth"}},[a("el-radio-group",{model:{value:e.subForm.partner_auth,callback:function(t){e.$set(e.subForm,"partner_auth",t)},expression:"subForm.partner_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("有权限时，"+e._s(e.$t("action.brokerName"))+"能帮该"+e._s(e.$t("action.agentName"))+"拉"+e._s(e.$t("action.attendantName"))+"，同时该"+e._s(e.$t("action.agentName"))+"需要分佣给"+e._s(e.$t("action.attendantName"))+e._s(e.$t("action.brokerName")))])],1):e._e()],1):e._e(),e._v(" "),e.routesItem.auth.salesman?a("el-form-item",{attrs:{label:"业务员权限",prop:"salesman_auth"}},[a("el-radio-group",{model:{value:e.subForm.salesman_auth,callback:function(t){e.$set(e.subForm,"salesman_auth",t)},expression:"subForm.salesman_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("有权限时，该"+e._s(e.$t("action.agentName"))+"能在自己的手机端邀请业务员，并在后台审核业务员申请")])],1):e._e(),e._v(" "),e.routesItem.auth.channel?a("el-form-item",{attrs:{label:e.$t("action.channelName")+"权限",prop:"channel_auth"}},[a("el-radio-group",{model:{value:e.subForm.channel_auth,callback:function(t){e.$set(e.subForm,"channel_auth",t)},expression:"subForm.channel_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("有权限时，该"+e._s(e.$t("action.agentName"))+"能在自己的手机端邀请"+e._s(e.$t("action.channelName"))+"，并在后台审核"+e._s(e.$t("action.channelName"))+"申请")])],1):e._e(),e._v(" "),e.routesItem.auth.reseller?a("el-form-item",{attrs:{label:e.$t("action.resellerName")+"权限",prop:"reseller_auth"}},[a("el-radio-group",{on:{change:function(t){e.subForm.recommend_cash_auth=e.subForm.reseller_auth?e.subForm.recommend_cash_auth:0}},model:{value:e.subForm.reseller_auth,callback:function(t){e.$set(e.subForm,"reseller_auth",t)},expression:"subForm.reseller_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("有权限时，该"+e._s(e.$t("action.agentName"))+"能在自己的手机端邀请"+e._s(e.$t("action.resellerName"))+"，并在后台审核"+e._s(e.$t("action.resellerName"))+"申请")])],1):e._e(),e._v(" "),e.routesItem.auth.reseller&&e.routesItem.auth.recommendcash&&e.subForm.reseller_auth?a("el-form-item",{attrs:{label:"设置"+e.$t("action.resellerName")+"推荐费",prop:"reseller_auth"}},[a("el-radio-group",{model:{value:e.subForm.recommend_cash_auth,callback:function(t){e.$set(e.subForm,"recommend_cash_auth",t)},expression:"subForm.recommend_cash_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("有权限时，该"+e._s(e.$t("action.agentName"))+"能在后台「推广管理-"+e._s(e.$t("action.resellerName"))+"管理-"+e._s(e.$t("action.resellerName"))+"审核」设置自己下级"+e._s(e.$t("action.resellerName"))+"的推荐费\n          "),a("div",{staticClass:"mt-sm c-tips"},[e._v("\n            设置推荐费后，产生的推荐费由该"+e._s(e.$t("action.agentName"))+"自己全额承担\n          ")])])],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"客户管理",prop:"user_auth"}},[a("el-radio-group",{model:{value:e.subForm.user_auth,callback:function(t){e.$set(e.subForm,"user_auth",t)},expression:"subForm.user_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("无权限时，该"+e._s(e.$t("action.agentName"))+"不可查看自己的客户数据")])],1),e._v(" "),e.routesItem.auth.store?a("el-form-item",{attrs:{label:"门店管理",prop:"store_auth"}},[a("el-radio-group",{on:{change:e.changeStoreAuth},model:{value:e.subForm.store_auth,callback:function(t){e.$set(e.subForm,"store_auth",t)},expression:"subForm.store_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("无权限时，该"+e._s(e.$t("action.agentName"))+"不可关联门店，无门店入口")])],1):e._e(),e._v(" "),e.routesItem.auth.store&&e.subForm.store_auth?a("block",[e.routesItem.auth.package?a("el-form-item",{attrs:{label:"套餐管理",prop:"store_package_auth"}},[a("el-radio-group",{model:{value:e.subForm.store_package_auth,callback:function(t){e.$set(e.subForm,"store_package_auth",t)},expression:"subForm.store_package_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("无权限时，该"+e._s(e.$t("action.agentName"))+"无上传套餐入口\n          ")])],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"团购券核销",prop:"group_write_off_auth"}},[a("el-radio-group",{model:{value:e.subForm.group_write_off_auth,callback:function(t){e.$set(e.subForm,"group_write_off_auth",t)},expression:"subForm.group_write_off_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("无权限时，该"+e._s(e.$t("action.agentName"))+"没有核销团购券的权限\n          ")])],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"发放优惠券",prop:"coupon_auth"}},[a("el-radio-group",{model:{value:e.subForm.coupon_auth,callback:function(t){e.$set(e.subForm,"coupon_auth",t)},expression:"subForm.coupon_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("有权限时，该"+e._s(e.$t("action.agentName"))+"可发放优惠券。发放的优惠券仅自己关联的"+e._s(e.$t("action.attendantName"))+"所服务的项目可以使用\n          "),a("div",{staticClass:"mt-sm c-tips"},[e._v("\n            自己下级"+e._s(e.$t("action.agentName"))+"的"+e._s(e.$t("action.attendantName"))+"或者其他"+e._s(e.$t("action.agentName"))+"的"+e._s(e.$t("action.attendantName"))+"不可使用\n          ")])])],1),e._v(" "),e.routesItem.auth.hotel?a("el-form-item",{attrs:{label:"酒店权限",prop:"hotel_auth"}},[a("el-radio-group",{model:{value:e.subForm.hotel_auth,callback:function(t){e.$set(e.subForm,"hotel_auth",t)},expression:"subForm.hotel_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("有权限时，"+e._s(e.$t("action.agentName"))+"端可自主上传酒店信息给平台审核\n        ")])],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"修改"+e.$t("action.attendantName")+"/推广人员余额",prop:"coach_cash_auth"}},[a("el-radio-group",{model:{value:e.subForm.coach_cash_auth,callback:function(t){e.$set(e.subForm,"coach_cash_auth",t)},expression:"subForm.coach_cash_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("有权限时，该"+e._s(e.$t("action.agentName"))+"有权限修改自己的"+e._s(e.$t("action.attendantName"))+"余额及车费，自己发展的"+e._s(e.$t("action.resellerName"))+"、业务员、"+e._s(e.$t("action.channelName"))+"的余额数据")])],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("action.agentName")+"操作打款权限",prop:"wallet_check_auth"}},[a("el-radio-group",{model:{value:e.subForm.wallet_check_auth,callback:function(t){e.$set(e.subForm,"wallet_check_auth",t)},expression:"subForm.wallet_check_auth"}},[a("el-radio",{attrs:{label:1}},[e._v("有权限")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("无权限")])],1),e._v(" "),a("lb-tool-tips",[e._v("有权限时，该"+e._s(e.$t("action.agentName"))+"能在后台【财务管理 -\n          提现申请】操作提现或拒绝提现除自己之外的数据")]),e._v(" "),e.subForm.wallet_check_auth?a("div",[a("el-radio-group",{on:{change:e.changeCheckType},model:{value:e.subForm.wallet_check_type,callback:function(t){e.$set(e.subForm,"wallet_check_type",t)},expression:"subForm.wallet_check_type"}},[a("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("action.wechatCashOut")))]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("action.alipayCashOut")))]),e._v(" "),e.routesItem.auth.adapay||e.routesItem.auth.heepay?a("el-radio",{attrs:{label:2}},[e._v(e._s(e.$t("action.adapayCashOut")))]):e._e(),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v(e._s(e.$t("action.underlineCashOut")))])],1),e._v(" "),a("div",{staticClass:"f-caption c-tips",staticStyle:{"line-height":"1.2"}},[e._v("\n            变更提现方式后，该"+e._s(e.$t("action.agentName"))+"重新登录系统、重新进入提现申请页面或在该页面点击重置按钮可更新提现方式\n          ")])],1):e._e()],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog.sub=!1}}},[e._v(e._s(e.$t("action.cancel")))]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.submitFormInfo("sub",1)}}},[e._v(e._s(e.$t("action.comfirm")))])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"关联用户",visible:e.showDialog.user,width:"800px",top:"5vh",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"user",t)}}},[a("el-form",{ref:"userForm",attrs:{inline:!0,model:e.searchForm.user,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"输入查询",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称/手机号"},model:{value:e.searchForm.user.nickName,callback:function(t){e.$set(e.searchForm.user,"nickName",t)},expression:"searchForm.user.nickName"}})],1),e._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDataList(1,"user")}}},[e._v(e._s(e.$t("action.search")))]),e._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("user")}}},[e._v(e._s(e.$t("action.reset")))])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.user,expression:"loading.user"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.user,"header-cell-style":{background:"#f5f7fa",color:"#606266"},"tooltip-effect":"dark","highlight-current-row":""},on:{"current-change":function(t){return e.handleTableChange(t,"user")}}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"avatarUrl",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("lb-image",{attrs:{src:e.row.avatarUrl}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"昵称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}})],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.user.page,pageSize:e.searchForm.user.limit,total:e.total.user},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"user")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"user")}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog.user=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.submitFormInfo("user",2)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"关联上级"+e.$t("action.agentName"),visible:e.showDialog.pid,width:"800px",top:"5vh",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"pid",t)}}},[a("el-form",{ref:"pidForm",attrs:{inline:!0,model:e.searchForm.pid,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"账号名称",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号名称"},model:{value:e.searchForm.pid.username,callback:function(t){e.$set(e.searchForm.pid,"username",t)},expression:"searchForm.pid.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名",prop:"agent_name"}},[a("el-input",{attrs:{placeholder:"请输入真实姓名"},model:{value:e.searchForm.pid.agent_name,callback:function(t){e.$set(e.searchForm.pid,"agent_name",t)},expression:"searchForm.pid.agent_name"}})],1),e._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDataList(1,"pid")}}},[e._v(e._s(e.$t("action.search")))]),e._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("pid")}}},[e._v(e._s(e.$t("action.reset")))])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.pid,expression:"loading.pid"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.pid,"header-cell-style":{background:"#f5f7fa",color:"#606266"},"tooltip-effect":"dark","highlight-current-row":""},on:{"current-change":function(t){return e.handleTableChange(t,"pid")}}},[a("el-table-column",{attrs:{prop:"user_id",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"用户昵称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"账号名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_name",label:"真实姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city_type",label:"代理等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"small",type:e.cityType[t.row.city_type].type}},[e._v(e._s(e.cityType[t.row.city_type].text))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"省/市/区县","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n            "+e._s(3===t.row.city_type?t.row.province:1===t.row.city_type?t.row.city_id?t.row.province+" "+t.row.city:"-":t.row.city_id?t.row.province?t.row.province+" "+t.row.city+" "+t.row.area:t.row.city+" "+t.row.area:"-")+"\n          ")])]}}])})],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.pid.page,pageSize:e.searchForm.pid.limit,total:e.total.pid},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"pid")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"pid")}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog.pid=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.submitFormInfo("pid",2)}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var b=a("C7Lr")(h,d,!1,function(e){a("JfEv")},null,null);t.default=b.exports}});