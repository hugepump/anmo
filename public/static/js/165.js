webpackJsonp([165],{axFR:function(e,t){},tcAG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=a.n(r),s=a("J0Oq"),l=a.n(s),o={data:function(){var e=this,t=function(t,a,r){1!==e.subForm.alipay_status||a?r():r(new Error("请输入"+t.text))};return{subForm:{alipay_status:0,ali_appid:"",ali_privatekey:"",ali_publickey:""},subFormRules:{alipay_status:{required:!0,type:"number",message:"请选择是否开启支付宝支付",trigger:"blur"},ali_appid:{required:!0,validator:t,text:"支付宝Appid",trigger:"blur"},ali_privatekey:{required:!0,validator:t,text:"应用私钥",trigger:"blur"},ali_publickey:{required:!0,validator:t,text:"支付宝公钥",trigger:"blur"}}}},created:function(){this.getFormInfo()},methods:{getFormInfo:function(){var e=this;return l()(i.a.mark(function t(){var a,r,s,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.system.payConfigInfo();case 2:if(a=t.sent,r=a.code,s=a.data,200===r){t.next=7;break}return t.abrupt("return");case 7:for(l in e.subForm)e.subForm[l]=s[l];case 8:case"end":return t.stop()}},t,e)}))()},submitFormInfo:function(){var e=this,t=!0;this.$refs.subForm.validate(function(e){e||(t=!1)}),t&&this.$api.system.payConfigUpdate(this.subForm).then(function(t){200===t.code&&e.$message.success(e.$t("tips.successSub"))})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lb-system-payment-alipay"},[a("top-nav"),e._v(" "),a("div",{staticClass:"page-main"},[a("lb-tips",[a("a",{staticClass:"c-link",attrs:{href:"https://opendocs.alipay.com/common/02kipl#%E5%85%AC%E9%92%A5%E6%96%B9%E5%BC%8F",target:"_blank"}},[e._v("点击查看支付宝密钥生成教程")])]),e._v(" "),a("el-form",{ref:"subForm",attrs:{model:e.subForm,rules:e.subFormRules,"label-width":"160px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"是否启用支付宝支付",prop:"alipay_status"}},[a("el-radio-group",{model:{value:e.subForm.alipay_status,callback:function(t){e.$set(e.subForm,"alipay_status",t)},expression:"subForm.alipay_status"}},[a("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("action.ON")))]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("action.OFF")))])],1),e._v(" "),a("lb-tool-tips",[e._v("开启后，手机端下单可选择支付宝支付")])],1),e._v(" "),1===e.subForm.alipay_status?a("block",[a("el-form-item",{attrs:{label:"支付宝Appid",prop:"ali_appid"}},[a("el-input",{attrs:{placeholder:"请输入支付宝Appid"},model:{value:e.subForm.ali_appid,callback:function(t){e.$set(e.subForm,"ali_appid",t)},expression:"subForm.ali_appid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应用私钥",prop:"ali_privatekey"}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:10,placeholder:"请输入应用私钥"},model:{value:e.subForm.ali_privatekey,callback:function(t){e.$set(e.subForm,"ali_privatekey",t)},expression:"subForm.ali_privatekey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付宝公钥",prop:"ali_publickey"}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:10,placeholder:"请输入支付宝公钥"},model:{value:e.subForm.ali_publickey,callback:function(t){e.$set(e.subForm,"ali_publickey",t)},expression:"subForm.ali_publickey"}})],1)],1):e._e(),e._v(" "),a("el-form-item",[a("lb-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:e.submitFormInfo}},[e._v(e._s(e.$t("action.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var u=a("C7Lr")(o,n,!1,function(e){a("axFR")},"data-v-284b5af5",null);t.default=u.exports}});