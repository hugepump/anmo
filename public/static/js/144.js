webpackJsonp([144],{"HXB/":function(e,r){},OwSt:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("3cXf"),n=t.n(o),s=t("IHPB"),i=t.n(s),l=t("lC5x"),a=t.n(l),u=t("J0Oq"),c=t.n(u),m={data:function(){return{subForm:{login_protocol:"",information_protection:"",end_order_rules:""},subFormRules:{login_protocol:{required:!0,validator:this.$reg.isNotNull,text:"隐私政策",reg_type:2,trigger:"blur"},information_protection:{required:!0,validator:this.$reg.isNotNull,text:"服务协议",reg_type:2,trigger:"blur"},end_order_rules:{required:!0,validator:this.$reg.isNotNull,text:"用户完成服务须知",reg_type:2,trigger:"blur"}}}},created:function(){this.getFormInfo()},methods:{getFormInfo:function(){var e=this;return c()(a.a.mark(function r(){var t,o,n,s;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$api.system.configInfo({login_protocol:1});case 2:if(t=r.sent,o=t.code,n=t.data,200===o){r.next=7;break}return r.abrupt("return");case 7:for(s in n.end_order_rules=n.end_order_rules.replaceAll(/\\n/g,"\r\n"),e.subForm)e.subForm[s]=n[s];case 9:case"end":return r.stop()}},r,e)}))()},getCover:function(e,r){this.subForm[r]=e},selectedFiles:function(e,r){var t;(t=this.subForm[r]).push.apply(t,i()(e))},moveFiles:function(e,r){this.subForm[r]=e},submitFormInfo:function(){var e=this,r=!0;if(this.$refs.subForm.validate(function(e){e||(r=!1)}),r){var t=JSON.parse(n()(this.subForm));this.$api.system.configUpdate(t).then(function(r){200===r.code&&e.$message.success(e.$t("tips.successSub"))})}}}},p={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"lb-system-info"},[t("top-nav"),e._v(" "),t("div",{staticClass:"page-main"},[t("el-form",{ref:"subForm",staticClass:"config-form",attrs:{model:e.subForm,rules:e.subFormRules,"label-width":"160px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"隐私政策",prop:"login_protocol"}},[t("lb-ueditor",{attrs:{destroy:!0,ueditorType:3},model:{value:e.subForm.login_protocol,callback:function(r){e.$set(e.subForm,"login_protocol",r)},expression:"subForm.login_protocol"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"服务协议",prop:"information_protection"}},[t("lb-ueditor",{attrs:{destroy:!0,ueditorType:3},model:{value:e.subForm.information_protection,callback:function(r){e.$set(e.subForm,"information_protection",r)},expression:"subForm.information_protection"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"用户完成服务须知",prop:"end_order_rules"}},[t("el-input",{attrs:{type:"textarea",resize:"none",rows:10,maxlength:"400","show-word-limit":"",placeholder:"请输入用户完成服务须知"},model:{value:e.subForm.end_order_rules,callback:function(r){e.$set(e.subForm,"end_order_rules",r)},expression:"subForm.end_order_rules"}})],1),e._v(" "),t("el-form-item",[t("lb-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:e.submitFormInfo}},[e._v(e._s(e.$t("action.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var d=t("C7Lr")(m,p,!1,function(e){t("HXB/")},"data-v-3c21b2c7",null);r.default=d.exports}});