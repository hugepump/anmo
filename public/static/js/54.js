webpackJsonp([54],{NPUx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("3cXf"),s=r.n(a),o=r("lC5x"),l=r.n(o),i=r("J0Oq"),u=r.n(i),n={data:function(){return{navTitle:"",subForm:{status:0,growth_name:"",growth_value:"",growth_limit:0,max_growth_day:"",member_text:""},subFormRules:{status:{required:!0,type:"number",message:"请选择",trigger:"blur"},growth_name:{required:!0,validator:this.$reg.isNotNull,text:"成长值展示名称",reg_type:2,trigger:"blur"},growth_value:{required:!0,validator:this.$reg.isNum,text:"成长值",reg_type:2,trigger:"blur"},growth_limit:{required:!0,type:"number",message:"请选择",trigger:"blur"},max_growth_day:{required:!0,validator:this.$reg.isNum,text:"成长值",reg_type:2,trigger:"blur"},member_text:{required:!0,validator:this.$reg.isNotNull,text:"会员规则",reg_type:2,trigger:"blur"}}}},created:function(){var e=this;return u()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.getDetail();case 1:case"end":return t.stop()}},t,e)}))()},methods:{getDetail:function(){var e=this;return u()(l.a.mark(function t(){var r,a,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.member.configInfo();case 2:for(s in r=t.sent,(a=r.data).member_text=null===a.member_text?"":a.member_text,e.subForm)e.subForm[s]=a[s];case 6:case"end":return t.stop()}},t,e)}))()},submitFormInfo:function(){var e=this;return u()(l.a.mark(function t(){var r,a,o;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.subForm.status,a=!0,1===r&&e.$refs.subForm.validate(function(e){e||(a=!1)}),o=JSON.parse(s()(e.subForm)),a){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.$api.member.configUpdate(o);case 8:e.$message.success(e.$t("tips.successSub"));case 9:case"end":return t.stop()}},t,e)}))()}}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lb-custom-member-set"},[r("top-nav"),e._v(" "),r("div",{staticClass:"page-main"},[r("el-form",{ref:"subForm",attrs:{model:e.subForm,rules:e.subFormRules,"label-width":"140px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"是否启用会员体系",prop:"status"}},[r("el-radio-group",{model:{value:e.subForm.status,callback:function(t){e.$set(e.subForm,"status",t)},expression:"subForm.status"}},[r("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("action.ON")))]),e._v(" "),r("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("action.OFF")))])],1)],1),e._v(" "),1===e.subForm.status?r("block",[r("el-form-item",{attrs:{label:"成长值展示名称",prop:"growth_name"}},[r("el-input",{attrs:{type:"text",maxlength:"10","show-word-limit":"",placeholder:"请输入自定义名称，不输入则默认【成长值】"},model:{value:e.subForm.growth_name,callback:function(t){e.$set(e.subForm,"growth_name",t)},expression:"subForm.growth_name"}}),e._v(" "),r("lb-tool-tips",[e._v("例如淘宝【淘气值】，京东【京享值】")])],1),e._v(" "),r("el-form-item",{attrs:{label:"成长值设置",prop:"growth_value"}},[r("el-input",{attrs:{placeholder:""},model:{value:e.subForm.growth_value,callback:function(t){e.$set(e.subForm,"growth_value",t)},expression:"subForm.growth_value"}},[r("template",{slot:"prepend"},[e._v("每消费1元增加")]),e._v(" "),r("template",{slot:"append"},[e._v("成长值")])],2),e._v(" "),r("lb-tool-tips",[e._v("充值和微信、支付宝下单的金额可兑换成长值")])],1),e._v(" "),r("el-form-item",{attrs:{label:"成长值获取限制",prop:"growth_limit"}},[r("el-radio-group",{model:{value:e.subForm.growth_limit,callback:function(t){e.$set(e.subForm,"growth_limit",t)},expression:"subForm.growth_limit"}},[r("el-radio",{attrs:{label:1}},[e._v("限制")]),e._v(" "),r("el-radio",{attrs:{label:0}},[e._v("不限制")])],1),e._v(" "),r("lb-tool-tips",[e._v("包含充值和微信、支付宝下单累计的金额，例如用户充值储值套餐可累积成长值，微信、支付宝下单消费也能累积成长值\n            "),r("div",{staticClass:"mt-sm c-warning"},[e._v("\n              成长值设置修改即时生效，对以往数据不产生影响\n            ")])])],1),e._v(" "),1===e.subForm.growth_limit?r("el-form-item",{attrs:{label:"",prop:"max_growth_day"}},[r("el-input",{attrs:{placeholder:"请输入成长值"},model:{value:e.subForm.max_growth_day,callback:function(t){e.$set(e.subForm,"max_growth_day",t)},expression:"subForm.max_growth_day"}},[r("template",{slot:"prepend"},[e._v("每日最多获得")]),e._v(" "),r("template",{slot:"append"},[e._v("成长值")])],2)],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"会员规则",prop:"member_text"}},[r("lb-ueditor",{attrs:{destroy:!0,ueditorType:3},model:{value:e.subForm.member_text,callback:function(t){e.$set(e.subForm,"member_text",t)},expression:"subForm.member_text"}})],1)],1):e._e(),e._v(" "),r("el-form-item",[r("lb-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:e.submitFormInfo}},[e._v(e._s(e.$t("action.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var b=r("C7Lr")(n,m,!1,function(e){r("eeQ5")},"data-v-b02901a2",null);t.default=b.exports},eeQ5:function(e,t){}});