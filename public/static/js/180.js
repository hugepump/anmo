webpackJsonp([180],{"6vi5":function(e,t){},"9Rsl":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("3cXf"),a=r.n(s),o=r("lC5x"),i=r.n(o),l=r("J0Oq"),n=r.n(l),u=r("4YfN"),c=r.n(u),m=r("aA9S"),d=r.n(m),b=r("bSIt"),p={data:function(){var e=this;return{navTitle:"",subForm:{id:0,title:"",stock:"",type:0,full:"",discount:"",rule:"",text:"",time_limit:0,user_limit:1,day:1,end_time:"",start_time:"",send_type:0,use_scene:0,status:1,service:[],store:[],top:0},send_type2Rules:{stock:{required:!0,type:"number",message:"请输入卡券库存",trigger:"blur"},user_limit:{required:!0,message:"请选择领取身份",trigger:"blur"}},send_typeRules:{title:{required:!0,message:"请输入卡券名称",trigger:"blur"},type:{required:!0,message:"请选择使用条件",trigger:"blur"},full:{validator:function(t,r,s){var a=/^(([0-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/;0===e.subForm.type?a.test(r)?a.test(e.subForm.discount)?1*r<1*e.subForm.discount?s(new Error("优惠金额不能大于消费金额")):s():s(new Error("请输入优惠金额")):s(new Error("请输入消费金额")):1===e.subForm.type&&(a.test(e.subForm.discount)?s():s(new Error("请输入优惠金额")))},trigger:"blur"},rule:{required:!0,type:"string",message:"请输入使用规则",trigger:"blur"},text:{required:!0,type:"string",message:"请输入优惠详情",trigger:"blur"},send_type:{required:!0,message:"请选择派发方式",trigger:"blur"},time_limit:{required:!0,message:"请选择使用时间",trigger:"blur"},use_scene:{required:!0,message:"请选择使用场景",trigger:"blur"},start_time:{validator:function(t,r,s){var a=e.subForm,o=a.time_limit,i=a.start_time,l=a.end_time;0===o?i&&l?i&&l&&l<=i?s(new Error("结束时间必须大于开始时间")):s():s(new Error("请选择"+(i?"结束时间":"开始时间"))):s()},text:"开始时间",trigger:["blur","change"]},service:{required:!0,validator:function(t,r,s){0===e.subForm.use_scene&&3!==e.subForm.send_type&&0===r.length?s(new Error("请选择服务")):s()},trigger:"blur"},store:{required:!0,validator:function(t,r,s){1===e.subForm.use_scene&&0===r.length?s(new Error("请选择门店")):s()},trigger:"blur"}},subFormRules:{},searchForm:{service:{page:1,limit:10,status:1,name:""},store:{page:1,limit:10,status:1,title:""}},total:{service:0,store:0},loading:{service:!1,store:!1},tableData:{service:[],store:[]},showDialog:{service:!1,store:!1},multipleSelection:[]}},watch:{"subForm.send_type":{handler:function(e,t){this.routesItem.userInfo.is_admin&&(this.subFormRules=2===e?d()({},this.send_typeRules,this.send_type2Rules):this.send_typeRules)},deep:!0}},created:function(){var e=this.$route.query.id,t=void 0===e?0:e,r=this.routesItem.userInfo.is_admin;this.subForm.send_type=r?0:1,this.subFormRules=r?this.send_typeRules:d()({},this.send_typeRules,this.send_type2Rules),this.subForm.id=t,this.navTitle=this.$t(t?"menu.MarketCouponEdit":"menu.MarketCouponAdd"),t&&this.getDetail()},computed:c()({},Object(b.e)({routesItem:function(e){return e.routes}})),methods:{getDetail:function(){var e=this;return n()(i.a.mark(function t(){var r,s,a,o,l,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.subForm.id,t.next=3,e.$api.market.couponInfo({id:r});case 3:if(s=t.sent,a=s.code,o=s.data,200===a){t.next=8;break}return t.abrupt("return");case 8:for(l in o.start_time=o.start_time?1e3*o.start_time:"",o.end_time=o.end_time?1e3*o.end_time:"",o.store=null===o.store?[]:o.store,e.subForm)e.subForm[l]=o[l];n=e.routesItem.userInfo.is_admin,(void 0===n?0:n)&&o.admin_id&&(e.searchForm.service.coupon_admin_id=o.admin_id);case 14:case"end":return t.stop()}},t,e)}))()},toShowDialog:function(e){var t=this;return n()(i.a.mark(function r(){var s;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s="service"===e?"name":"title",t.searchForm[e][s]="",r.next=4,t.getTableDataList(1,e);case 4:t.showDialog[e]=!t.showDialog[e];case 5:case"end":return r.stop()}},r,t)}))()},resetForm:function(e){var t=e+"Form";this.$refs[t].resetFields(),this.getTableDataList(1,e)},handleSizeChange:function(e,t){this.searchForm[t].limit=e,this.handleCurrentChange(1,t)},handleCurrentChange:function(e,t){this.searchForm[t].page=e,this.getTableDataList("",t)},getTableDataList:function(e,t){var r=this;return n()(i.a.mark(function s(){var o,l,n,u,c,m,d,b;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e&&(r.searchForm[t].page=e),r.tableData[t]=[],r.loading[t]=!0,r.multipleSelection.length>0&&(o=t+"MultipleTable",r.$refs[o].clearSelection()),l=JSON.parse(a()(r.searchForm[t])),n={service:{methodKey:"service",methodModel:"serviceList"},store:{methodKey:"store",methodModel:"storeList"}}[t],u=n.methodKey,c=n.methodModel,s.next=9,r.$api[u][c](l);case 9:if(m=s.sent,d=m.code,b=m.data,r.loading[t]=!1,200===d){s.next=15;break}return s.abrupt("return");case 15:r.tableData[t]=b.data,r.total[t]=b.total;case 17:case"end":return s.stop()}},s,r)}))()},handleSelectionChange:function(e){this.multipleSelection=e},handleDialogConfirm:function(e){if(0!==this.multipleSelection.length){var t=JSON.parse(a()(this.subForm[e])),r=t.length>0?t.map(function(e){return e.id}):[];this.multipleSelection.map(function(e){r.includes(e.id)||t.push(e)}),this.subForm[e]=t,this.showDialog[e]=!1}else this.$message.error("请选择"+("service"===e?"服务":"门店"))},toResetMultipleSelection:function(){this.multipleSelection=[]},toDelItem:function(e,t){this.subForm[t].splice(e,1)},toBatch:function(e){var t=this;return n()(i.a.mark(function r(){var s,a;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.multipleSelection.length){r.next=3;break}return t.$message.error("请选择要操作的数据"),r.abrupt("return");case 3:s=t.multipleSelection.map(function(e){return e.id}),a=t.subForm[e].filter(function(e){return!s.includes(e.id)}),t.subForm[e]=a;case 6:case"end":return r.stop()}},r,t)}))()},submitFormInfo:function(){var e=this,t=!0;if(this.$refs.subForm.validate(function(e){e||(t=!1)}),t){var r=JSON.parse(a()(this.subForm)),s=r.id?"couponUpdate":"couponAdd";0===r.time_limit?(r.start_time=r.start_time/1e3,r.end_time=r.end_time/1e3,r.day=""):(r.start_time="",r.end_time="");var o=r.use_scene||3===r.send_type?[]:r.service.map(function(e){return e.id});r.service=o;var i=r.use_scene?r.store.map(function(e){return e.id}):[];r.store=i,this.$api.market[s](r).then(function(t){200===t.code&&(e.$message.success(e.$t(r.id?"tips.successRev":"tips.successSub")),e.$router.back(-1))})}}}},v={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lb-market-coupon-edit"},[r("top-nav",{attrs:{title:e.navTitle,isBack:!0}}),e._v(" "),r("div",{staticClass:"page-main"},[r("el-form",{ref:"subForm",attrs:{model:e.subForm,rules:e.subFormRules,"label-width":"120px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"卡券名称",prop:"title"}},[r("el-input",{attrs:{maxlength:"20","show-word-limit":"",placeholder:"请输入卡券名称"},model:{value:e.subForm.title,callback:function(t){e.$set(e.subForm,"title",t)},expression:"subForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"使用条件",prop:"type"}},[r("el-radio-group",{on:{change:function(t){return e.redMarketChange(t,"type")}},model:{value:e.subForm.type,callback:function(t){e.$set(e.subForm,"type",t)},expression:"subForm.type"}},[r("el-radio",{attrs:{label:0}},[e._v("消费满")]),e._v(" "),r("el-radio",{attrs:{label:1}},[e._v("无门槛")])],1)],1),e._v(" "),r("el-form-item",{attrs:{prop:"full"}},[0===e.subForm.type?r("block",[e._v("\n          消费满\n          "),r("el-input",{staticStyle:{width:"130px"},attrs:{placeholder:"请输入消费金额"},model:{value:e.subForm.full,callback:function(t){e.$set(e.subForm,"full",t)},expression:"subForm.full"}})],1):e._e(),e._v("\n        "+e._s(0===e.subForm.type?"元可用":"立减")+"\n        "),r("el-input",{staticStyle:{width:"130px"},attrs:{placeholder:"请输入优惠金额"},model:{value:e.subForm.discount,callback:function(t){e.$set(e.subForm,"discount",t)},expression:"subForm.discount"}}),e._v(" "),1===e.subForm.type?r("block",[e._v("元")]):e._e()],1),e._v(" "),r("el-form-item",{attrs:{label:"使用规则",prop:"rule"}},[r("el-input",{attrs:{type:"textarea",rows:10,maxlength:"1000",resize:"none","show-word-limit":"",placeholder:"请输入使用规则"},model:{value:e.subForm.rule,callback:function(t){e.$set(e.subForm,"rule",t)},expression:"subForm.rule"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"优惠详情",prop:"text"}},[r("el-input",{attrs:{type:"textarea",rows:10,maxlength:"1000",resize:"none","show-word-limit":"",placeholder:"请输入优惠详情"},model:{value:e.subForm.text,callback:function(t){e.$set(e.subForm,"text",t)},expression:"subForm.text"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"派发方式",prop:"send_type"}},[r("el-radio-group",{attrs:{disabled:!!e.subForm.id},on:{change:function(t){return e.redMarketChange(t,"send_type")}},model:{value:e.subForm.send_type,callback:function(t){e.$set(e.subForm,"send_type",t)},expression:"subForm.send_type"}},[e.routesItem.auth.couponatv&&e.routesItem.userInfo.is_admin?r("el-radio",{attrs:{label:0}},[e._v("活动派发")]):e._e(),e._v(" "),r("el-radio",{attrs:{label:2}},[e._v("用户领取")]),e._v(" "),r("el-radio",{attrs:{label:1}},[e._v("平台定向派发")]),e._v(" "),e.routesItem.userInfo.is_admin&&(e.routesItem.auth.member||e.routesItem.auth.memberdiscount)?r("el-radio",{attrs:{label:3}},[e._v("系统派发")]):e._e()],1),e._v(" "),r("lb-tool-tips",[e.routesItem.auth.couponatv&&e.routesItem.userInfo.is_admin?r("div",{staticClass:"mb-sm"},[e._v("\n            活动派发：需要参与活动，活动参与成功之后系统自动派发到用户的卡包\n          ")]):e._e(),e._v(" "),r("div",{staticClass:"mb-sm"},[e._v("平台定向派发：平台指定派发到用户的卡包")]),e._v(" "),e.routesItem.userInfo.is_admin&&(e.routesItem.auth.member||e.routesItem.auth.memberdiscount)?r("div",[e._v("\n            系统派发：无需关联服务，满足条件的某些用户，例如：会员（某些会员权益会以卡券形式自动派发到用户卡包里，无需用户领取）\n          ")]):e._e()])],1),e._v(" "),2==e.subForm.send_type?r("el-form-item",{attrs:{label:"领取身份",prop:"user_limit"}},[r("el-radio-group",{model:{value:e.subForm.user_limit,callback:function(t){e.$set(e.subForm,"user_limit",t)},expression:"subForm.user_limit"}},[r("el-radio",{attrs:{label:1}},[e._v("不限制，任何人可领取")]),e._v(" "),r("el-radio",{attrs:{label:2}},[e._v("仅限新用户")])],1)],1):e._e(),e._v(" "),2==e.subForm.send_type?r("el-form-item",{attrs:{label:"卡券库存",prop:"stock"}},[r("el-input-number",{staticClass:"lb-input-number",attrs:{min:0,controls:!1,placeholder:"请输入卡券数量"},model:{value:e.subForm.stock,callback:function(t){e.$set(e.subForm,"stock",t)},expression:"subForm.stock"}})],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"使用时间",prop:"time_limit"}},[r("el-radio-group",{model:{value:e.subForm.time_limit,callback:function(t){e.$set(e.subForm,"time_limit",t)},expression:"subForm.time_limit"}},[r("el-radio",{attrs:{label:0}},[e._v("指定日期")]),e._v(" "),r("el-radio",{attrs:{label:1}},[e._v("有效天数")])],1)],1),e._v(" "),0===e.subForm.time_limit?r("el-form-item",{attrs:{label:"",prop:"start_time"}},[r("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择开始日期时间"},model:{value:e.subForm.start_time,callback:function(t){e.$set(e.subForm,"start_time",t)},expression:"subForm.start_time"}}),e._v("\n        至\n        "),r("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择结束日期时间"},model:{value:e.subForm.end_time,callback:function(t){e.$set(e.subForm,"end_time",t)},expression:"subForm.end_time"}}),e._v(" "),r("lb-tool-tips",[e._v("领取的卡券必须在该时间前使用")])],1):e._e(),e._v(" "),1===e.subForm.time_limit?r("el-form-item",{attrs:{label:"",prop:"day"}},[r("em",{staticClass:"text-normal"},[e._v("自领券当日起")]),e._v(" "),r("el-input-number",{staticClass:"lb-input-number mini",attrs:{controls:!1,min:1,precision:0},model:{value:e.subForm.day,callback:function(t){e.$set(e.subForm,"day",t)},expression:"subForm.day"}}),e._v(" "),r("em",{staticClass:"text-normal"},[e._v("天内可用")]),e._v(" "),r("lb-tool-tips",[e._v("有效期按自然天计算。\n          "),r("div",{staticClass:"mt-sm mb-sm"},[e._v("\n            举例：如设置领券当日起30天内可用，用户在5月18日14:00时领取卡券，则该卡券的可用时间为5月18日的14:00:00至6月18日的14:00\n          ")]),e._v("\n          注意：时间按自然天来算，不是月\n        ")])],1):e._e(),e._v(" "),e.routesItem.userInfo.is_admin&&e.routesItem.auth.store?r("el-form-item",{attrs:{label:"使用场景",prop:"use_scene"}},[r("el-radio-group",{attrs:{disabled:!!e.subForm.id},model:{value:e.subForm.use_scene,callback:function(t){e.$set(e.subForm,"use_scene",t)},expression:"subForm.use_scene"}},[r("el-radio",{attrs:{label:0}},[e._v("线上抵扣")]),e._v(" "),r("el-radio",{attrs:{label:1}},[e._v("线下核销")])],1)],1):e._e(),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.subForm.use_scene&&3!==e.subForm.send_type,expression:"!subForm.use_scene && subForm.send_type !== 3"}],attrs:{label:"限用服务",prop:"service"}},[r("lb-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.toShowDialog("service")}}},[e._v("选择服务")]),e._v(" "),r("el-table",{directives:[{name:"show",rawName:"v-show",value:!e.subForm.use_scene,expression:"!subForm.use_scene"}],ref:"serviceMultipleTable",staticClass:"mt-lg",staticStyle:{width:"100%"},attrs:{data:e.subForm.service,"header-cell-style":{background:"#f5f7fa",color:"#606266"},height:e.subForm.service.length>5?550:""},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"title",label:"服务名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"price",label:"服务价格"}}),e._v(" "),r("el-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"table-operate"},[r("lb-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(r){return e.toDelItem(t.$index,"service")}}},[e._v(e._s(e.$t("action.delete")))])],1)]}}])})],1),e._v(" "),e.subForm.service.length>0?r("lb-page",{attrs:{selected:e.showDialog.service?0:e.multipleSelection.length,onlyBatch:!0}},[r("div",{staticClass:"flex-warp batch-btn-list",staticStyle:{width:"90%"}},[r("lb-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.toBatch("service")}}},[e._v(e._s(e.$t("action.delete")))])],1)]):e._e()],1),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1===e.subForm.use_scene,expression:"subForm.use_scene === 1"}],attrs:{label:"限用门店",prop:"store"}},[r("lb-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.toShowDialog("store")}}},[e._v("选择门店")]),e._v(" "),r("el-table",{ref:"storeMultipleTable",staticClass:"mt-lg",staticStyle:{width:"100%"},attrs:{data:e.subForm.store,"header-cell-style":{background:"#f5f7fa",color:"#606266"},height:e.subForm.store.length>5?550:""},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"cover",label:"门店头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("lb-image",{attrs:{src:e.row.cover}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"title",label:"门店名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"admin_name",label:"关联"+e.$t("action.agentName")}}),e._v(" "),r("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(1===t.row.status?"上架中":"已下架")+"\n            ")]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"table-operate"},[r("lb-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(r){return e.toDelItem(t.$index,"store")}}},[e._v(e._s(e.$t("action.delete")))])],1)]}}])})],1),e._v(" "),e.subForm.store.length>0?r("lb-page",{attrs:{selected:e.showDialog.store?0:e.multipleSelection.length,onlyBatch:!0}},[r("div",{staticClass:"flex-warp batch-btn-list",staticStyle:{width:"90%"}},[r("lb-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.toBatch("store")}}},[e._v(e._s(e.$t("action.delete")))])],1)]):e._e()],1),e._v(" "),r("el-form-item",[r("lb-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:e.submitFormInfo}},[e._v(e._s(e.$t("action.submit")))]),e._v(" "),r("lb-button",{on:{click:function(t){return e.$router.back(-1)}}},[e._v(e._s(e.$t("action.back")))])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"限用服务",visible:e.showDialog.service,width:"800px",top:"5vh",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"service",t)},close:e.toResetMultipleSelection}},[r("el-form",{ref:"serviceForm",attrs:{inline:!0,model:e.searchForm.service,"label-width":"70px"}},[r("el-form-item",{attrs:{label:"输入查询",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入服务名称"},model:{value:e.searchForm.service.name,callback:function(t){e.$set(e.searchForm.service,"name",t)},expression:"searchForm.service.name"}})],1),e._v(" "),r("el-form-item",[r("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDataList(1,"service")}}},[e._v(e._s(e.$t("action.search")))]),e._v(" "),r("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("service")}}},[e._v(e._s(e.$t("action.reset")))])],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.service,"header-cell-style":{background:"#f5f7fa",color:"#606266"},"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{prop:"title",label:"服务名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"price",label:"服务价格"}}),e._v(" "),r("el-table-column",{attrs:{prop:"admin_name",label:"创建人"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.admin_id?""+t.row.admin_city+e.$t("action.agentName")+"-"+t.row.admin_name:t.row.admin_name)+"\n          ")]}}])})],1),e._v(" "),r("lb-page",{attrs:{batch:!1,page:e.searchForm.service.page,pageSize:e.searchForm.service.limit,total:e.total.service},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"service")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"service")}}}),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showDialog.service=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.handleDialogConfirm("service")}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"限用门店",visible:e.showDialog.store,width:"800px",top:"5vh",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"store",t)},close:e.toResetMultipleSelection}},[r("el-form",{ref:"storeForm",attrs:{inline:!0,model:e.searchForm.store,"label-width":"70px"}},[r("el-form-item",{attrs:{label:"输入查询",prop:"title"}},[r("el-input",{attrs:{placeholder:"请输入门店名称"},model:{value:e.searchForm.store.title,callback:function(t){e.$set(e.searchForm.store,"title",t)},expression:"searchForm.store.title"}})],1),e._v(" "),r("el-form-item",[r("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDataList(1,"store")}}},[e._v(e._s(e.$t("action.search")))]),e._v(" "),r("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("store")}}},[e._v(e._s(e.$t("action.reset")))])],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.store,"header-cell-style":{background:"#f5f7fa",color:"#606266"},"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),r("el-table-column",{attrs:{prop:"cover",label:"门店头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("lb-image",{attrs:{src:e.row.cover}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"title",label:"门店名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"admin_name",label:"关联"+e.$t("action.agentName")}})],1),e._v(" "),r("lb-page",{attrs:{batch:!1,page:e.searchForm.store.page,pageSize:e.searchForm.store.limit,total:e.total.store},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"store")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"store")}}}),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showDialog.store=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.handleDialogConfirm("store")}}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var _=r("C7Lr")(p,v,!1,function(e){r("6vi5")},"data-v-18ecb158",null);t.default=_.exports}});