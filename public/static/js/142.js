webpackJsonp([142],{WBDb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("3cXf"),s=a.n(r),i=a("lC5x"),n=a.n(i),l=a("J0Oq"),m=a.n(l),o=a("4YfN"),c=a.n(o),u=a("bSIt"),v={data:function(){return{subForm:{material_type:0,material_text:""},subFormRules:{material_type:{required:!0,type:"number",message:"请选择",trigger:"blur"},material_text:{required:!0,validator:this.$reg.isNotNull,text:this.$t("action.materialText")+"文案",reg_type:2,trigger:"blur"}}}},created:function(){this.getFormInfo()},computed:c()({},Object(u.e)({routesItem:function(t){return t.routes}})),methods:c()({},Object(u.d)(["changeRoutesItem"]),{getFormInfo:function(){var t=this;return m()(n.a.mark(function e(){var a,r,s,i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.system.configInfo();case 2:if(a=e.sent,r=a.code,s=a.data,200===r){e.next=7;break}return e.abrupt("return");case 7:for(i in t.subForm)t.subForm[i]=s[i];case 8:case"end":return e.stop()}},e,t)}))()},submitFormInfo:function(){var t=this;return m()(n.a.mark(function e(){var a,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!0,t.$refs.subForm.validate(function(t){t||(a=!1)}),a){e.next=4;break}return e.abrupt("return");case 4:return r=JSON.parse(s()(t.subForm)),e.next=7,t.$api.system.configUpdate(r);case 7:t.changeRoutesItem({key:"material_text",val:r.material_text}),t.$message.success(t.$t("tips.successSub"));case 9:case"end":return e.stop()}},e,t)}))()}})},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lb-service-set-material-set"},[a("top-nav"),t._v(" "),a("div",{staticClass:"page-main"},[a("el-form",{ref:"subForm",staticClass:"config-form",attrs:{model:t.subForm,rules:t.subFormRules,"label-width":"150px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"选择计算规则",prop:"material_type"}},[a("el-radio-group",{model:{value:t.subForm.material_type,callback:function(e){t.$set(t.subForm,"material_type",e)},expression:"subForm.material_type"}},[a("el-radio",{attrs:{label:0}},[t._v("规则一")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("规则二")])],1),t._v(" "),a("lb-tool-tips",[t._v("\n          例如：一项289元的服务，包含了9元"+t._s(t.$t("action.materialText"))+"，"+t._s(t.$t("action.attendantName"))+"百分比为60%\n          "),a("div",{staticClass:"mt-md"},[t._v("\n            选择规则一："+t._s(t.$t("action.attendantName"))+"的提成是扣除了"+t._s(t.$t("action.materialText"))+"后才按照百分比提成\n          ")]),t._v(" "),a("div",{staticClass:"mt-sm",staticStyle:{"margin-left":"60px"}},[t._v("\n            = (服务费 - "+t._s(t.$t("action.materialText"))+") *\n            "+t._s(t.$t("action.attendantName"))+"百分比\n          ")]),t._v(" "),a("div",{staticClass:"mt-sm",staticStyle:{"margin-left":"60px"}},[t._v("= (289 - 9) * 60%")]),t._v(" "),a("div",{staticClass:"mt-sm",staticStyle:{"margin-left":"60px"}},[t._v("= 168元")]),t._v(" "),a("div",{staticClass:"mt-md"},[t._v("\n            选择规则二："+t._s(t.$t("action.attendantName"))+"先提成后减去"+t._s(t.$t("action.materialText"))+"\n          ")]),t._v(" "),a("div",{staticClass:"mt-sm",staticStyle:{"margin-left":"60px"}},[t._v("\n            = 服务费*"+t._s(t.$t("action.attendantName"))+"百分比 -\n            "+t._s(t.$t("action.materialText"))+"\n          ")]),t._v(" "),a("div",{staticClass:"mt-sm",staticStyle:{"margin-left":"60px"}},[t._v("= 289 * 60% - 9")]),t._v(" "),a("div",{staticClass:"mt-sm",staticStyle:{"margin-left":"60px"}},[t._v("= 164.4元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("action.materialText")+"文案",prop:"material_text"}},[a("el-input",{attrs:{maxlength:"5","show-word-limit":"",placeholder:"请输入"+t.$t("action.materialText")+"文案"},model:{value:t.subForm.material_text,callback:function(e){t.$set(t.subForm,"material_text",e)},expression:"subForm.material_text"}})],1),t._v(" "),a("el-form-item",[a("lb-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:t.submitFormInfo}},[t._v(t._s(t.$t("action.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var p=a("C7Lr")(v,_,!1,function(t){a("t+0w")},"data-v-3d8e8bb6",null);e.default=p.exports},"t+0w":function(t,e){}});