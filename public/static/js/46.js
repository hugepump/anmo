webpackJsonp([46],{c7Mb:function(e,t){},dzuX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3cXf"),r=a.n(n),s=a("rVsN"),i=a.n(s),o=a("KH7x"),l=a.n(o),m=a("4YfN"),c=a.n(m),u=a("lC5x"),d=a.n(u),h=a("aA9S"),_=a.n(h),p=a("J0Oq"),b=a.n(p),f=a("bSIt"),g=a("PxTW"),v=a.n(g),F={data:function(){var e=this;return{pickerOptions:{disabledDate:function(e){return e.getTime()>1e3*(v()(v()(Date.now()).format("YYYY-MM-DD")).unix()+86400-1)}},navTitle:"",cityType:{3:{type:"success",text:"省"},1:{type:"primary",text:"市"},2:{type:"danger",text:"区县"}},base_channel:[],have_user_id:!1,searchForm:{user:{page:1,limit:10,nickName:""},agent:{page:1,limit:10,username:"",nickName:"",channel_auth:1},salesman:{page:1,limit:10,status:2,admin_id:0,name:""}},loading:{user:!1,agent:!1,salesman:!1},tableData:{user:[],agent:[],salesman:[]},total:{user:0,agent:0,salesman:0},showDialog:{user:!1,agent:!1,salesman:!1},multipleSelection:[],currentRow:{},adminParams:{admin_id:"",salesman_id:"",check_id:"",check_name:""},subForm:{id:"",user_id:"",nickName:"",user_name:"",true_user_name:"",mobile:"",cate_id:"",type:0,admin_id:"",salesman_id:"",admin_name:"",salesman_name:"",check_id:"",check_name:"",time_type:0,time:"",text:""},subFormRules:{user_id:{required:!0,type:"number",message:"请选择关联用户",trigger:"blur"},user_name:{required:!0,validator:this.$reg.isNotNull,text:this.$t("action.channelName")+"姓名",reg_type:2,trigger:"blur"},true_user_name:{required:!0,validator:this.$reg.isNotNull,text:"真实姓名",reg_type:2,trigger:"blur"},mobile:{required:!0,validator:this.$reg.isTel,text:"手机号",reg_type:2,trigger:"blur"},type:{required:!0},time_type:{required:!0,validator:function(t,a,n){var r=e.subForm.time;!a||r&&/^[1-9]\d*$/.test(r)?n():n(new Error(a?"请输入正确的绑定时效，必须是大于0的整数":"请输入"+t.text))},text:"绑定"+this.$t("action.channelName")+"时效",trigger:"blur"}}}},created:function(){var e=this;return b()(d.a.mark(function t(){var a,n,r,s,i,o;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$route.query.id,n=e.routesItem.userInfo,r=n.is_admin,s=n.id,i=n.admin_id,s=(void 0===i?0:i)||s,e.searchForm.salesman.admin_id=r?0:s,t.next=6,e.getBaseInfo();case 6:if(!a){t.next=12;break}return e.subForm.id=a,t.next=10,e.getDetail(a);case 10:t.next=14;break;case 12:o=_()({},e.subForm,e.adminParams,{type:r?0:1}),e.subForm=o;case 14:e.navTitle=e.$t(a?"menu.ChannelEdit":"menu.ChannelAdd");case 15:case"end":return t.stop()}},t,e)}))()},computed:c()({},Object(f.e)({routesItem:function(e){return e.routes}})),methods:{getBaseInfo:function(){var e=this;return b()(d.a.mark(function t(){var a,n,r,s,o,m,c,u;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.routesItem.userInfo.is_admin,n=e.searchForm.salesman.admin_id,r=void 0===n?0:n,t.next=4,i.a.all(a?[e.$api.channel.cateSelect()]:[e.$api.channel.cateSelect(),e.$api.agent.adminSelect({admin_id:r})]);case 4:s=t.sent,o=l()(s,2),m=o[0],c=o[1],u=void 0===c?[]:c,e.base_channel=m.data,a||(e.adminParams={admin_id:r,salesman_id:0,check_id:r,check_name:u.data[0].agent_name});case 11:case"end":return t.stop()}},t,e)}))()},getDetail:function(e){var t=this;return b()(d.a.mark(function a(){var n,r,s,i,o,l,m,c,u,h,_,p;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$api.channel.channelInfo({id:e});case 2:for(p in n=a.sent,r=n.data,s=r.admin_id,i=r.admin_name,o=r.salesman_id,l=r.salesman_name,m=t.routesItem.auth,c=m.salesman,u=m.salesman_auth,h=t.routesItem.userInfo.is_admin,_=c&&(h||!h&&u)&&o&&l?2:s&&i?1:0,r.type=_,r.check_id=2===_?o:1===_?s:0,r.check_name=2===_?l:1===_?i:"",r.time=r.time||"",t.subForm)t.subForm[p]=r[p];t.have_user_id=r.id&&r.user_id;case 14:case"end":return a.stop()}},a,t)}))()},toShowDialog:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b()(d.a.mark(function n(){return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=JSON.parse(r()(a)),"user"!==e||!t.have_user_id){n.next=3;break}return n.abrupt("return");case 3:return t.currentRow={},"salesman"===e?t.searchForm[e].name="":(t.searchForm[e].username="",t.searchForm[e].nickName=""),n.next=7,t.getTableDataList(1,e);case 7:t.showDialog[e]=!t.showDialog[e];case 8:case"end":return n.stop()}},n,t)}))()},toChangeType:function(e){var t=!this.routesItem.userInfo.is_admin&&1===e,a=_()({},this.subForm,t?this.adminParams:{admin_id:0,salesman_id:0,check_id:0,check_name:""});this.subForm=a,this.currentRow={}},toResetChangeForm:function(e){this.subForm[e+"_id"]=0,this.subForm.check_id=0,this.subForm.check_name="",this.currentRow={}},resetForm:function(e){var t=e+"Form";this.$refs[t].resetFields(),this.getTableDataList(1,e)},handleSizeChange:function(e,t){this.searchForm[t].limit=e,this.handleCurrentChange(1,t)},handleCurrentChange:function(e,t){this.searchForm[t].page=e,this.getTableDataList("",t)},getTableDataList:function(e,t){var a=this;return b()(d.a.mark(function n(){var s,i,o,l,m,c,u;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e&&(a.searchForm[t].page=e),a.tableData[t]=[],a.loading[t]=!0,s=JSON.parse(r()(a.searchForm[t])),i={user:{methodKey:"channel",methodModel:"nochannelUserList"},agent:{methodKey:"agent",methodModel:"adminList"},salesman:{methodKey:"salesman",methodModel:"salesmanList"}}[t],o=i.methodKey,l=i.methodModel,n.next=8,a.$api[o][l](s);case 8:if(m=n.sent,c=m.code,u=m.data,a.loading[t]=!1,200===c){n.next=14;break}return n.abrupt("return");case 14:a.tableData[t]=u.data,a.total[t]=u.total;case 16:case"end":return n.stop()}},n,a)}))()},handleSelectionChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];e=JSON.parse(r()(e)),"agent"===t&&(e.user_name=e.agent_name),this.currentRow=e},handleDialogConfirm:function(e){if(null!==this.currentRow&&this.currentRow.id){var t=this.currentRow,a=t.id,n=void 0===a?0:a,r=t.nickName,s=void 0===r?"":r,i=t.phone,o=void 0===i?"":i,l=t.admin_id,m=t.user_name;"user"===e?(this.subForm.user_id=n,this.subForm.nickName=s,!this.subForm.mobile&&o&&(this.subForm.mobile=o)):("salesman"===e?(this.subForm.admin_id=l,this.subForm.salesman_id=n):(this.subForm.admin_id=n,this.subForm.salesman_id=0),this.subForm.check_id=n,this.subForm.check_name=m),this.showDialog[e]=!1}else this.$message.error("user"===e?"请选择用户":"agent"===e?"请选择"+this.$t("action.agentName"):"请选择业务员")},submitFormInfo:function(e){var t=this,a=!0;if(this.$refs[e+"Form"].validate(function(e){e||(a=!1)}),a){var n=JSON.parse(r()(this[e+"Form"])),s=n.type,i=n.admin_id,o=n.salesman_id;if(1===s&&!i||2===s&&!o)this.$message.error(1===s?"请选择"+this.$t("action.agentName"):"请选择业务员");else{0===s&&(n.admin_id=0,n.salesman_id=0),delete n.nickName,delete n.type,delete n.admin_name,delete n.salesman_name,delete n.check_id,delete n.check_name;var l=n.id?"channelUpdate":"applyChannel";this.$api.channel[l](n).then(function(e){200===e.code&&(t.$message.success(t.$t(n.id?"tips.successRev":"tips.successSub")),t.$router.back(-1))})}}}},filters:{handleTime:function(e,t){return 1===t?v()(1e3*e).format("YYYY-MM-DD"):2===t?v()(1e3*e).format("HH:mm:ss"):v()(1e3*e).format("YYYY-MM-DD HH:mm:ss")}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lb-channel-edit"},[a("top-nav",{attrs:{title:e.navTitle,isBack:!0}}),e._v(" "),a("div",{staticClass:"page-main"},[a("el-form",{ref:"subForm",attrs:{model:e.subForm,rules:e.subFormRules,"label-width":"150px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"关联用户",prop:"user_id"}},[a("el-tag",{staticClass:"cursor-pointer",attrs:{type:e.have_user_id?"info":"primary"},on:{click:function(t){return e.toShowDialog("user")}}},[e._v(e._s(e.subForm.user_id?e.subForm.nickName:"选择关联用户"))])],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("action.channelName")+"姓名",prop:"user_name"}},[a("el-input",{attrs:{maxlength:"20","show-word-limit":"",placeholder:"请输入"+e.$t("action.channelName")+"姓名"},model:{value:e.subForm.user_name,callback:function(t){e.$set(e.subForm,"user_name",t)},expression:"subForm.user_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名",prop:"true_user_name"}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":"",placeholder:"请输入真实姓名"},model:{value:e.subForm.true_user_name,callback:function(t){e.$set(e.subForm,"true_user_name",t)},expression:"subForm.true_user_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{maxlength:"11","show-word-limit":"",placeholder:"请输入手机号"},model:{value:e.subForm.mobile,callback:function(t){e.$set(e.subForm,"mobile",t)},expression:"subForm.mobile"}})],1),e._v(" "),e.routesItem.auth.channelcate?a("el-form-item",{attrs:{label:"申请渠道",prop:"cate_id"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.subForm.cate_id,callback:function(t){e.$set(e.subForm,"cate_id",t)},expression:"subForm.cate_id"}},e._l(e.base_channel,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1):e._e(),e._v(" "),e.routesItem.userInfo.is_admin||!e.routesItem.userInfo.is_admin&&e.routesItem.auth.salesman&&e.routesItem.auth.salesman_auth?a("el-form-item",{attrs:{label:"所属上级",prop:"type"}},[a("el-radio-group",{on:{change:e.toChangeType},model:{value:e.subForm.type,callback:function(t){e.$set(e.subForm,"type",t)},expression:"subForm.type"}},[e.routesItem.userInfo.is_admin?a("el-radio",{attrs:{label:0}},[e._v("平台")]):e._e(),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("action.agentName")))]),e._v(" "),e.routesItem.auth.salesman?a("el-radio",{attrs:{label:2}},[e._v("业务员")]):e._e()],1),e._v(" "),e.routesItem.userInfo.is_admin||!e.routesItem.userInfo.is_admin&&e.routesItem.auth.salesman&&e.routesItem.auth.salesman_auth?a("lb-tool-tips",[e.routesItem.userInfo.is_admin?a("div",[e._v("\n            选择平台，则该"+e._s(e.$t("action.channelName"))+"原绑定的"+e._s(e.$t("action.agentName"))+e._s(e.routesItem.auth.salesman&&(e.routesItem.userInfo.is_admin||!e.routesItem.userInfo.is_admin&&e.routesItem.auth.salesman_auth)?"和业务员":"")+"数据都将清空\n          ")]):e._e(),e._v(" "),e.routesItem.auth.salesman&&(e.routesItem.userInfo.is_admin||!e.routesItem.userInfo.is_admin&&e.routesItem.auth.salesman_auth)?a("block",[a("div",{staticClass:"mt-sm"},[e._v("\n              选择"+e._s(e.$t("action.agentName"))+"，则该"+e._s(e.$t("action.channelName"))+"绑定的业务员数据将清空\n            ")]),e._v(" "),a("div",{staticClass:"mt-sm"},[e._v("\n              选择业务员，则该"+e._s(e.$t("action.channelName"))+"绑定的"+e._s(e.$t("action.agentName"))+"也对应更改为修改后的业务员所属"+e._s(e.$t("action.agentName"))+"\n            ")])]):e._e()],1):e._e(),e._v(" "),a("div",[e.subForm.type?a("el-tag",{attrs:{type:e.subForm.check_id?"primary":"danger",closable:!(!e.subForm.check_id||!e.routesItem.userInfo.is_admin&&(e.routesItem.userInfo.is_admin||1===e.subForm.type))},on:{close:function(t){return e.toResetChangeForm(1===e.subForm.type?"admin":"salesman")},click:function(t){(e.routesItem.userInfo.is_admin||!e.routesItem.userInfo.is_admin&&1!==e.subForm.type)&&e.toShowDialog(1===e.subForm.type?"agent":"salesman")}}},[e._v(e._s(e.subForm.check_id?e.subForm.check_name:1===e.subForm.type?"选择"+e.$t("action.agentName"):"选择业务员"))]):e._e()],1)],1):e._e(),e._v(" "),e.routesItem.auth.channelforeverbind?e._e():a("el-form-item",{attrs:{label:"绑定"+this.$t("action.channelName")+"时效",prop:"time_type"}},[a("el-radio-group",{model:{value:e.subForm.time_type,callback:function(t){e.$set(e.subForm,"time_type",t)},expression:"subForm.time_type"}},[a("el-radio",{attrs:{label:0}},[e._v("全局设置")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("单独设置")])],1),e._v(" "),a("lb-tool-tips",[e._v("单独设置优先级大于全局设置")]),e._v(" "),1===e.subForm.time_type?a("div",[a("el-input",{attrs:{placeholder:"请输入绑定"+e.$t("action.channelName")+"时效"},model:{value:e.subForm.time,callback:function(t){e.$set(e.subForm,"time",t)},expression:"subForm.time"}},[a("template",{slot:"append"},[e._v("小时")])],2)],1):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"text"}},[a("el-input",{attrs:{type:"textarea",rows:10,maxlength:"300",resize:"none","show-word-limit":"",placeholder:"请输入备注信息"},model:{value:e.subForm.text,callback:function(t){e.$set(e.subForm,"text",t)},expression:"subForm.text"}})],1),e._v(" "),a("el-form-item",[a("lb-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormInfo("sub")}}},[e._v(e._s(e.$t("action.submit")))]),e._v(" "),a("lb-button",{on:{click:function(t){return e.$router.back(-1)}}},[e._v(e._s(e.$t("action.back")))])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"关联用户",visible:e.showDialog.user,width:"800px",top:"5vh",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"user",t)}}},[e.routesItem.userInfo.is_admin?e._e():a("lb-tips",[e._v("请输入用户昵称/手机号后点击查询数据")]),e._v(" "),a("el-form",{ref:"userForm",attrs:{inline:!0,model:e.searchForm.user,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"输入查询",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称/手机号"},model:{value:e.searchForm.user.nickName,callback:function(t){e.$set(e.searchForm.user,"nickName",t)},expression:"searchForm.user.nickName"}})],1),e._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDataList(1,"user")}}},[e._v(e._s(e.$t("action.search")))]),e._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("user")}}},[e._v(e._s(e.$t("action.reset")))])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.user,expression:"loading.user"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.user,"header-cell-style":{background:"#f5f7fa",color:"#606266"},"tooltip-effect":"dark","highlight-current-row":""},on:{"current-change":function(t){return e.handleSelectionChange(t,"user")}}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"avatarUrl",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("lb-image",{attrs:{src:e.row.avatarUrl}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"昵称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}})],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.user.page,pageSize:e.searchForm.user.limit,total:e.total.user},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"user")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"user")}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog.user=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.handleDialogConfirm("user")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"选择"+e.$t("action.agentName"),visible:e.showDialog.agent,width:"1000px",top:"5vh",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"agent",t)}}},[a("el-row",{staticClass:"page-search-form"},[a("el-form",{ref:"agentForm",staticClass:"dialog-form",attrs:{inline:!0,model:e.searchForm.agent},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"账号名称",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号名称"},model:{value:e.searchForm.agent.username,callback:function(t){e.$set(e.searchForm.agent,"username",t)},expression:"searchForm.agent.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"关联用户",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入关联用户"},model:{value:e.searchForm.agent.nickName,callback:function(t){e.$set(e.searchForm.agent,"nickName",t)},expression:"searchForm.agent.nickName"}})],1),e._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDataList(1,"agent")}}},[e._v(e._s(e.$t("action.search")))]),e._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("agent")}}},[e._v(e._s(e.$t("action.reset")))])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.agent,expression:"loading.agent"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.agent,"header-cell-style":{background:"#f5f7fa",color:"#606266"},"tooltip-effect":"dark","highlight-current-row":""},on:{"current-change":function(t){return e.handleSelectionChange(t,"agent")}}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"账号名称","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agent_name",label:"真实姓名","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"merchant_name",label:"商家名称","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city_type",label:"代理等级","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"small",type:e.cityType[t.row.city_type].type}},[e._v(e._s(e.cityType[t.row.city_type].text))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"省/市/区县","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n              "+e._s(3===t.row.city_type?t.row.province:1===t.row.city_type?t.row.city_id?t.row.province+" "+t.row.city:"-":t.row.city_id?t.row.province?t.row.province+" "+t.row.city+" "+t.row.area:t.row.city+" "+t.row.area:"-")+"\n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"user_id",label:"关联用户ID","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"关联用户昵称","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"服务电话","min-width":"120"}})],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.agent.page,pageSize:e.searchForm.agent.limit,total:e.total.agent},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"agent")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"agent")}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog.agent=!1}}},[e._v(e._s(e.$t("action.cancel")))]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.handleDialogConfirm("agent")}}},[e._v(e._s(e.$t("action.comfirm")))])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"选择业务员",visible:e.showDialog.salesman,width:"1000px",top:"5vh",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"salesman",t)}}},[a("el-row",{staticClass:"page-search-form"},[a("el-form",{ref:"salesmanForm",staticClass:"dialog-form",attrs:{inline:!0,model:e.searchForm.salesman},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"输入查询",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名/手机号"},model:{value:e.searchForm.salesman.name,callback:function(t){e.$set(e.searchForm.salesman,"name",t)},expression:"searchForm.salesman.name"}})],1),e._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDataList(1,"salesman")}}},[e._v(e._s(e.$t("action.search")))]),e._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("salesman")}}},[e._v(e._s(e.$t("action.reset")))])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.salesman,expression:"loading.salesman"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.salesman,"header-cell-style":{background:"#f5f7fa",color:"#606266"},"tooltip-effect":"dark","highlight-current-row":""},on:{"current-change":function(t){return e.handleSelectionChange(t,"salesman")}}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_id",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"avatarUrl",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("lb-image",{attrs:{src:e.row.avatarUrl}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"昵称","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"姓名","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"admin_name",label:"所属"+e.$t("action.agentName"),"min-width":"120"}})],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.salesman.page,pageSize:e.searchForm.salesman.limit,total:e.total.salesman},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"salesman")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"salesman")}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog.salesman=!1}}},[e._v(e._s(e.$t("action.cancel")))]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.handleDialogConfirm("salesman")}}},[e._v(e._s(e.$t("action.comfirm")))])],1)],1)],1)],1)},staticRenderFns:[]};var y=a("C7Lr")(F,k,!1,function(e){a("c7Mb")},"data-v-c2893ee8",null);t.default=y.exports}});