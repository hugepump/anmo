webpackJsonp([47],{"Eg+w":function(e,t){},MItE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("aA9S"),i=a.n(r),o=a("3cXf"),s=a.n(o),n=a("IHPB"),l=a.n(n),c=a("rVsN"),u=a.n(c),m=a("KH7x"),d=a.n(m),_=a("4YfN"),p=a.n(_),b=a("lC5x"),h=a.n(b),v=a("J0Oq"),f=a.n(v),g=a("bSIt"),k=a("PxTW"),F=a.n(k),y={data:function(){var e=this,t=function(t,a,r){var i=e[t.key],o=i.is_work,s=void 0===o?0:o,n=i.start_time,l=i.end_time;!s||n&&l?r():r(new Error(n?"请选择结束时间":"请选择开始时间"))};return{pickerOptions:{disabledDate:function(e){return e.getTime()>1e3*(F()(F()(Date.now()).format("YYYY-MM-DD")).unix()+86400-1)}},navTitle:"",activeName:"sub",statusText:{1:{type:"info",text:"申请中"},2:{type:"",text:"已授权"},3:{type:"danger",text:"取消授权"},4:{type:"danger",text:"授权已驳回"}},authStatusText:{0:{type:"info",text:"未认证"},1:{type:"",text:"认证中"},2:{type:"success",text:"已认证"},3:{type:"warning",text:"认证已驳回"}},payType:{1:"微信支付",2:"余额支付",3:"支付宝支付",4:"折扣卡支付"},orderType:{0:"服务订单",1:"加钟订单"},is_show_password:!1,edit_page_info:1,base_city:[],base_store:[],base_career:[],base_industry:[],industry_info:{},free_fare_bear:0,free_fare_distance:"",config_free:{},showMap:!1,have_user_id:!1,fdd_agreement:{},detail:{},countData:[],searchForm:{choosebroker:{page:1,limit:10,status:2,name:""},order:{page:1,limit:10,pay_type:7},service:{page:1,limit:10},record:{page:1,limit:10,type:1,coach_id:""},user:{page:1,limit:10,nickName:""},chooseservice:{page:1,limit:10,title:"",industry_type:"",only_admin:!1}},loading:{choosebroker:!1,order:!1,service:!1,chooseservice:!1,record:!1,user:!1},tableData:{choosebroker:[],order:[],service:[],chooseservice:[],record:[],user:[]},total:{choosebroker:0,order:0,service:0,chooseservice:0,record:0,user:0},showDialog:{coachbroker:!1,choosebroker:!1,user:!1,chooseservice:!1,price:!1,balance:!1,file:!1,editimg:!1,account:!1},currentRow:{},multipleSelection:[],coach_check_auth:0,is_have_add:!1,coachbrokerForm:{coach_id:"",partner_name:"",check_id:"",check_name:""},time_list:[],subForm:{id:0,industry_type:"",industry_title:"",user_id:0,nickName:"",coach_name:"",mobile:"",sex:0,height:"",weight:"",birthday:"",constellation:"",work_time:"",city_id:"",city:"",partner_id:0,partner_name:0,admin_id:"",admin_name:"",store:[],store_name:"",type_id:"",type_title:"",free_fare_distance:"",lng:"",lat:"",address:"",text:"",id_code:"",true_user_name:"",id_card:[],license:[],work_img:[],self_img:[],video:"",status:2,order_num:0,virtual_collect:0,virtual_comment:0,show_salenum:!1,is_work:1,start_time:"00:00",end_time:"00:00",balance:"",add_balance_status:0,add_basis_balance:"",custom_balance_time:[],personality_icon:"",personality_icon_name:"",station_icon:"",station_icon_name:""},subFormRules:{coach_name:{required:!0,validator:this.$reg.isNotNull,text:this.$t("action.attendantName")+"艺名",reg_type:2,trigger:"blur"},industry_type:{required:!0,type:"number",message:"请选择职业分类",trigger:"blur"},sex:{required:!0,type:"number",message:"请选择性别",trigger:"blur"},height:{required:!0,validator:this.$reg.isNum,text:"身高",reg_type:2,trigger:"blur"},weight:{required:!0,validator:function(e,t,a){""!==t&&/^(([1-9][0-9]*)|(([0]\.\d{1}|[1-9][0-9]*\.\d{1})))$/.test(t)&&1*t!=0?a():a(new Error(""===t?"请输入体重":"请输入正确的体重，最多保留1位小数"))},trigger:"blur"},birthday:{required:!0,type:"number",message:"请选择日期",trigger:["blur","change"]},mobile:{required:!0,validator:this.$reg.isTel,text:"手机号",reg_type:2,trigger:"blur"},work_time:{required:!0,validator:this.$reg.isNum,text:"从业年份",reg_type:2,trigger:"blur"},city_id:{required:!0,type:"number",message:"请选择意向工作城市",trigger:"blur"},type_id:{required:!0,type:"number",message:"请选择职业类型",trigger:"blur"},free_fare_distance:{required:!1,validator:function(t,a,r){var i=e.free_fare_bear,o=e.free_fare_distance,s=/^(([0-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/;i&&a&&(!s.test(a)||1===i&&o&&1*a>o)?r(new Error(s.test(a)?"请输入正确的公里数，最多不超过"+o+"公里":"请输入正确的公里数，最多保留2位小数")):r()},trigger:"blur"},address:{required:!0,type:"string",message:"请输入所在地址",trigger:"blur"},lng:{required:!0,validator:this.$reg.isLng,trigger:"blur"},lat:{required:!0,validator:this.$reg.isLat,trigger:"blur"},text:{required:!0,type:"string",message:"请输入"+this.$t("action.attendantName")+"简介",trigger:"blur"},id_code:{required:!0,validator:this.$reg.isIdCard,trigger:"blur"},true_user_name:{required:!0,validator:this.$reg.isNotNull,text:"真实姓名",reg_type:2,trigger:"blur"},id_card:{required:!0,type:"array",message:"请上传图片",trigger:"blur"},license:{required:!0,type:"array",message:"请上传图片",trigger:"blur"},work_img:{required:!0,type:"array",message:"请上传图片",trigger:"blur"},self_img:{required:!0,type:"array",message:"请上传图片",trigger:"blur"},order_num:{required:!0,validator:this.$reg.isNum,trigger:"blur"},virtual_collect:{required:!0,validator:this.$reg.isNum,trigger:"blur"},virtual_comment:{required:!0,validator:this.$reg.isNum,trigger:"blur"},is_work:{required:!0,type:"number",message:"请选择",trigger:"blur"},start_time:{required:!0,validator:t,key:"subForm",trigger:"blur"},station_icon:{required:!0,type:"number",message:"请选择岗位标签",trigger:"blur"}},timeForm:{coach_id:0,is_work:1,start_time:"",end_time:""},timeFormRules:{is_work:{required:!0,type:"number",message:"请选择",trigger:"blur"},start_time:{required:!0,validator:t,key:"timeForm",trigger:"blur"}},chooseserviceForm:{coach_id:"",data:[]},priceForm:{id:"",coach_id:"",cover:"",title:"",old_price:"",price:""},priceFormRules:{price:{required:!0,validator:this.$reg.isMoney,text:this.$t("action.attendantName")+"服务价格",trigger:"blur"}},balanceForm:{id:"",coach_id:"",cover:"",title:"",old_balance:"",balance:""},balanceFormRules:{balance:{required:!0,validator:this.$reg.isPercentDot,text:this.$t("action.attendantName")+"服务提成",trigger:"blur"}},editimgForm:{},accountForm:{coach_id:"",user_name:"",pass_word:""},accountFormRules:{user_name:{required:!0,validator:this.$reg.isTel,text:"手机号",trigger:"blur"},pass_word:{required:!0,validator:this.$reg.isPassWord,text:"密码",trigger:"blur"}},updateuserForm:{phone_code:""},updateuserFormRules:{phone_code:{required:!0,validator:this.$reg.isNum,text:"验证码",trigger:"blur"}},phone:"",phoneCheck:!1,agent_update_city:0,authTime:0,timer:null,lockTap:!1,personalityList:[],stationList:[]}},created:function(){var e=this;return f()(h.a.mark(function t(){var a,r,i,o,s,n,l,c,u,m,d;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$route.query,r=a.id,i=void 0===r?0:r,o=a.view,s=void 0===o?0:o,e.edit_page_info=1*s==1?0:1,e.subForm.id=i,t.next=5,e.getBaseInfo();case 5:if(e.getSelfCoachIconSelect(),!i){t.next=17;break}return e.searchForm.order.coach_id=i,e.searchForm.service.coach_id=i,e.searchForm.chooseservice.coach_id=i,e.searchForm.record.coach_id=i,e.chooseserviceForm.coach_id=i,e.accountForm.coach_id=i,t.next=15,e.getDetail(i);case 15:t.next=22;break;case 17:n=e.routesItem.userInfo,l=n.is_admin,c=n.id,u=n.admin_id,c=(void 0===u?0:u)||c,e.subForm.admin_id=l?0:c,3!==(m=e.routesItem.auth.industrytype)&&(d=e.base_industry.filter(function(e){return e.type===m})[0],e.subForm.industry_type=d.id);case 22:e.navTitle=e.edit_page_info?e.$t(i?"menu.TechnicianEdit":"menu.TechnicianAdd"):"查看"+e.$t("action.attendantName"),e.getStoreList();case 24:case"end":return t.stop()}},t,e)}))()},computed:p()({},Object(g.e)({routesItem:function(e){return e.routes}})),watch:{"subForm.industry_type":function(e){var t=this.base_industry.filter(function(t){return t.id===e})[0];this.industry_info=t,this.subForm.industry_title=t.title,this.searchForm.chooseservice.industry_type=e,this.$refs.subForm.validate&&this.$refs.subForm.clearValidate()},"subForm.birthday":function(e){if(e){var t=F()(e).format("MM"),a=F()(e).format("DD");this.subForm.constellation=this.$util.getAstro(t,a)}},"subForm.admin_id":function(){this.getTechnicianConfig()}},methods:{getBaseInfo:function(){var e=this;return f()(h.a.mark(function t(){var a,r,i,o,s,n,l,c,m,_;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.subForm.id,r=void 0===a?0:a,t.next=3,u.a.all([e.$api.system.getCity(),e.$api.system.configInfo(),e.$api.technician.typeSelect()]);case 3:if(i=t.sent,o=d()(i,3),s=o[0],n=o[1],l=o[2],e.base_city=s.data,e.config_free=e.$util.pick(n.data,["free_fare_bear","free_fare_distance"]),e.phone=n.data.login_auth_phone,e.phoneCheck=n.data.coach_update_phone_code_status,e.agent_update_city=n.data.agent_update_city,e.base_industry=l.data,e.editimgForm={coach_id:r,img_watermark:n.data.img_watermark||"盗图必究"},!e.routesItem.auth.career){t.next=24;break}return t.next=18,e.$api.technician.coachTypeSelect();case 18:if(c=t.sent,m=c.code,_=c.data,200===m){t.next=23;break}return t.abrupt("return");case 23:e.base_career=_;case 24:case"end":return t.stop()}},t,e)}))()},getStoreList:function(){var e=this;return f()(h.a.mark(function t(){var a,r,i,o;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.subForm.admin_id,r=void 0===a?0:a,t.next=3,e.$api.technician.storeSelect({admin_id:r});case 3:i=t.sent,o=i.data,e.base_store=o;case 6:case"end":return t.stop()}},t,e)}))()},getTechnicianConfig:function(){var e=this;return f()(h.a.mark(function t(){var a,r,i,o,s,n,l,c,m,_,p,b,v;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.subForm.admin_id,r=void 0===a?0:a,t.next=3,u.a.all([r?e.$api.technician.adminCarCashInfo({admin_id:r}):{data:e.config_free},e.$api.service.getCoachClockInfo({admin_id:r})]);case 3:i=t.sent,o=d()(i,2),s=o[0],n=o[1],l=s.data,c=l.free_fare_bear,m=l.free_fare_distance,_=n.data,p=_.clock_cash_status,b=_.clock_cash_type,e.free_fare_bear=c,e.free_fare_distance=m,c||(e.subForm.free_fare_distance=""),v=!p||1===p&&1===b,e.is_have_add=v,v||(e.subForm.add_balance_status=!1,e.subForm.add_basis_balance="");case 15:case"end":return t.stop()}},t,e)}))()},changeIndustryType:function(e){var t=this;e?this.getStationIconSelect(1):this.$nextTick(function(){t.industry_info={},t.stationList=[],t.subForm.station_icon=""})},getStationIconSelect:function(e){var t=this;return f()(h.a.mark(function a(){var r,i,o,s,n;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e&&(t.subForm.station_icon=""),r=t.subForm.industry_type,i=void 0===r?0:r,a.next=4,t.$api.technician.stationIconSelect({industry_type:i});case 4:if(o=a.sent,s=o.code,n=o.data,200===s){a.next=9;break}return a.abrupt("return");case 9:t.stationList=n;case 10:case"end":return a.stop()}},a,t)}))()},getSelfCoachIconSelect:function(){var e=this;return f()(h.a.mark(function t(){var a,r,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.technician.selfCoachIconSelect();case 2:if(a=t.sent,r=a.code,i=a.data,200===r){t.next=7;break}return t.abrupt("return");case 7:e.personalityList=i;case 8:case"end":return t.stop()}},t,e)}))()},toChangeTime:function(){var e=this;return f()(h.a.mark(function t(){var a,r,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.timeForm,r=a.start_time,i=a.end_time,r&&i){t.next=4;break}return e.time_list=[],t.abrupt("return");case 4:return t.next=6,e.submitFormInfo("time");case 6:e.getTime();case 7:case"end":return t.stop()}},t,e)}))()},isTimes:function(e){return(new Date).getTime()/1e3>e},getDateTime:function(e){if(3!==this.subForm.status){var t=this.time_list[e],a=t.is_click,r=t.is_order,i=t.status;1!==r&&(this.time_list[e].is_click=0===a?1:0,this.time_list[e].status=0===i?1:0)}},getCover:function(e,t){this.subForm[t]=e},selectedFiles:function(e,t){var a;(a=this.subForm[t]).push.apply(a,l()(e))},moveFiles:function(e,t){this.subForm[t]=e},toEditImg:function(e,t,a){var r=this,o=JSON.parse(s()(this.subForm[t]));o.map(function(e){e.old_url=e.old_url||"",e.mark_percent=e.mark_percent||0});var n=i()({},this.editimgForm,{key:t,title:a,index:e,list:o,can_crop:"work_img"===t});this.editimgForm=n,this.$nextTick(function(){r.$refs.edit_img_item.open()},10)},getLatLng:function(e){var t=e.lat,a=e.lng,r=e.address;this.subForm.lat=t,this.subForm.lng=a,this.subForm.address=r},getDetail:function(e){var t=this;return f()(h.a.mark(function a(){var r,i,o,n,l,c,m,_,p,b,v,f,g,k,y,w,x,C,$,S,I,D,N,T,L,R,z;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.all([t.$api.technician.coachInfo({id:e}),t.$api.technician.coachCashData({id:e}),t.$api.technician.WatermarkImgInfo({coach_id:e,type:"license"}),t.$api.technician.WatermarkImgInfo({coach_id:e,type:"work_img"}),t.$api.technician.WatermarkImgInfo({coach_id:e,type:"self_img"})]);case 2:for(S in r=a.sent,i=d()(r,5),o=i[0],n=i[1],l=i[2],c=i[3],m=i[4],_=o.data,(p=JSON.parse(s()(_))).sh_text=4===p.status?p.sh_text&&p.sh_text.length>0?p.sh_text.replace(/\n/g,"<br>"):"没有填写原因哦":"",t.detail=p,n.data.credit_value=_.credit_value,t.countData=[n.data],_.nickName=_.user_id?_.nickName||"用户ID "+_.user_id:"",_.height=1*_.height>0?_.height:"",_.type_id=_.type_id||"",_.store&&_.store.length>0&&(_.store_name=t.$util.getItems(_.store,"title"," 、")),_.store=_.store&&_.store.length>0?_.store.map(function(e){return e.store_id}):[],_.birthday=_.birthday?1e3*_.birthday:"",b=_.custom_balance,v=b.balance,f=void 0===v?"":v,g=b.add_balance_status,k=b.add_basis_balance,y=b.start_time,w=void 0===y?"":y,x=b.end_time,C=void 0===x?"":x,$=w&&C,_.balance=$?f:"",_.add_balance_status=1===g,_.add_basis_balance=k,_.custom_balance_time=$?[1e3*w,1e3*C]:[],_.work_img=[_.work_img],_.station_icon=_.station_icon||"",_.personality_icon=_.personality_icon||"",["work_img","id_card","license","self_img"].map(function(e){_[e]=_[e]&&_[e].length>0?_[e].map(function(e){return{url:e,old_url:e,mark_percent:0}}):[]}),t.formatMarkData(l.data,_,"license"),t.formatMarkData(c.data,_,"work_img"),t.formatMarkData(m.data,_,"self_img"),_.show_salenum=0===_.show_salenum,_.coach_id=e,t.subForm)t.subForm[S]=_[S];for(I in t.timeForm)t.timeForm[I]=_[I];t.coach_check_auth=_.coach_check_auth,null!==(D=_.fdd_agreement)&&(N=D.id,T=void 0===N?0:N,L=D.end_time,R=void 0===L?0:L,D&&T&&(z=F()(F()(Date.now()).format("YYYY-MM-DD HH:mm:ss")).unix(),R<z&&(D.id=0))),t.fdd_agreement=D,t.have_user_id=_.id&&_.user_id,t.getStationIconSelect();case 45:case"end":return a.stop()}},a,t)}))()},getTime:function(){var e=this;return f()(h.a.mark(function t(){var a,r,i,o,s,n;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.timeForm,r=a.coach_id,i=a.start_time,o=a.end_time,i&&o){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.$api.technician.getTime({coach_id:r});case 5:s=t.sent,n=s.data,e.time_list=n;case 8:case"end":return t.stop()}},t,e)}))()},formatMarkData:function(e,t,a){if(e&&e.length>0){var r=function(r){var i=e[r],o=i.watermark_img,s=i.original_img,n=i.watermark_transparent,l=t[a].findIndex(function(e){return[o,s].includes(e.url)});-1!==l&&(t[a][l]={url:o||s,old_url:s,mark_percent:1*n})};for(var i in e)r(i)}},getFile:function(e,t){var a=e.length-1;this.subForm[t]=e[a].url},toResetFile:function(e){this.subForm[e]=""},handleClick:function(e){var t=e.name;this.activeName=t,"sub"!==t&&("time"!==t?this.getTableDataList(1,t):this.getTime())},toResetChangeForm:function(){this.coachbrokerForm.check_id="",this.coachbrokerForm.check_name=""},toClearTimer:function(){this.authTime=0,clearInterval(this.timer)},toSend:function(){var e=this;return f()(h.a.mark(function t(){var a,r,i,o;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.authTime){t.next=3;break}return t.abrupt("return");case 3:if(!e.lockTap){t.next=5;break}return t.abrupt("return");case 5:return e.lockTap=!0,a=e.phone,t.prev=7,t.next=10,e.$api.technician.sendShortMsg();case 10:if(r=t.sent,i=r.code,e.lockTap=!1,e.updateuserForm.phone_code="",200===i){t.next=16;break}return t.abrupt("return");case 16:e.$message.success("已向 "+a+" 发送短信验证码，请注意查收"),o=60,e.timer=setInterval(function(){0!==o?(o--,e.authTime=o):e.toClearTimer()},1e3),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(7),setTimeout(function(){e.lockTap=!1},2e3);case 24:case"end":return t.stop()}},t,e,[[7,21]])}))()},toShowDialog:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(h.a.mark(function r(){var i,o,n,l;return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("user"!==e){r.next=7;break}if(i=t.have_user_id,o=t.phoneCheck,n=t.$route.meta.pagePermission[0].auth,!i||o&&n.includes("updateCoachUser")){r.next=5;break}return r.abrupt("return");case 5:t.searchForm[e].nickName="",i&&o&&n.includes("updateCoachUser")&&(t.updateuserForm.phone_code="");case 7:if("choosebroker"===e&&(t.searchForm[e].name=""),"chooseservice"===e&&(t.searchForm[e].title="",t.searchForm[e].only_admin=!1),"account"!==e||a.coach_id||(a={coach_id:t.subForm.id,user_name:"",pass_word:""}),!["coachbroker","price","balance","account","updateuser"].includes(e)){r.next=18;break}for(l in a=JSON.parse(s()(a)),"coachbroker"===e&&(a.coach_id=a.id,a.check_id=a.broker_id||"",a.check_name=a.partner_name||""),"price"===e&&(a.old_price=a.price,a.price=a.coach_price,a.coach_id=t.subForm.id),"balance"===e&&(a.old_balance=a.balance,a.balance=a.coach_balance,a.coach_id=t.subForm.id),t[e+"Form"])t[e+"Form"][l]=a[l];r.next=22;break;case 18:return t.currentRow={},t.multipleSelection=[],r.next=22,t.getTableDataList(1,e);case 22:t.showDialog[e]=!t.showDialog[e];case 23:case"end":return r.stop()}},r,t)}))()},resetForm:function(e){this.currentRow={},this.multipleSelection=[];var t=e+"Form";this.$refs[t].resetFields(),this.getTableDataList(1,e)},handleSizeChange:function(e,t){this.searchForm[t].limit=e,this.handleCurrentChange(1,t)},handleCurrentChange:function(e,t){this.searchForm[t].page=e,this.getTableDataList("",t)},getTableDataList:function(e,t){var a=this;return f()(h.a.mark(function r(){var i,o,n,l,c,u,m;return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e&&(a.searchForm[t].page=e),a.loading[t]=!0,a.tableData[t]=[],i=JSON.parse(s()(a.searchForm[t])),"chooseservice"===t&&(i.only_admin=i.only_admin?1:0),o={choosebroker:{methodKey:"coachbroker",methodModel:"brokerList"},order:{methodKey:"shop",methodModel:"orderList"},service:{methodKey:"technician",methodModel:"coachServiceList"},record:{methodKey:"finance",methodModel:"updateCoachCashList"},user:{methodKey:"technician",methodModel:"coachUserList"},chooseservice:{methodKey:"technician",methodModel:"coachNoServiceList"}}[t],n=o.methodKey,l=o.methodModel,r.next=9,a.$api[n][l](i);case 9:if(c=r.sent,u=c.code,m=c.data,a.loading[t]=!1,200===u){r.next=15;break}return r.abrupt("return");case 15:m.data.map(function(e){"record"===t&&(e.text=e.text&&e.text.length>0?e.text.replace(/\n/g,"<br>"):"没有填写原因哦"),"chooseservice"===t&&(e.old_price=e.price)}),a.tableData[t]=m.data,a.total[t]=m.total;case 18:case"end":return r.stop()}},r,a)}))()},handleSelectionChange:function(e,t){switch(t){case"choosebroker":case"user":var a=e=JSON.parse(s()(e)),r=a.id,i=a.nickName,o=void 0===i?"":i;e.nickName=o||"用户ID "+r,this.currentRow=e;break;case"chooseservice":this.multipleSelection=e}},handleDialogConfirm:function(e){var t=this;return f()(h.a.mark(function a(){var r,i,o,s,n,l,c,u,m,d,_,p,b,v,f,g,k,F,y,w,x,C,$;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=e,a.next="choosebroker"===a.t0?3:"user"===a.t0?3:"chooseservice"===a.t0?30:48;break;case 3:if(null!==t.currentRow&&t.currentRow.id){a.next=6;break}return t.$message.error("choosebroker"===e?"请选择"+t.$t("action.brokerName"):"请选择用户"),a.abrupt("return");case 6:if(r=t.currentRow,i=r.id,o=void 0===i?0:i,s=r.nickName,n=void 0===s?"":s,l=r.user_name,c=void 0===l?"":l,u=r.phone,m=void 0===u?"":u,"choosebroker"!==e){a.next=12;break}t.coachbrokerForm.check_id=o,t.coachbrokerForm.check_name=c,a.next=29;break;case 12:if(d=t.have_user_id,_=t.phoneCheck,p=t.$route.meta.pagePermission[0].auth,!(d&&_&&p.includes("updateCoachUser"))){a.next=26;break}if(b=!0,t.$refs.updateuserForm.validate(function(e){e||(b=!1)}),b){a.next=19;break}return a.abrupt("return");case 19:return v={coach_id:t.subForm.id,user_id:o,phone_code:t.updateuserForm.phone_code},a.next=22,t.$api.technician.changeUser(v);case 22:return f=a.sent,200===f.code&&(t.$message.success(t.$t("tips.successOper")),t.subForm.user_id=o,t.subForm.nickName=n,t.showDialog[e]=!1),a.abrupt("return");case 26:t.subForm.user_id=o,t.subForm.nickName=n,!t.subForm.mobile&&m&&(t.subForm.mobile=m);case 29:return a.abrupt("break",48);case 30:if(0!==t.multipleSelection.length){a.next=33;break}return t.$message.error("请选择关联服务"),a.abrupt("return");case 33:g=/^(([0-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/,a.t1=h.a.keys(t.multipleSelection);case 35:if((a.t2=a.t1()).done){a.next=44;break}if(k=a.t2.value,F=t.multipleSelection[k],y=F.title,w=F.price,""!==(x=void 0===w?"":w)&&g.test(x)){a.next=42;break}return C=""===x?"请输入"+t.$t("action.attendantName")+"服务价格":"请输入正确的"+t.$t("action.attendantName")+"服务价格，最多保留2位小数",t.$message.error(y+" "+C+" "),a.abrupt("return");case 42:a.next=35;break;case 44:return $=t.multipleSelection.map(function(e){return{service_id:e.id,price:e.price}}),t.chooseserviceForm.data=$,t.submitFormInfo("chooseservice"),a.abrupt("break",48);case 48:t.showDialog[e]=!1;case 49:case"end":return a.stop()}},a,t)}))()},confirmDel:function(e){var t=this;this.$confirm("你确认要"+this.$t("action.coachEditDelService")+"吗？",this.$t("tips.reminder"),{confirmButtonText:this.$t("action.comfirm"),cancelButtonText:this.$t("action.cancel"),type:"warning"}).then(function(){t.updateItem(e,"service")}).catch(function(){})},updateItem:function(e,t){var a=this;return f()(h.a.mark(function r(){var i;return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:i=a.subForm.id,a.$api.technician.delCoachService({id:e,coach_id:i}).then(function(e){200===e.code&&(a.$message.success(a.$t("tips.successOper")),a.searchForm[t].page=a.searchForm[t].page<Math.ceil((a.total[t]-1)/a.searchForm[t].limit)?a.searchForm[t].page:Math.ceil((a.total[t]-1)/a.searchForm[t].limit),a.getTableDataList("",t))});case 2:case"end":return r.stop()}},r,a)}))()},submitFormInfo:function(e){var t=this;return f()(h.a.mark(function a(){var r,o,n,l,c,m,_,p,b,v,f,g,k,F,y,w,x,C,$,S,I,D;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=!0,"chooseservice"!==e&&t.$refs[e+"Form"].validate(function(e){e||(r=!1)}),r){a.next=4;break}return a.abrupt("return");case 4:if(o=JSON.parse(s()(t[e+"Form"])),"sub"!==e){a.next=41;break}if(!(o.id_card.length<3)){a.next=9;break}return t.$message.error("身份证照片请分别上传身份证人像面、身份证国徽面、手持身份证照片"),a.abrupt("return");case 9:if(o.birthday=1*o.birthday>0?o.birthday/1e3:"",["id_card","license","self_img"].map(function(e){o[e]=o[e]&&o[e].length>0?o[e].map(function(e){return e.url}):[]}),o.work_img=o.work_img[0].url,n=o.balance,l=o.add_balance_status,c=void 0!==l&&l,m=o.add_basis_balance,_=void 0===m?"":m,p=o.custom_balance_time,v=/^(?:0|[1-9][0-9]?|100)$/,f=(b=void 0===p?[]:p)&&b.length>0,!(""===n&&(c||f)||""!==n&&!v.test(n))){a.next=20;break}return g=""===n&&(c||f)?"请输入提成比例":"请输入正确的提成比例，取值0-100，不支持小数",t.$message.error(t.$t("action.attendantName")+"阶段性分成："+g),a.abrupt("return");case 20:if(!c||""!==_&&(""===_||v.test(_))){a.next=24;break}return k=""===_?"请输入百分比":"请输入正确的百分比，取值0-100，不支持小数",t.$message.error(t.$t("action.attendantName")+"阶段性分成："+k),a.abrupt("return");case 24:if(""===n||f){a.next=27;break}return t.$message.error(t.$t("action.attendantName")+"阶段性分成：请选择提成限期时间"),a.abrupt("return");case 27:""!==n&&f?o.custom_balance={balance:n,add_balance_status:c?1:0,add_basis_balance:_,start_time:b[0]/1e3,end_time:b[1]/1e3}:(t.subForm.balance="",t.subForm.add_balance_status=!1,t.subForm.add_basis_balance="",t.subForm.custom_balance_time=[]),o.show_salenum=o.show_salenum?0:1,delete o.nickName,delete o.admin_name,delete o.partner_id,delete o.partner_name,delete o.type_title,delete o.balance,delete o.add_balance_status,delete o.add_basis_balance,delete o.custom_balance_time,delete o.city,delete o.station_icon_name,delete o.personality_icon_name;case 41:return"time"===e&&(F=t.time_list,o.time_text=[{sub:F}]),["price","balance"].includes(e)&&(delete o.title,delete o.cover,delete o["old_"+e]),"coachbroker"===e&&(o.broker_id=o.check_id,delete o.partner_name,delete o.check_id,delete o.check_name),y=t.routesItem.userInfo.is_admin,w=t.coach_check_auth,"sub"===e&&delete o.industry_title,delete o.store_name,x={sub:o.id?y||!y&&w?"coachDataUpdate":"coachUpdateAdmin":"coachAdd",time:"setTimeConfig",chooseservice:"addCoachService",coachbroker:"updateCoachBroker",price:"updateCoachServicePrice",balance:"updateCoachServiceBalance",account:"setCoachAccount"},C=x[e],a.next=52,u.a.all("sub"===e&&o.id?[t.$api.technician[C](o),t.saveImgs()]:[t.$api.technician[C](o)]);case 52:$=a.sent,S=d()($,1),200===S[0].code&&(t.$message.success(t.$t("sub"!==e?"tips.successOper":o.id?"tips.successRev":"tips.successSub")),"sub"===e&&(o.id?(I=i()({},t.timeForm,t.$util.pick(o,["is_work","start_time","end_time"])),t.timeForm=I):t.$router.back(-1)),["sub","time"].includes(e)||(t.showDialog[e]=!1,["coachbroker","account"].includes(e)?t.getDetail(o.coach_id):t.getTableDataList("","service")),"time"===e&&(D=i()({},t.subForm,t.$util.pick(o,["is_work","start_time","end_time"])),t.subForm=D));case 56:case"end":return a.stop()}},a,t)}))()},saveImgs:function(){var e=this;return f()(h.a.mark(function t(){var a,r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=JSON.parse(s()(e.subForm)),r=a.id,["license","work_img","self_img"].map(function(t){var i={coach_id:r,type:t,img:[]};a[t].map(function(e){e.url&&e.old_url!==e.url&&i.img.push({original_img:e.old_url,watermark_img:e.url||"",watermark_transparent:e.mark_percent||0})}),e.$api.technician.addWatermarkImg(i)});case 4:case"end":return t.stop()}},t,e)}))()}},filters:{handleTime:function(e,t){return 1===t?F()(1e3*e).format("YYYY-MM-DD"):2===t?F()(1e3*e).format("HH:mm:ss"):F()(1e3*e).format("YYYY-MM-DD HH:mm:ss")},handleStartEndTime:function(e){var t="",a=e.start_time,r=e.end_time,i=F()(Date.now()).format("YYYY-MM-DD");return a&&r&&F()(i+" "+r+" ").unix()<=F()(i+" "+a).unix()&&(t="次日"),t},handleFileName:function(e){var t="请上传视频";return e&&(t=e.substring(e.lastIndexOf("/")+1)),t}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lb-technician-edit"},[a("top-nav",{attrs:{title:e.navTitle,isBack:!0}}),e._v(" "),e.detail.id?a("div",{staticClass:"page-main"},[a("div",{staticClass:"flex-center c-caption"},[a("lb-image",{staticClass:"work-img radius-16",attrs:{src:e.detail.work_img,isLook:!0}}),e._v(" "),a("div",{staticClass:"flex-1 ml-lg"},[a("div",{staticClass:"flex-y-center"},[a("div",{staticClass:"f-title c-title text-bold"},[e._v(e._s(e.detail.coach_name))]),e._v(" "),a("el-tag",{staticClass:"ml-lg",attrs:{size:"small",type:e.authStatusText[e.detail.auth_status].type}},[e._v(e._s(e.authStatusText[e.detail.auth_status].text))]),e._v(" "),a("el-tag",{staticClass:"ml-lg",attrs:{size:"small",type:e.statusText[e.detail.status].type}},[e._v("\n            "+e._s(e.statusText[e.detail.status].text)+"\n          ")]),e._v(" "),4===e.detail.status?a("el-popover",{attrs:{placement:"top-start",width:"400",trigger:"hover"}},[a("div",{staticClass:"f-caption c-title",attrs:{slot:""},slot:"default"},[a("div",{staticClass:"f-caption c-title",attrs:{slot:""},slot:"default"},[a("div",{staticClass:"c-caption pb-sm"},[e._v("驳回原因：")]),e._v(" "),a("div",{domProps:{innerHTML:e._s(e.detail.sh_text)}})]),e._v(" "),a("div",{staticClass:"f-caption c-caption mt-md"},[e._v("\n                驳回时间："+e._s(e._f("handleTime")(e.detail.sh_time))+"\n              ")])]),e._v(" "),a("span",{staticClass:"iconfont iconwentifankui1 c-warning ml-sm",attrs:{slot:"reference"},slot:"reference"})]):e._e()],1),e._v(" "),a("div",{staticClass:"mt-md mb-sm"},[e._v("\n          ID："),a("span",{staticClass:"c-title"},[e._v(e._s(e.detail.id))])]),e._v(" "),a("div",{staticClass:"mt-sm mb-sm"},[e._v("\n          性别："),a("span",{staticClass:"c-title"},[e._v(e._s(0===e.detail.sex?"男":"女"))])])])],1),e._v(" "),a("div",{staticClass:"info-list flex-warp pt-lg pb-lg c-caption"},[a("div",{staticClass:"info-item"},[e._v("\n        手机号："),a("span",{staticClass:"c-title"},[e._v(e._s(e.detail.mobile))])]),e._v(" "),a("div",{staticClass:"info-item"},[e._v("\n        申请时间："),a("span",{staticClass:"c-title"},[e._v(e._s(e._f("handleTime")(e.detail.create_time)))])]),e._v(" "),e.routesItem.auth.coachbroker?a("div",{staticClass:"info-item"},[e._v("\n        所属"+e._s(e.$t("action.brokerName"))+"："),a("span",{staticClass:"c-title"},[e._v(e._s(e.detail.partner_name||"-"))]),e._v(" "),a("lb-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:e.$route.name+"-updateCoachbroker",expression:"`${$route.name}-updateCoachbroker`"},{name:"show",rawName:"v-show",value:e.routesItem.auth.coachbroker,expression:"routesItem.auth.coachbroker"}],staticClass:"ml-md",attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(t){return e.toShowDialog("coachbroker",e.detail)}}},[e._v(e._s(e.$t("action.updateCoachbroker")))])],1):e._e()]),e._v(" "),e.routesItem.auth.coachport?a("div",{staticClass:"info-list flex-warp pb-lg mb-md c-caption"},[a("div",{staticClass:"info-item"},[e._v("\n        账号："),a("span",{staticClass:"c-title"},[e._v(e._s(e.detail.account_info&&e.detail.account_info.id?e.detail.account_info.user_name:"-"))])]),e._v(" "),a("div",{staticClass:"info-item flex-y-center",staticStyle:{width:"400px"}},[e._v("\n        密码："),a("span",{staticClass:"c-title cursor-pointer",on:{click:function(t){e.is_show_password=!e.is_show_password}}},[e._v(e._s(e.detail.account_info&&e.detail.account_info.id?e.is_show_password?e.detail.account_info.pass_word:"******":"-"))]),e._v(" "),e.detail.account_info&&e.detail.account_info.id?a("i",{staticClass:"iconfont pl-sm cursor-pointer",class:[{iconxianshimima:e.is_show_password},{iconyincangmima:!e.is_show_password}],staticStyle:{width:"20px"},style:{fontSize:e.is_show_password?"":"9px"},on:{click:function(t){e.is_show_password=!e.is_show_password}}}):e._e(),e._v(" "),a("lb-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:e.$route.name+"-updateCoachAccount",expression:"`${$route.name}-updateCoachAccount`"}],staticStyle:{"margin-left":"10px"},attrs:{size:"mini",plain:"",type:e.detail.account_info&&e.detail.account_info.id?"danger":"success"},on:{click:function(t){return e.toShowDialog("account",e.detail.account_info)}}},[e._v(e._s(e.$t(e.detail.account_info&&e.detail.account_info.id?"menu.TechnicianAccountEdit":"menu.TechnicianAccountAdd")))])],1)]):e._e(),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.countData,"header-cell-style":{background:"#f5f7fa",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"service_price",label:"","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ml-md"},[e._v("¥"+e._s(t.row.service_price))])]}}],null,!1,689950835)},[a("template",{slot:"header"},[a("div",{staticStyle:{"margin-top":"7px",padding:"0"}},[e._v("\n            账户余额\n            "),a("lb-tool-tips",{attrs:{padding:"11"}},[e._v("当前该"+e._s(e.$t("action.attendantName"))+"账户里待提走的金额")])],1)])],2),e._v(" "),e.routesItem.auth.coachcredit?a("el-table-column",{attrs:{prop:"credit_value",label:"信用分","min-width":"100"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"coach_star",label:"","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ml-md"},[e._v(e._s(t.row.coach_star))])]}}],null,!1,2351474687)},[a("template",{slot:"header"},[a("div",{staticStyle:{"margin-top":"7px",padding:"0"}},[e._v("\n            评分\n            "),a("lb-tool-tips",{attrs:{padding:"11"}},[e._v("加上虚拟的刷单的评分")])],1)])],2),e._v(" "),a("el-table-column",{attrs:{prop:"coach_time_long",label:"","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ml-md"},[e._v(e._s(t.row.coach_time_long)+"小时")])]}}],null,!1,2172263257)},[a("template",{slot:"header"},[a("div",{staticStyle:{"margin-top":"7px",padding:"0"}},[e._v("\n            服务时长\n            "),a("lb-tool-tips",{attrs:{padding:"11"}},[e._v("当前周期内的服务时长")])],1)])],2),e._v(" "),a("el-table-column",{attrs:{prop:"online_time",label:"","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ml-md"},[e._v(e._s(t.row.online_time)+"小时")])]}}],null,!1,2237263845)},[a("template",{slot:"header"},[a("div",{staticStyle:{"margin-top":"7px",padding:"0"}},[e._v("\n            在线时长\n            "),a("lb-tool-tips",{attrs:{padding:"11"}},[e._v("当前周期内的在线时长")])],1)])],2),e._v(" "),a("el-table-column",{attrs:{prop:"coach_price",label:"","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ml-md"},[e._v("¥"+e._s(t.row.coach_price))])]}}],null,!1,3206919720)},[a("template",{slot:"header"},[a("div",{staticStyle:{"margin-top":"7px",padding:"0"}},[e._v("\n            本期业绩\n            "),a("lb-tool-tips",{attrs:{padding:"11"}},[e._v("当前周期内的业绩")])],1)])],2),e._v(" "),a("el-table-column",{attrs:{prop:"coach_add_balance",label:"","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ml-md"},[e._v(e._s(t.row.coach_add_balance)+"%")])]}}],null,!1,2985993021)},[a("template",{slot:"header"},[a("div",{staticStyle:{"margin-top":"7px",padding:"0"}},[e._v("\n            加钟率\n            "),a("lb-tool-tips",{attrs:{padding:"11"}},[e._v("当前周期内的加钟率")])],1)])],2),e._v(" "),a("el-table-column",{attrs:{prop:"coach_integral",label:"","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ml-md"},[e._v(e._s(t.row.coach_integral))])]}}],null,!1,1697617221)},[a("template",{slot:"header"},[a("div",{staticStyle:{"margin-top":"7px",padding:"0"}},[e._v("\n            积分\n            "),a("lb-tool-tips",{attrs:{padding:"11"}},[e._v("当前周期内的引导客户充值获得的积分值+时长兑换的积分")])],1)])],2),e._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ml-md"},[e._v(e._s(t.row.balance)+"%")])]}}],null,!1,402668474)},[a("template",{slot:"header"},[a("div",{staticStyle:{"margin-top":"7px",padding:"0"}},[e._v("\n            本期提成比例\n            "),a("lb-tool-tips",{attrs:{padding:"11"}},[e._v("当前周期内的佣金提成比例")])],1)])],2)],1)],1):e._e(),e._v(" "),e.detail.id?a("div",{staticClass:"space-lg fill-body"}):e._e(),e._v(" "),a("div",{staticClass:"page-main"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基础信息",name:"sub"}},[e.edit_page_info?e._e():a("block",[a("lb-technician-info",{attrs:{info:e.subForm,time:e.time_list,free_fare_bear:e.free_fare_bear,is_have_add:e.is_have_add,industry_info:e.industry_info}})],1),e._v(" "),e.edit_page_info?a("el-form",{ref:"subForm",attrs:{model:e.subForm,rules:e.subFormRules,"label-width":"150px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"关联用户",prop:"user_id"}},[a("el-tag",{staticClass:"cursor-pointer",attrs:{type:!e.have_user_id||e.have_user_id&&e.phoneCheck&&e.$route.meta.pagePermission[0].auth.includes("updateCoachUser")?"primary":"info"},on:{click:function(t){return e.toShowDialog("user")}}},[e._v(e._s(e.subForm.user_id?e.subForm.nickName:"选择关联用户"))])],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("action.attendantName")+"姓名",prop:"coach_name"}},[a("el-input",{attrs:{maxlength:"15","show-word-limit":"",placeholder:"请输入"+e.$t("action.attendantName")+"姓名"},model:{value:e.subForm.coach_name,callback:function(t){e.$set(e.subForm,"coach_name",t)},expression:"subForm.coach_name"}})],1),e._v(" "),3===e.routesItem.auth.industrytype?a("block",[a("el-form-item",{attrs:{label:"职业分类",prop:"industry_type"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:"",disabled:!(!e.subForm.id||e.subForm.id&&4===e.subForm.status)},on:{change:e.changeIndustryType},model:{value:e.subForm.industry_type,callback:function(t){e.$set(e.subForm,"industry_type",t)},expression:"subForm.industry_type"}},e._l(e.base_industry,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{model:{value:e.subForm.sex,callback:function(t){e.$set(e.subForm,"sex",t)},expression:"subForm.sex"}},[a("el-radio",{attrs:{label:0}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("女")])],1)],1),e._v(" "),e.industry_info.height?a("block",[a("el-form-item",{attrs:{label:"身高",prop:"height"}},[a("el-input",{attrs:{placeholder:"请输入身高"},model:{value:e.subForm.height,callback:function(t){e.$set(e.subForm,"height",e._n(t))},expression:"subForm.height"}},[a("template",{slot:"append"},[e._v("cm")])],2)],1)],1):e._e(),e._v(" "),e.industry_info.weight?a("block",[a("el-form-item",{attrs:{label:"体重",prop:"weight"}},[a("el-input",{attrs:{placeholder:"请输入体重"},model:{value:e.subForm.weight,callback:function(t){e.$set(e.subForm,"weight",t)},expression:"subForm.weight"}},[a("template",{slot:"append"},[e._v("kg")])],2)],1)],1):e._e(),e._v(" "),e.industry_info.birthday?a("block",[a("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期","value-format":"timestamp","picker-options":e.pickerOptions},model:{value:e.subForm.birthday,callback:function(t){e.$set(e.subForm,"birthday",t)},expression:"subForm.birthday"}})],1)],1):e._e(),e._v(" "),e.industry_info.constellation&&e.subForm.birthday?a("el-form-item",{attrs:{label:"星座",prop:"constellation"}},[e._v("\n            "+e._s(e.subForm.constellation||"-")+"\n          ")]):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{maxlength:"11","show-word-limit":"",placeholder:"请输入手机号"},model:{value:e.subForm.mobile,callback:function(t){e.$set(e.subForm,"mobile",t)},expression:"subForm.mobile"}})],1),e._v(" "),e.industry_info.employment_years?a("block",[a("el-form-item",{attrs:{label:"从业年份",prop:"work_time"}},[a("el-input",{attrs:{placeholder:"请输入从业年份"},model:{value:e.subForm.work_time,callback:function(t){e.$set(e.subForm,"work_time",e._n(t))},expression:"subForm.work_time"}},[a("template",{slot:"append"},[e._v("年")])],2)],1)],1):e._e(),e._v(" "),3===e.routesItem.auth.industrytype&&e.subForm.industry_type?a("el-form-item",{attrs:{label:"岗位标签",prop:"station_icon"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:e.subForm.station_icon,callback:function(t){e.$set(e.subForm,"station_icon",t)},expression:"subForm.station_icon"}},e._l(e.stationList,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"个性标签",prop:"personality_icon"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:e.subForm.personality_icon,callback:function(t){e.$set(e.subForm,"personality_icon",t)},expression:"subForm.personality_icon"}},e._l(e.personalityList,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"意向工作城市",prop:"city_id"}},[e.routesItem.userInfo.is_admin||!e.subForm.id||e.agent_update_city?a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:e.subForm.city_id,callback:function(t){e.$set(e.subForm,"city_id",t)},expression:"subForm.city_id"}},e._l(e.base_city,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1):a("div",[e._v("\n              "+e._s(e.subForm.city)+"\n            ")])],1),e._v(" "),e.routesItem.auth.career&&(!e.subForm.id||e.subForm.id&&e.base_career.length>0&&(!e.routesItem.userInfo.is_admin&&(e.routesItem.userInfo.id===e.subForm.admin_id||e.routesItem.userInfo.admin_id===e.subForm.admin_id)||e.routesItem.userInfo.is_admin))?a("el-form-item",{attrs:{label:"职业类型",prop:"type_id"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:e.subForm.type_id,callback:function(t){e.$set(e.subForm,"type_id",t)},expression:"subForm.type_id"}},e._l(e.base_career,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1):e._e(),e._v(" "),e.routesItem.auth.coachbroker?a("el-form-item",{attrs:{label:"所属"+e.$t("action.brokerName"),prop:""}},[a("div",[e._v(e._s(e.subForm.partner_name||"暂未设置"))])]):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"所属"+e.$t("action.agentName"),prop:""}},[a("div",[e._v(e._s(e.subForm.admin_name||"暂未设置"))])]),e._v(" "),e.routesItem.auth.store&&e.base_store.length>0&&(!e.subForm.id||e.subForm.id&&(!e.subForm.admin_id&&e.routesItem.userInfo.is_admin||e.subForm.admin_id&&(e.routesItem.userInfo.is_admin||!e.routesItem.userInfo.is_admin&&(e.routesItem.userInfo.id===e.subForm.admin_id||e.routesItem.userInfo.admin_id===e.subForm.admin_id))))?a("el-form-item",{attrs:{label:"挂靠门店",prop:"store"}},[a("el-select",{attrs:{multiple:"","collapse-tags":"",filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.subForm.store,callback:function(t){e.$set(e.subForm,"store",t)},expression:"subForm.store"}},e._l(e.base_store,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1):e._e(),e._v(" "),e.free_fare_bear?a("el-form-item",{attrs:{label:"免出行费半径距离",prop:"free_fare_distance"}},[a("el-input",{attrs:{placeholder:"请输入公里数"},model:{value:e.subForm.free_fare_distance,callback:function(t){e.$set(e.subForm,"free_fare_distance",t)},expression:"subForm.free_fare_distance"}},[a("template",{slot:"append"},[e._v("km")])],2)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"所在地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入所在地址"},model:{value:e.subForm.address,callback:function(t){e.$set(e.subForm,"address",t)},expression:"subForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"经度",prop:"lng"}},[a("el-input",{attrs:{placeholder:"请输入经度"},model:{value:e.subForm.lng,callback:function(t){e.$set(e.subForm,"lng",t)},expression:"subForm.lng"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"纬度",prop:"lat"}},[a("el-input",{attrs:{placeholder:"请输入纬度"},model:{value:e.subForm.lat,callback:function(t){e.$set(e.subForm,"lat",t)},expression:"subForm.lat"}}),e._v(" "),a("lb-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){e.showMap=!0}}},[e._v("获取经纬度")])],1),e._v(" "),a("lb-classify-title",{attrs:{title:e.$t("action.attendantName")+"阶段性分成",tips:"对于新进平台的"+e.$t("action.attendantName")+"，且综合素质较好的，可以设置某个阶段固定高提成比例。提成比例和提成限期时间不填写，则默认走统一的浮动比例"}}),e._v(" "),a("el-form-item",{attrs:{label:"提成比例",prop:"balance"}},[a("el-input",{attrs:{placeholder:"请输入提成比例"},model:{value:e.subForm.balance,callback:function(t){e.$set(e.subForm,"balance",t)},expression:"subForm.balance"}},[a("template",{slot:"append"},[e._v("%")])],2),e._v(" "),e.is_have_add?a("div",{staticClass:"mt-md"},[a("div",{staticClass:"flex-y-center text-bold"},[a("el-checkbox",{model:{value:e.subForm.add_balance_status,callback:function(t){e.$set(e.subForm,"add_balance_status",t)},expression:"subForm.add_balance_status"}},[e._v("加钟基础值\n                  "),a("el-input",{staticStyle:{width:"120px",margin:"0 10px"},attrs:{placeholder:"请输入百分比"},model:{value:e.subForm.add_basis_balance,callback:function(t){e.$set(e.subForm,"add_basis_balance",t)},expression:"subForm.add_basis_balance"}}),e._v("\n                  %")],1)],1),e._v(" "),a("div",{staticClass:"f-caption c-warning"},[e._v("\n                不设置则默认加钟基础值和首单提成比例一致\n              ")])]):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"提成限期时间",prop:"custom_balance_time"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp","default-time":["00:00:00","23:59:59"]},model:{value:e.subForm.custom_balance_time,callback:function(t){e.$set(e.subForm,"custom_balance_time",t)},expression:"subForm.custom_balance_time"}})],1),e._v(" "),a("lb-classify-title",{attrs:{title:"其他信息"}}),e._v(" "),a("el-form-item",{attrs:{label:e.$t("action.attendantName")+"简介",prop:"text"}},[a("el-input",{attrs:{type:"textarea",rows:10,maxlength:"300",resize:"none","show-word-limit":"",placeholder:"请输入"+e.$t("action.attendantName")+"简介"},model:{value:e.subForm.text,callback:function(t){e.$set(e.subForm,"text",t)},expression:"subForm.text"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号",prop:"id_code"}},[a("el-input",{attrs:{placeholder:"请输入身份证号"},model:{value:e.subForm.id_code,callback:function(t){e.$set(e.subForm,"id_code",t)},expression:"subForm.id_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名",prop:"true_user_name"}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":"",placeholder:"请输入真实姓名"},model:{value:e.subForm.true_user_name,callback:function(t){e.$set(e.subForm,"true_user_name",t)},expression:"subForm.true_user_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证照片",prop:"id_card"}},[a("lb-cover",{attrs:{fileList:e.subForm.id_card,fileType:"image",type:"more",fileSize:3},on:{selectedFiles:function(t){return e.selectedFiles(t,"id_card")},moveFiles:function(t){return e.moveFiles(t,"id_card")}}}),e._v(" "),a("lb-tool-tips",[e._v("请分别上传身份证人像面、身份证国徽面、手持身份证照片")])],1),e._v(" "),e.industry_info.qualification?a("block",[a("el-form-item",{attrs:{label:"资格证书",prop:"license"}},[a("lb-cover",{attrs:{fileList:e.subForm.license,fileType:"image",type:"more",isEditImg:1*e.subForm.id>0,fileSize:15},on:{selectedFiles:function(t){return e.selectedFiles(t,"license")},moveFiles:function(t){return e.moveFiles(t,"license")},editImg:function(t){return e.toEditImg(t,"license","资格证书")}}})],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"工作形象照",prop:"work_img"}},[a("lb-cover",{attrs:{fileList:e.subForm.work_img,fileType:"image",type:"more",tips:"750 * 750",isEditImg:1*e.subForm.id>0,fileSize:1},on:{selectedFiles:function(t){return e.selectedFiles(t,"work_img")},editImg:function(t){return e.toEditImg(t,"work_img","工作形象照")}}})],1),e._v(" "),a("el-form-item",{attrs:{label:""+e.$t("action.lifeText"),prop:"self_img"}},[a("lb-cover",{attrs:{fileList:e.subForm.self_img,fileType:"image",type:"more",tips:"750 * 1030",isEditImg:1*e.subForm.id>0,fileSize:9},on:{selectedFiles:function(t){return e.selectedFiles(t,"self_img")},moveFiles:function(t){return e.moveFiles(t,"self_img")},editImg:function(t){e.toEditImg(t,"self_img",""+e.$t("action.lifeText"))}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"个人视频介绍",prop:"video"}},[a("div",{staticClass:"lb-file-input flex-between"},[a("div",{class:[{"c-title":e.subForm.video}]},[e._v("\n                "+e._s(e._f("handleFileName")(e.subForm.video))+"\n              ")]),e._v(" "),a("div",{staticClass:"flex-center"},[e.subForm.video?a("i",{staticClass:"c-warning iconfont icon-guanbi-fill pl-sm pr-sm",on:{click:function(t){return e.toResetFile("video")}}}):e._e(),e._v(" "),a("lb-cover",{attrs:{type:"button",fileType:"video",fileSize:1},on:{selectedFiles:function(t){return e.getFile(t,"video")}}})],1)])]),e._v(" "),a("el-form-item",{attrs:{label:"虚拟订单量",prop:"order_num"}},[a("el-input",{attrs:{placeholder:"请输入虚拟订单量"},model:{value:e.subForm.order_num,callback:function(t){e.$set(e.subForm,"order_num",e._n(t))},expression:"subForm.order_num"}},[a("template",{slot:"append"},[e._v("单")])],2),e._v(" "),a("div",[a("el-checkbox",{model:{value:e.subForm.show_salenum,callback:function(t){e.$set(e.subForm,"show_salenum",t)},expression:"subForm.show_salenum"}},[e._v("不显示实际销量和虚拟销量")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"虚拟收藏量",prop:"virtual_collect"}},[a("el-input",{attrs:{placeholder:"请输入虚拟收藏量"},model:{value:e.subForm.virtual_collect,callback:function(t){e.$set(e.subForm,"virtual_collect",e._n(t))},expression:"subForm.virtual_collect"}}),e._v(" "),a("lb-tool-tips",[e._v("手机端展示收藏量=虚拟收藏量+真实收藏量")])],1),e._v(" "),a("el-form-item",{attrs:{label:"虚拟评价量",prop:"virtual_comment"}},[a("el-input",{attrs:{placeholder:"请输入虚拟评价量"},model:{value:e.subForm.virtual_comment,callback:function(t){e.$set(e.subForm,"virtual_comment",e._n(t))},expression:"subForm.virtual_comment"}}),e._v(" "),a("lb-tool-tips",[e._v("手机端展示评价量=虚拟评价量+真实评价条数")])],1),e._v(" "),[2,3].includes(e.detail.status)?e._e():a("block",[a("el-form-item",{attrs:{label:"是否接单",prop:"is_work"}},[a("el-radio-group",{model:{value:e.subForm.is_work,callback:function(t){e.$set(e.subForm,"is_work",t)},expression:"subForm.is_work"}},[a("el-radio",{attrs:{label:1}},[e._v("接单")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("休息")])],1)],1),e._v(" "),e.subForm.is_work?a("el-form-item",{attrs:{label:"选择接单时间",prop:"start_time"}},[a("el-time-select",{staticStyle:{width:"150px"},attrs:{placeholder:"开始时间",clearable:!1,"picker-options":{start:"00:00",step:"00:01",end:"24:00"}},model:{value:e.subForm.start_time,callback:function(t){e.$set(e.subForm,"start_time",t)},expression:"subForm.start_time"}}),e._v(" "),a("block",[e._v("至"+e._s(e._f("handleStartEndTime")(e.subForm)))]),e._v(" "),a("el-time-select",{staticStyle:{width:"150px"},attrs:{placeholder:"结束时间",clearable:!1,"picker-options":{start:"00:00",step:"00:01",end:"24:00"}},model:{value:e.subForm.end_time,callback:function(t){e.$set(e.subForm,"end_time",t)},expression:"subForm.end_time"}})],1):e._e()],1),e._v(" "),e.routesItem.auth.fdd&&e.fdd_agreement&&e.fdd_agreement.id&&(e.routesItem.userInfo.is_admin||!e.routesItem.userInfo.is_admin&&(e.routesItem.userInfo.id===e.subForm.admin_id||e.routesItem.userInfo.admin_id===e.subForm.admin_id))?a("el-form-item",{attrs:{label:"电子签约："}},[a("div",{staticClass:"cursor-pointer c-link",on:{click:function(t){e.showDialog.file=!0}}},[e._v("\n              查看签约合同\n            ")])]):e._e(),e._v(" "),a("el-form-item",[!e.$route.query.id||e.routesItem.userInfo.is_admin||e.$route.query.id&&!e.routesItem.userInfo.is_admin&&(e.routesItem.userInfo.id===e.subForm.admin_id||e.routesItem.userInfo.admin_id===e.subForm.admin_id)?a("lb-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.submitFormInfo("sub")}}},[e._v(e._s(e.$t("action.submit")))]):e._e(),e._v(" "),a("lb-button",{on:{click:function(t){return e.$router.back(-1)}}},[e._v(e._s(e.$t("action.back")))])],1)],1):e._e()],1),e._v(" "),e.subForm.id&&[2,3].includes(e.subForm.status)&&e.edit_page_info?a("el-tab-pane",{attrs:{label:"接单时间",name:"time"}},[a("el-form",{ref:"timeForm",attrs:{model:e.timeForm,rules:e.timeFormRules,"label-width":"150px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"是否接单",prop:"is_work"}},[a("el-radio-group",{model:{value:e.timeForm.is_work,callback:function(t){e.$set(e.timeForm,"is_work",t)},expression:"timeForm.is_work"}},[a("el-radio",{attrs:{label:1}},[e._v("接单")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("休息")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"选择接单时间",prop:"start_time"}},[a("el-time-select",{staticStyle:{width:"150px"},attrs:{placeholder:"开始时间","picker-options":{start:"00:00",step:"00:01",end:"24:00"}},on:{change:e.toChangeTime},model:{value:e.timeForm.start_time,callback:function(t){e.$set(e.timeForm,"start_time",t)},expression:"timeForm.start_time"}}),e._v(" "),a("block",[e._v("至"+e._s(e._f("handleStartEndTime")(e.timeForm)))]),e._v(" "),a("el-time-select",{staticStyle:{width:"150px"},attrs:{placeholder:"结束时间","picker-options":{start:"00:00",step:"00:01",end:"24:00"}},on:{change:e.toChangeTime},model:{value:e.timeForm.end_time,callback:function(t){e.$set(e.timeForm,"end_time",t)},expression:"timeForm.end_time"}}),e._v(" "),e.time_list.length>0?a("block",[a("div",{staticClass:"space-lg"}),e._v(" "),a("lb-tips",[a("div",{staticStyle:{"line-height":"20px"}},[e._v("\n                  灰色：表示不可预约"),a("span",{staticClass:"ml-md mr-md",staticStyle:{color:"#f12c20"}},[e._v("灰色-忙：表示"+e._s(e.$t("action.attendantName"))+"在该时段有订单")]),a("span",{staticStyle:{color:"#409eff"}},[e._v("灰色-占：表示"+e._s(e.$t("action.attendantName"))+"自己设置了该时段为休息")])]),e._v(" "),a("div",{staticClass:"mt-sm",staticStyle:{"line-height":"20px"}},[e._v("\n                  其余情况为可预约\n                ")])]),e._v(" "),a("div",{staticClass:"f-mini-title c-title text-bold mt-md"},[e._v("\n                "+e._s(e._f("handleTime")(e.time_list[0].time_str,1))+"（今天）\n              ")]),e._v(" "),a("div",{staticClass:"date-list flex"},e._l(e.time_list,function(t,r){return a("div",{key:r,staticClass:"date-item flex-center mr-md mt-md cursor-pointer radius-10 rel",class:e.isTimes(t.time_str)||1==t.is_order||3==e.subForm.status||3!=e.subForm.status&&0==t.status&&0==t.is_order&&!e.isTimes(t.time_str)?"":"can-service",on:{click:function(t){return e.getDateTime(r)}}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"f-mini-title"},[e._v(e._s(t.time_text))]),e._v(" "),a("div",{staticClass:"f-caption"},[e._v("\n                      "+e._s(e.isTimes(t.time_str)||0==t.status?"不可预约":"可预约")+"\n                    ")])]),e._v(" "),0!=t.status||0!=t.is_order||e.isTimes(t.time_str)?e._e():a("div",{staticClass:"abs item-tag flex-center c-base radius"},[e._v("\n                    占\n                  ")]),e._v(" "),1==t.is_order?a("div",{staticClass:"abs item-tag flex-center c-base radius",staticStyle:{background:"#f12c20"}},[e._v("\n                    忙\n                  ")]):e._e()])}),0)],1):e._e()],1),e._v(" "),a("el-form-item",[!e.$route.query.id||e.routesItem.userInfo.is_admin||e.$route.query.id&&!e.routesItem.userInfo.is_admin&&(e.routesItem.userInfo.id===e.subForm.admin_id||e.routesItem.userInfo.admin_id===e.subForm.admin_id)?a("lb-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.submitFormInfo("time")}}},[e._v(e._s(e.$t("action.submit")))]):e._e()],1)],1)],1):e._e(),e._v(" "),e.detail.id&&e.$route.meta.pagePermission[0].auth.includes("coachEditOrderList")?a("el-tab-pane",{attrs:{label:"服务记录",name:"order"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.order,expression:"loading.order"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.order,"header-cell-style":{background:"#f5f7fa",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"id",label:"订单ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_code",label:"系统订单号","min-width":"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_info_text",width:"210",label:"服务项目信息"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.order_goods,function(t,r){return a("div",{key:r,staticClass:"goods-info-text flex-warp pt-md pb-sm"},[a("lb-image",{staticClass:"radius-5",attrs:{src:t.goods_cover}}),e._v(" "),a("div",{staticClass:"info-item flex-1 f-icontext c-caption ml-md"},[a("div",{staticClass:"flex-between"},[a("div",{staticClass:"f-caption c-title ellipsis",class:[{"max-160":t.refund_num>0}],staticStyle:{"line-height":"1.2"}},[e._v("\n                      "+e._s(t.goods_name)+"\n                    ")]),e._v(" "),t.refund_num>0?a("div",{staticClass:"c-warning"},[e._v("\n                      已退x"+e._s(t.refund_num)+"\n                    ")]):e._e()]),e._v(" "),a("div",{staticClass:"flex-y-center",staticStyle:{"line-height":"1.4"}},[e._v("\n                    时长："+e._s(t.time_long)+" 分钟\n                  ")]),e._v(" "),1*t.init_material_price>0?a("div",{staticClass:"flex-y-center",staticStyle:{"line-height":"1.4"}},[e._v("\n                    "+e._s(e.$t("action.materialText"))+"：\n                    "),a("div",{staticClass:"c-warning"},[e._v("\n                      ¥"+e._s(t.init_material_price)+"\n                    ")])]):e._e(),e._v(" "),a("div",{staticClass:"flex-between mt-sm",staticStyle:{"line-height":"1.4"}},[a("div",{staticClass:"c-warning"},[e._v("¥"+e._s(t.price))]),e._v(" "),a("div",[e._v("x"+e._s(t.num))])])])],1)})}}],null,!1,94494238)}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_model",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e.payType[t.row.pay_model])+"\n            ")]}}],null,!1,832136531)}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_model",label:"订单类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e.orderType[t.row.is_add])+"\n            ")]}}],null,!1,2481971561)}),e._v(" "),a("el-table-column",{attrs:{prop:"total_price",label:"总金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("¥"+e._s(t.row.total_price))])]}}],null,!1,580444751)}),e._v(" "),a("el-table-column",{attrs:{prop:"discount",label:"优惠抵扣"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"c-warning"},[e._v("-¥"+e._s(t.row.discount))])]}}],null,!1,3033110861)}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_price",label:"实收金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("¥"+e._s(t.row.pay_price))])]}}],null,!1,2789571045)}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time","min-width":"120",label:"下单时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e._f("handleTime")(t.row.create_time,1)))]),e._v(" "),a("div",[e._v(e._s(e._f("handleTime")(t.row.create_time,2)))])]}}],null,!1,2726580755)})],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.order.page,pageSize:e.searchForm.order.limit,total:e.total.order},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"order")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"order")}}})],1):e._e(),e._v(" "),e.detail.id&&e.$route.meta.pagePermission[0].auth.includes("coachEditServiceList")?a("el-tab-pane",{attrs:{label:"已关联服务",name:"service"}},[e.routesItem.userInfo.is_admin||!e.routesItem.userInfo.is_admin&&(e.routesItem.userInfo.id===e.subForm.admin_id||e.routesItem.userInfo.admin_id===e.subForm.admin_id)?a("block",[a("lb-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:e.$route.name+"-coachEditJoinService",expression:"`${$route.name}-coachEditJoinService`"}],staticStyle:{"margin-bottom":"16px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.toShowDialog("chooseservice")}}},[e._v(e._s(e.$t("action.coachEditJoinService")))])],1):e._e(),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.service,expression:"loading.service"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.service,"header-cell-style":{background:"#f5f7fa",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"service_id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"封面图"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("lb-image",{attrs:{src:e.row.cover}})]}}],null,!1,3454402882)}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"服务名称"}}),e._v(" "),3===e.routesItem.auth.industrytype?a("el-table-column",{attrs:{prop:"industry_title",label:"关联行业"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"服务价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s("¥"+t.row.price)+"\n            ")]}}],null,!1,459892983)}),e._v(" "),a("el-table-column",{attrs:{prop:"material_price",label:e.$t("action.materialText")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s("¥"+t.row.material_price)+"\n            ")]}}],null,!1,377118563)}),e._v(" "),a("el-table-column",{attrs:{prop:"coach_price",label:e.$t("action.attendantName")+"服务价格","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s("¥"+t.row.coach_price))]),e._v(" "),!e.routesItem.userInfo.is_admin&&(e.routesItem.userInfo.is_admin||e.routesItem.userInfo.id!==e.subForm.admin_id&&e.routesItem.userInfo.admin_id!==e.subForm.admin_id)||!e.$route.meta.pagePermission[0].auth.includes("coachEditChangeServicePrice")?e._e():a("div",{staticClass:"c-link cursor-pointer",on:{click:function(a){return e.toShowDialog("price",t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v("\n                "+e._s(e.$t("action.coachEditChangeServicePrice"))+"\n              ")])]}}],null,!1,2848637031)}),e._v(" "),a("el-table-column",{attrs:{prop:"time_long",label:"服务时长"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.time_long+"分钟")+"\n            ")]}}],null,!1,3213543334)}),e._v(" "),a("el-table-column",{attrs:{prop:"is_add",label:"服务类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"small",type:t.row.is_add?"danger":"primary"}},[e._v(e._s(t.row.is_add?"加钟":"服务"))])]}}],null,!1,2406931392)}),e._v(" "),a("el-table-column",{attrs:{prop:"admin_name",label:"创建人","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.admin_id?""+t.row.admin_city+e.$t("action.agentName")+"-"+t.row.admin_name:t.row.admin_name)+"\n            ")]}}],null,!1,145714946)}),e._v(" "),e.routesItem.userInfo.is_admin||!e.routesItem.userInfo.is_admin&&(e.routesItem.userInfo.id===e.subForm.admin_id||e.routesItem.userInfo.admin_id===e.subForm.admin_id)?a("el-table-column",{attrs:{label:"操作","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table-operate"},[a("lb-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:e.$route.name+"-coachEditDelService",expression:"`${$route.name}-coachEditDelService`"}],attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(a){return e.confirmDel(t.row.id)}}},[e._v(e._s(e.$t("action.coachEditDelService")))])],1)]}}],null,!1,1800534611)}):e._e()],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.service.page,pageSize:e.searchForm.service.limit,total:e.total.service},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"service")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"service")}}})],1):e._e(),e._v(" "),e.detail.id&&e.$route.meta.pagePermission[0].auth.includes("coachEditBalanceList")?a("el-tab-pane",{attrs:{label:"余额修改记录",name:"record"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.record,expression:"loading.record"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.record,"header-cell-style":{background:"#f5f7fa",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"is_add",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:[{"c-success":t.row.is_add},{"c-warning":!t.row.is_add}]},[e._v("\n                "+e._s(t.row.is_add?"增加":"扣除")+"\n              ")])]}}],null,!1,636750013)}),e._v(" "),a("el-table-column",{attrs:{prop:"cash",label:"变动金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s("¥"+t.row.cash)+"\n            ")]}}],null,!1,3431414019)}),e._v(" "),a("el-table-column",{attrs:{prop:"cash",label:"现余额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s("¥"+t.row.after_cash)+"\n            ")]}}],null,!1,3770363352)}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"备注","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top-start",width:"350",trigger:"hover"}},[a("div",{staticClass:"f-caption c-title",attrs:{slot:""},slot:"default"},[a("div",{staticClass:"c-caption pb-sm"},[e._v("备注：")]),e._v(" "),a("div",{staticStyle:{"max-height":"80vh",overflow:"auto"},domProps:{innerHTML:e._s(t.row.text)}})]),e._v(" "),a("div",{staticClass:"ellipsis-2",attrs:{slot:"reference"},domProps:{innerHTML:e._s(t.row.text)},slot:"reference"})])]}}],null,!1,4227279457)}),e._v(" "),a("el-table-column",{attrs:{prop:"create_user",label:"操作者",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"操作时间","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e._f("handleTime")(t.row.create_time,1)))]),e._v(" "),a("p",[e._v(e._s(e._f("handleTime")(t.row.create_time,2)))])]}}],null,!1,2718285459)})],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.record.page,pageSize:e.searchForm.record.limit,total:e.total.record},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"record")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"record")}}})],1):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:e.$t("action.updateCoachbroker"),visible:e.showDialog.coachbroker,width:"600px",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"coachbroker",t)}}},[a("el-form",{ref:"coachbrokerForm",staticClass:"dialog-form",attrs:{model:e.coachbrokerForm,"label-width":"140px",size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"原"+e.$t("action.brokerName")+"："}},[e._v("\n          "+e._s(e.coachbrokerForm.partner_name||"-")+"\n        ")]),e._v(" "),a("el-form-item",{attrs:{label:"修改所属"+e.$t("action.brokerName")+"：",prop:"check_id"}},[a("el-tag",{attrs:{type:e.coachbrokerForm.check_id?"primary":"danger",closable:!!e.coachbrokerForm.check_id},on:{close:e.toResetChangeForm,click:function(t){return e.toShowDialog("choosebroker")}}},[e._v(e._s(e.coachbrokerForm.check_id?e.coachbrokerForm.check_name:"选择"+e.$t("action.brokerName")))])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog.coachbroker=!1}}},[e._v(e._s(e.$t("action.cancel")))]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.submitFormInfo("coachbroker",2)}}},[e._v(e._s(e.$t("action.comfirm")))])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"选择"+e.$t("action.brokerName"),visible:e.showDialog.choosebroker,width:"800px",top:"5vh",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"choosebroker",t)}}},[a("el-form",{ref:"choosebrokerForm",attrs:{inline:!0,model:e.searchForm.choosebroker,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"输入查询",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入"+e.$t("action.brokerName")+"姓名/手机号"},model:{value:e.searchForm.choosebroker.name,callback:function(t){e.$set(e.searchForm.choosebroker,"name",t)},expression:"searchForm.choosebroker.name"}})],1),e._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDataList(1,"choosebroker")}}},[e._v(e._s(e.$t("action.search")))]),e._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("choosebroker")}}},[e._v(e._s(e.$t("action.reset")))])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.choosebroker,expression:"loading.choosebroker"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.choosebroker,"header-cell-style":{background:"#f5f7fa",color:"#606266"},"tooltip-effect":"dark","highlight-current-row":""},on:{"current-change":function(t){return e.handleSelectionChange(t,"choosebroker")}}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_id",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"avatarUrl",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("lb-image",{attrs:{src:e.row.avatarUrl}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sh_time",label:"入驻时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e._f("handleTime")(t.row.sh_time,1)))]),e._v(" "),a("p",[e._v(e._s(e._f("handleTime")(t.row.sh_time,2)))])]}}])})],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.choosebroker.page,pageSize:e.searchForm.choosebroker.limit,total:e.total.choosebroker},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"choosebroker")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"choosebroker")}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog.choosebroker=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.handleDialogConfirm("choosebroker")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.$t(e.accountForm.coach_id?"menu.TechnicianAccountEdit":"menu.TechnicianAccountAdd"),visible:e.showDialog.account,width:"600px",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"account",t)}}},[a("el-form",{ref:"accountForm",attrs:{model:e.accountForm,rules:e.accountFormRules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"账号",prop:"user_name"}},[a("el-input",{attrs:{placeholder:"请输入手机号",maxlength:"11","show-word-limit":""},model:{value:e.accountForm.user_name,callback:function(t){e.$set(e.accountForm,"user_name",t)},expression:"accountForm.user_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"pass_word"}},[a("el-input",{attrs:{placeholder:"请输入密码",maxlength:"18","show-word-limit":""},model:{value:e.accountForm.pass_word,callback:function(t){e.$set(e.accountForm,"pass_word",t)},expression:"accountForm.pass_word"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog.account=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.submitFormInfo("account")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"关联用户",visible:e.showDialog.user,width:"800px",top:"5vh",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"user",t)}}},[e.routesItem.userInfo.is_admin?e._e():a("lb-tips",[e._v("请输入用户昵称/手机号后点击查询数据")]),e._v(" "),a("el-form",{ref:"userForm",attrs:{inline:!0,model:e.searchForm.user,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"输入查询",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称/手机号"},model:{value:e.searchForm.user.nickName,callback:function(t){e.$set(e.searchForm.user,"nickName",t)},expression:"searchForm.user.nickName"}})],1),e._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDataList(1,"user")}}},[e._v(e._s(e.$t("action.search")))]),e._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("user")}}},[e._v(e._s(e.$t("action.reset")))])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.user,expression:"loading.user"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.user,"header-cell-style":{background:"#f5f7fa",color:"#606266"},"tooltip-effect":"dark","highlight-current-row":""},on:{"current-change":function(t){return e.handleSelectionChange(t,"user")}}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"avatarUrl",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("lb-image",{attrs:{src:e.row.avatarUrl}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"昵称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}})],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.user.page,pageSize:e.searchForm.user.limit,total:e.total.user},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"user")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"user")}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.have_user_id&&e.phoneCheck&&e.$route.meta.pagePermission[0].auth.includes("updateCoachUser")?a("div",[a("el-form",{ref:"updateuserForm",staticStyle:{width:"70%"},attrs:{model:e.updateuserForm,rules:e.updateuserFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"手机号校验",prop:"phone_code"}},[a("el-input",{staticStyle:{width:"270px"},attrs:{placeholder:"请输入验证码"},model:{value:e.updateuserForm.phone_code,callback:function(t){e.$set(e.updateuserForm,"phone_code",t)},expression:"updateuserForm.phone_code"}}),e._v(" "),a("el-button",{staticClass:"ml-sm",attrs:{plain:"",type:"primary"},on:{click:e.toSend}},[e._v(e._s(e.authTime>0?"("+e.authTime+"s)后重新获取":"获取验证码"))])],1)],1)],1):e._e(),e._v(" "),a("el-button",{on:{click:function(t){e.showDialog.user=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.handleDialogConfirm("user")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.$t("action.coachEditJoinService"),visible:e.showDialog.chooseservice,width:"1000px",top:"5vh",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"chooseservice",t)}}},[a("el-form",{ref:"chooseserviceForm",attrs:{inline:!0,model:e.searchForm.chooseservice,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"输入查询",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入服务名称"},model:{value:e.searchForm.chooseservice.title,callback:function(t){e.$set(e.searchForm.chooseservice,"title",t)},expression:"searchForm.chooseservice.title"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.routesItem.userInfo.is_admin,expression:"!routesItem.userInfo.is_admin"}],attrs:{prop:"only_admin"}},[a("el-checkbox",{on:{change:function(t){return e.getTableDataList(1,"chooseservice")}},model:{value:e.searchForm.chooseservice.only_admin,callback:function(t){e.$set(e.searchForm.chooseservice,"only_admin",t)},expression:"searchForm.chooseservice.only_admin"}},[e._v("不看平台创建的")])],1),e._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDataList(1,"chooseservice")}}},[e._v(e._s(e.$t("action.search")))]),e._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("chooseservice")}}},[e._v(e._s(e.$t("action.reset")))])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.chooseservice,"header-cell-style":{background:"#f5f7fa",color:"#606266"},"tooltip-effect":"dark"},on:{"selection-change":function(t){return e.handleSelectionChange(t,"chooseservice")}}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cover",label:"封面图"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("lb-image",{attrs:{src:e.row.cover}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"服务名称"}}),e._v(" "),3===e.routesItem.auth.industrytype?a("el-table-column",{attrs:{prop:"industry_title",label:"关联行业"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"old_price",label:"服务价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s("¥"+t.row.old_price)+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"material_price",label:e.$t("action.materialText")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s("¥"+t.row.material_price)+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{staticStyle:{width:"150px"},attrs:{size:"small",precision:2,controls:!1,min:0},model:{value:t.row.price,callback:function(a){e.$set(t.row,"price",a)},expression:"scope.row.price"}})]}}])},[a("template",{slot:"header"},[a("div",{staticStyle:{"margin-top":"7px",padding:"0"}},[e._v("\n              "+e._s(e.$t("action.attendantName")+"服务价格")),a("lb-tool-tips",{attrs:{padding:"10"}},[e._v("该价格默认为服务价格\n                "),a("div",{staticClass:"mt-sm"},[e._v("\n                  若没有填写服务价格或者服务价格填写错误则默认为0\n                ")])])],1)])],2),e._v(" "),a("el-table-column",{attrs:{prop:"time_long",label:"服务时长"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.time_long+"分钟")+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"is_add",label:"服务类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"small",type:t.row.is_add?"danger":"primary"}},[e._v(e._s(t.row.is_add?"加钟":"服务"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"admin_name",label:"创建人","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.admin_id?""+t.row.admin_city+e.$t("action.agentName")+"-"+t.row.admin_name:t.row.admin_name)+"\n          ")]}}])})],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.chooseservice.page,pageSize:e.searchForm.chooseservice.limit,total:e.total.chooseservice},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"chooseservice")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"chooseservice")}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog.chooseservice=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.handleDialogConfirm("chooseservice")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.$t("action.coachEditChangeServicePrice"),visible:e.showDialog.price,width:"600px",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"price",t)}}},[a("el-form",{ref:"priceForm",attrs:{model:e.priceForm,rules:e.priceFormRules,"label-width":"140px"}},[a("div",{staticClass:"flex-center",staticStyle:{margin:"0 0 10px 48px"}},[a("lb-image",{staticStyle:{width:"60px",height:"60px","object-fit":"cover"},attrs:{src:e.priceForm.cover,isLook:!0}}),e._v(" "),a("div",{staticClass:"flex-1 ml-md f-caption c-caption"},[a("div",{staticClass:"f-paragraph c-title text-bold"},[e._v("\n              "+e._s(e.priceForm.title)+"\n            ")]),e._v(" "),a("div",{staticClass:"mt-sm"},[e._v("\n              服务价格："),a("span",{staticClass:"c-warning"},[e._v("¥"+e._s(e.priceForm.old_price))])])])],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("action.attendantName")+"服务价格",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入"+e.$t("action.attendantName")+"服务价格"},model:{value:e.priceForm.price,callback:function(t){e.$set(e.priceForm,"price",t)},expression:"priceForm.price"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog.price=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.submitFormInfo("price")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.$t("action.coachEditChangeServiceBalance"),visible:e.showDialog.balance,width:"600px",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"balance",t)}}},[a("el-form",{ref:"balanceForm",attrs:{model:e.balanceForm,rules:e.balanceFormRules,"label-width":"140px"}},[a("lb-tips",[e._v(e._s(e.$t("action.attendantName"))+"提成优先级：服务提成＞阶段性提成＞等级提成\n          "),a("div",{staticClass:"mt-sm"},[e._v("\n            输入为0，则按照"+e._s(e.$t("action.attendantName"))+"对应的阶段性提成或等级提成来核算\n          ")])]),e._v(" "),a("div",{staticClass:"flex-center",staticStyle:{margin:"0 0 10px 48px"}},[a("lb-image",{staticStyle:{width:"60px",height:"60px","object-fit":"cover"},attrs:{src:e.balanceForm.cover,isLook:!0}}),e._v(" "),a("div",{staticClass:"flex-1 ml-md f-caption c-caption"},[a("div",{staticClass:"f-paragraph c-title text-bold"},[e._v("\n              "+e._s(e.balanceForm.title)+"\n            ")]),e._v(" "),a("div",{staticClass:"mt-sm"},[e._v("\n              服务提成："),a("span",{staticClass:"c-warning"},[e._v(e._s(e.balanceForm.old_balance)+"%")])])])],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("action.attendantName")+"服务提成",prop:"balance"}},[a("el-input",{attrs:{placeholder:"请输入"+e.$t("action.attendantName")+"服务提成"},model:{value:e.balanceForm.balance,callback:function(t){e.$set(e.balanceForm,"balance",t)},expression:"balanceForm.balance"}}),e._v(" "),a("lb-tool-tips",[e._v("\n            取值0-100的数值，支持输入小数，保留小数点后2位\n          ")])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDialog.balance=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(t){return e.submitFormInfo("balance")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"lbmax-dialog",attrs:{title:"签约合同",visible:e.showDialog.file,"append-to-body":!0,width:"1000px",top:"5vh",center:""},on:{"update:visible":function(t){return e.$set(e.showDialog,"file",t)}}},[e.fdd_agreement&&e.fdd_agreement?a("iframe",{attrs:{frameborder:"0",src:e.fdd_agreement.viewpdf_url,width:"100%",height:"800px"}}):e._e()]),e._v(" "),a("lb-map",{attrs:{dialogVisible:e.showMap},on:{"update:dialogVisible":function(t){e.showMap=t},"update:dialog-visible":function(t){e.showMap=t},selectedLatLng:e.getLatLng}}),e._v(" "),a("lb-edit-img",{ref:"edit_img_item",attrs:{info:e.editimgForm},on:{change:function(t){return e.moveFiles(t,e.editimgForm.key)}}})],1)],1)},staticRenderFns:[]};var x=a("C7Lr")(y,w,!1,function(e){a("Eg+w")},"data-v-c05934fa",null);t.default=x.exports}});