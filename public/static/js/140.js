webpackJsonp([140],{V21k:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("3cXf"),s=a.n(r),o=a("lC5x"),n=a.n(o),l=a("J0Oq"),i=a.n(l),_=a("4YfN"),c=a.n(_),u=a("bSIt"),m={data:function(){var t=this;return{checkList:[],authList:[{title:"微信提现",key:"wechat_transfer"},{title:"支付宝提现",key:"alipay_transfer"},{title:"银行卡提现",key:"bank_transfer"},{title:"线下提现",key:"under_transfer",tips:"用于用户、"+this.$t("action.attendantName")+"或"+this.$t("action.agentName")+"提现时选择到账方式"}],subForm:{wechat_transfer:0,alipay_transfer:0,bank_transfer:0,under_transfer:0,company_pay:1,car_price_account:0,account_pay_type:1,channel_fx_superpose:1,coach_service_wallet_cash_t_type:0,cash_mini:"",tax_point:"",personal_income_tax_text:"",wx_point:"",ali_point:"",balance_point:"",poster_point:"",poster_coach_share:"",poster_admin_share:"",order_rules_status:0,order_rules:"",trading_rules:""},subFormRules:{checkList:{required:!0,validator:function(e,a,r){var s=t.subForm,o=s.wechat_transfer,n=void 0===o?0:o,l=s.alipay_transfer,i=void 0===l?0:l,_=s.bank_transfer,c=void 0===_?0:_,u=s.under_transfer,m=t.routesItem.auth.adapay;(!m||n||i||c||u)&&(m||n||i||u)?r():r(new Error("请选择提现方式"))},trigger:["blur","change"]},company_pay:{required:!0,type:"number",message:"请选择转账方式",trigger:"blur"},car_price_account:{required:!0,type:"number",message:"请选择车费秒到账",trigger:"blur"},account_pay_type:{required:!0,type:"number",message:"请选择秒到账支付方式",trigger:"blur"},channel_fx_superpose:{required:!0,type:"number",message:"请选择佣金叠加",trigger:"blur"},coach_service_wallet_cash_t_type:{required:!0,type:"number",message:"请选择提现周期",trigger:"blur"},cash_mini:{required:!0,validator:this.$reg.isMoney,trigger:"blur"},personal_income_tax_text:{required:!0,validator:this.$reg.isNotNull,text:"个人所得税文案",reg_type:2,trigger:"blur"},tax_point:{required:!0,validator:function(e,a,r){var s=t.subForm.personal_income_tax_text,o=/^(([0-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/;""===a||a&&(!o.test(a)||1*a>100)?r(new Error(""===a?"请输入"+s:a&&!o.test(a)?"请输入正确的"+s+"，最多保留2位小数":"请输入正确的"+s+"，最大不超过100")):r()},trigger:["blur","change"]},wx_point:{required:!0,validator:this.$reg.isFloatNum,text:"微信支付手续费",reg_type:2,max:100,trigger:["blur","change"]},ali_point:{required:!0,validator:this.$reg.isFloatNum,text:"支付宝支付手续费",reg_type:2,max:100,trigger:["blur","change"]},balance_point:{required:!0,validator:this.$reg.isFloatNum,text:"余额支付手续费",reg_type:2,max:100,trigger:["blur","change"]},poster_point:{required:!0,validator:this.$reg.isFloatNum,text:"广告费",reg_type:2,max:100,trigger:["blur","change"]},poster_share:{required:!0,validator:function(e,a,r){var s=t.subForm,o=s.poster_coach_share,n=void 0===o?0:o,l=s.poster_admin_share,i=void 0===l?0:l,_=/^\+?[0-9]*$/;if(n&&!_.test(n)||i&&!_.test(i)){var c=n&&!_.test(n)?t.$t("action.attendantName"):t.$t("action.agentName");r(new Error("请输入正确的"+c+"承担比例，仅支持整数"))}else 1*n+1*i>100?r(new Error(t.$t("action.attendantName")+"和"+t.$t("action.agentName")+"承担比例不能大于100%")):r()},trigger:["blur","change"]},order_rules_status:{required:!0,type:"number",message:"请选择下单须知",trigger:"blur"},order_rules:{required:!0,validator:function(e,a,r){var s=t.subForm.order_rules_status;a&&(a=a.replace(/(^\s*)|(\s*$)/g,"")),s&&!a?r(new Error("请输入下单须知")):r()},trigger:"blur"}}}},created:function(){this.getFormInfo()},computed:c()({},Object(u.e)({routesItem:function(t){return t.routes}})),methods:{getFormInfo:function(){var t=this;return i()(n.a.mark(function e(){var a,r,s,o,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.system.configInfo({login_protocol:1});case 2:if(a=e.sent,r=a.code,s=a.data,200===r){e.next=7;break}return e.abrupt("return");case 7:for(o in t.subForm)"order_rules"===o&&null===s[o]&&(s[o]=""),t.subForm[o]=s[o];l=[],t.authList.map(function(t){1===s[t.key]&&l.push(t.title)}),t.checkList=l;case 11:case"end":return e.stop()}},e,t)}))()},changeCheckBox:function(t){var e=this;this.authList.map(function(a){e.subForm[a.key]=t.includes(a.title)?1:0})},submitFormInfo:function(){var t=this;return i()(n.a.mark(function e(){var a,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!0,t.$refs.subForm.validate(function(t){t||(a=!1)}),a){e.next=4;break}return e.abrupt("return");case 4:return r=JSON.parse(s()(t.subForm)),e.next=7,t.$api.system.configUpdate(r);case 7:t.$message.success(t.$t("tips.successSub"));case 8:case"end":return e.stop()}},e,t)}))()}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lb-system-transaction"},[a("top-nav"),t._v(" "),a("div",{staticClass:"page-main"},[a("el-form",{ref:"subForm",attrs:{model:t.subForm,rules:t.subFormRules,"label-width":"160px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"提现方式",prop:"checkList"}},[a("el-checkbox-group",{on:{change:t.changeCheckBox},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(t.authList,function(e,r){return a("div",{directives:[{name:"show",rawName:"v-show",value:"bank_transfer"!==e.key||"bank_transfer"===e.key&&(t.routesItem.auth.adapay||t.routesItem.auth.heepay),expression:"\n              item.key !== 'bank_transfer' ||\n              (item.key === 'bank_transfer' &&\n                (routesItem.auth.adapay || routesItem.auth.heepay))\n            "}],key:r,style:{display:"inline-block",marginLeft:0===r?0:"15px"}},[a("el-checkbox",{attrs:{label:e.title}}),t._v(" "),e.tips?a("lb-tool-tips",[t._v(t._s(e.tips))]):t._e()],1)}),0)],1),t._v(" "),a("el-form-item",{attrs:{label:"转账方式",prop:"company_pay"}},[a("el-radio-group",{model:{value:t.subForm.company_pay,callback:function(e){t.$set(t.subForm,"company_pay",e)},expression:"subForm.company_pay"}},[a("el-radio",{attrs:{label:1}},[t._v("企业转账到零钱")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("商家转账到零钱")])],1),t._v(" "),a("lb-tool-tips",[t._v("用于微信线上提现")])],1),t._v(" "),a("el-form-item",{attrs:{label:"车费秒到账",prop:"car_price_account"}},[a("el-radio-group",{model:{value:t.subForm.car_price_account,callback:function(e){t.$set(t.subForm,"car_price_account",e)},expression:"subForm.car_price_account"}},[a("el-radio",{attrs:{label:1}},[t._v(t._s(t.$t("action.ON")))]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v(t._s(t.$t("action.OFF")))])],1),t._v(" "),a("lb-tool-tips",[t._v("选择开启，车费提成将会在"+t._s(t.$t("action.attendantName"))+"点击已到达后，立马转入到"+t._s(t.$t("action.attendantName"))+"的微信零钱包\n          "),a("div",{staticClass:"mt-sm"},[t._v("\n            不具备商家转账功能的企业不能使用该功能\n          ")])])],1),t._v(" "),1===t.subForm.car_price_account?a("el-form-item",{attrs:{label:"秒到账支付方式",prop:"account_pay_type"}},[a("el-radio-group",{model:{value:t.subForm.account_pay_type,callback:function(e){t.$set(t.subForm,"account_pay_type",e)},expression:"subForm.account_pay_type"}},[a("el-radio",{attrs:{label:1}},[t._v("微信")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("支付宝")]),t._v(" "),t.routesItem.auth.adapay||t.routesItem.auth.heepay?a("el-radio",{attrs:{label:4}},[t._v("银行卡")]):t._e()],1),t._v(" "),a("lb-tool-tips",[t._v("若选择支付宝，但"+t._s(t.$t("action.attendantName"))+"未填写支付宝账号信息，将无法自动到账\n          "),t.routesItem.auth.adapay||t.routesItem.auth.heepay?a("div",{staticClass:"mt-sm"},[t._v("\n            若选择银行卡，但"+t._s(t.$t("action.attendantName"))+"绑定相关银行卡账号信息，将无法自动到账\n          ")]):t._e()])],1):t._e(),t._v(" "),t.routesItem.auth.reseller&&t.routesItem.auth.channel?a("el-form-item",{attrs:{label:"佣金叠加",prop:"channel_fx_superpose"}},[a("el-radio-group",{model:{value:t.subForm.channel_fx_superpose,callback:function(e){t.$set(t.subForm,"channel_fx_superpose",e)},expression:"subForm.channel_fx_superpose"}},[a("el-radio",{attrs:{label:0}},[t._v("只返"+t._s(t.$t("action.resellerName")))]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("只返"+t._s(t.$t("action.channelName")))]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("同时返")])],1),t._v(" "),a("lb-tool-tips",[t._v("\n          只返"+t._s(t.$t("action.resellerName"))+"：当一个订单里同时存在"+t._s(t.$t("action.resellerName"))+"佣金和"+t._s(t.$t("action.channelName"))+"佣金时，只给"+t._s(t.$t("action.resellerName"))+"返\n          "),a("div",{staticClass:"mt-sm mb-sm"},[t._v("\n            只返"+t._s(t.$t("action.channelName"))+"：当一个订单同时存在分销佣金和"+t._s(t.$t("action.channelName"))+"佣金时，不返"+t._s(t.$t("action.resellerName"))+"佣金，只返给"+t._s(t.$t("action.channelName"))+"，如果"+t._s(t.$t("action.channelName"))+"还有上级业务员，那么业务员也会获得佣金\n          ")]),t._v("\n          同时返：当一个订单同时出现"+t._s(t.$t("action.resellerName"))+"佣金和"+t._s(t.$t("action.channelName"))+"佣金时，都返\n        ")])],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:t.$t("action.attendantName")+"服务费提现周期",prop:"coach_service_wallet_cash_t_type"}},[a("el-radio-group",{model:{value:t.subForm.coach_service_wallet_cash_t_type,callback:function(e){t.$set(t.subForm,"coach_service_wallet_cash_t_type",e)},expression:"subForm.coach_service_wallet_cash_t_type"}},[a("el-radio",{attrs:{label:0}},[t._v("不限")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("半月一提")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("一周一提")])],1),t._v(" "),a("lb-tool-tips",[t._v("\n          不限：订单完成即可发起提现，无需冻结；\n          "),a("div",{staticClass:"mt-md"},[t._v("\n            半月一提：订单完成后，"+t._s(t.$t("action.attendantName"))+"的服务提成需要冻结半个月后才能提现，例如：\n          ")]),t._v(" "),a("div",{staticClass:"mt-sm",staticStyle:{"margin-left":"60px"}},[t._v("\n            本月1-15号完成的订单，需要次月的1号才能提现，本月16号至月末30号/31号完成的订单，需要次月的16号才能提现\n            "),a("div",{staticClass:"mt-sm c-tips"},[t._v("\n              若存在未提现完的情况，即：本月1-15号应有提成1000，次月1号已提现600，则未提现的400可在次月16号再次发起提现\n            ")]),t._v(" "),a("div",{staticClass:"mt-sm c-tips"},[t._v("只有每月1号和16号可提现")])]),t._v(" "),a("div",{staticClass:"mt-sm"},[t._v("\n            一周一提：订单完成后，"+t._s(t.$t("action.attendantName"))+"的服务提成需要冻结，固定每周一提现上上周一周的订单服务提成\n          ")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"最低提现额度",prop:"cash_mini"}},[a("el-input",{attrs:{placeholder:"请输入最低提现额度"},model:{value:t.subForm.cash_mini,callback:function(e){t.$set(t.subForm,"cash_mini",e)},expression:"subForm.cash_mini"}},[a("template",{slot:"append"},[t._v("元")])],2),t._v(" "),a("lb-tool-tips",[t._v("当"+t._s(t.$t("action.attendantName"))+"、\n          "+t._s(t.routesItem.auth.coachbroker?""+t.$t("action.attendantName")+t.$t("action.brokerName")+"、":"")+"\n          "+t._s(t.routesItem.auth.reseller?t.$t("action.resellerName")+"、":"")+"\n          "+t._s(t.routesItem.auth.salesman?"业务员、":"")+"\n          "+t._s(t.routesItem.auth.channel?t.$t("action.channelName")+"、":"")+"\n          "+t._s(t.$t("action.agentName"))+"申请提现时，限制提现的最低额度")])],1),t._v(" "),a("el-form-item",{attrs:{label:"个人所得税文案",prop:"personal_income_tax_text"}},[a("el-input",{attrs:{maxlength:"5","show-word-limit":"",placeholder:"请输入个人所得税文案"},model:{value:t.subForm.personal_income_tax_text,callback:function(e){t.$set(t.subForm,"personal_income_tax_text",e)},expression:"subForm.personal_income_tax_text"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.subForm.personal_income_tax_text,prop:"tax_point"}},[a("el-input",{attrs:{placeholder:"请输入"+t.subForm.personal_income_tax_text},model:{value:t.subForm.tax_point,callback:function(e){t.$set(t.subForm,"tax_point",e)},expression:"subForm.tax_point"}},[a("template",{slot:"append"},[t._v("%")])],2),t._v(" "),a("lb-tool-tips",[t._v("设置"+t._s(t.subForm.personal_income_tax_text)+"百分比之后，当"+t._s(t.$t("action.attendantName"))+"、\n          "+t._s(t.routesItem.auth.coachbroker?""+t.$t("action.attendantName")+t.$t("action.brokerName")+"、":"")+"\n          "+t._s(t.routesItem.auth.reseller?t.$t("action.resellerName")+"、":"")+"\n          "+t._s(t.routesItem.auth.salesman?"业务员、":"")+"\n          "+t._s(t.routesItem.auth.channel?t.$t("action.channelName")+"、":"")+"\n          "+t._s(t.$t("action.agentName"))+"申请提现时会产生税费\n          "),a("div",{staticClass:"mt-sm"},[t._v("\n            例如：申请提现金额100元，扣税比例为3%，则税费=100*3%=3元，实际提现应到账金额=100-3=97元\n          ")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"微信支付手续费",prop:"wx_point"}},[a("el-input",{attrs:{placeholder:"请输入微信支付手续费"},model:{value:t.subForm.wx_point,callback:function(e){t.$set(t.subForm,"wx_point",e)},expression:"subForm.wx_point"}},[a("template",{slot:"append"},[t._v("%")])],2),t._v(" "),a("lb-tool-tips",[t._v("使用微信支付时，微信方产生约千分之六（不同行业费率不同）的支付手续费\n          "),a("div",{staticClass:"mt-sm"},[t._v("\n            如果平台不想自己承担，可以分摊到参与分佣的角色方，设置之后，所有参与分佣的用户在分佣的时候自动核算手续费\n          ")]),t._v(" "),a("div",{staticClass:"mt-md"},[t._v("设置为0表示不扣除，由平台承担支付手续费")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"支付宝支付手续费",prop:"ali_point"}},[a("el-input",{attrs:{placeholder:"请输入支付宝支付手续费"},model:{value:t.subForm.ali_point,callback:function(e){t.$set(t.subForm,"ali_point",e)},expression:"subForm.ali_point"}},[a("template",{slot:"append"},[t._v("%")])],2),t._v(" "),a("lb-tool-tips",[t._v("使用支付宝支付时，支付宝方会产生一笔支付手续费\n          "),a("div",{staticClass:"mt-sm"},[t._v("\n            如果平台不想自己承担，可以分摊到参与分佣的角色方，设置之后，所有参与分佣的用户在分佣的时候自动核算手续费\n          ")]),t._v(" "),a("div",{staticClass:"mt-md"},[t._v("设置为0表示不扣除，由平台承担支付手续费")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"余额支付手续费",prop:"balance_point"}},[a("el-input",{attrs:{placeholder:"请输入余额支付手续费"},model:{value:t.subForm.balance_point,callback:function(e){t.$set(t.subForm,"balance_point",e)},expression:"subForm.balance_point"}},[a("template",{slot:"append"},[t._v("%")])],2),t._v(" "),a("lb-tool-tips",[t._v("余额支付通常是用户通过支付宝或者微信支付先进行预充值，再下单的\n          "),a("div",{staticClass:"mt-sm"},[t._v("这里的余额支付手续费，平台根据情况自行配置")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"广告费",prop:"poster_point"}},[a("el-input",{attrs:{placeholder:"请输入广告费"},model:{value:t.subForm.poster_point,callback:function(e){t.$set(t.subForm,"poster_point",e)},expression:"subForm.poster_point"}},[a("template",{slot:"append"},[t._v("%")])],2),t._v(" "),a("lb-tool-tips",[t._v("设置比例之后，每笔订单都会扣除广告费，广告费由"+t._s(t.$t("action.attendantName"))+"、"+t._s(t.$t("action.agentName"))+"、平台三方承担\n          "),a("div",{staticClass:"mt-sm"},[t._v("\n            如果"+t._s(t.$t("action.attendantName"))+"承担比例+"+t._s(t.$t("action.agentName"))+"承担比例=100%，则表示平台不用承担广告费\n          ")]),t._v(" "),a("div",{staticClass:"mt-md"},[t._v("设置为0表示无广告费产生")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"广告费承担比例",prop:"poster_share"}},[t._v("\n        广告费由"+t._s(t.$t("action.attendantName"))+"承担\n        "),a("el-input",{staticClass:"mini",attrs:{placeholder:"请输入承担比例"},model:{value:t.subForm.poster_coach_share,callback:function(e){t.$set(t.subForm,"poster_coach_share",e)},expression:"subForm.poster_coach_share"}},[a("template",{slot:"append"},[t._v("%")])],2),t._v("\n        ，对应"+t._s(t.$t("action.agentName"))+"承担\n        "),a("el-input",{staticClass:"mini",attrs:{placeholder:"请输入承担比例"},model:{value:t.subForm.poster_admin_share,callback:function(e){t.$set(t.subForm,"poster_admin_share",e)},expression:"subForm.poster_admin_share"}},[a("template",{slot:"append"},[t._v("%")])],2),t._v("\n        ，剩下默认都由平台承担\n      ")],1),t._v(" "),a("el-form-item",{attrs:{label:"下单须知展示",prop:"order_rules_status"}},[a("el-radio-group",{model:{value:t.subForm.order_rules_status,callback:function(e){t.$set(t.subForm,"order_rules_status",e)},expression:"subForm.order_rules_status"}},[a("el-radio",{attrs:{label:0}},[t._v("不显示")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("弹窗形式显示")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("勾选形式")])],1),t._v(" "),a("lb-tool-tips",[t._v("选择不显示：后台无需添加下单须知内容，用户下单时无需显示\n          "),a("div",{staticClass:"mt-sm"},[t._v("\n            选择弹窗形式显示：后台添加下单须知内容之后，用户下单时，会弹出弹窗，用户阅读后才可下单\n          ")]),t._v(" "),a("div",{staticClass:"mt-sm"},[t._v("\n            选择勾选形式：后台添加下单须知内容之后，用户下单时需要勾选阅读下单须知后才能下单\n          ")])])],1),t._v(" "),t.subForm.order_rules_status?a("el-form-item",{attrs:{label:"下单须知",prop:"order_rules"}},[a("lb-ueditor",{attrs:{destroy:!0,ueditorType:3},model:{value:t.subForm.order_rules,callback:function(e){t.$set(t.subForm,"order_rules",e)},expression:"subForm.order_rules"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"退款须知",prop:"trading_rules"}},[a("lb-ueditor",{attrs:{destroy:!0,ueditorType:3},model:{value:t.subForm.trading_rules,callback:function(e){t.$set(t.subForm,"trading_rules",e)},expression:"subForm.trading_rules"}})],1),t._v(" "),a("el-form-item",[a("lb-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:t.submitFormInfo}},[t._v(t._s(t.$t("action.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var b=a("C7Lr")(m,p,!1,function(t){a("sTpn")},"data-v-3eed9a3a",null);e.default=b.exports},sTpn:function(t,e){}});