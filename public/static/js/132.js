webpackJsonp([132],{"0He2":function(e,t){},"94c8":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),n=a.n(r),i=a("lC5x"),s=a.n(i),l=a("J0Oq"),o=a.n(l),c=a("PxTW"),u=a.n(c),m={data:function(){return{pickerOptions:{disabledDate:function(e){return e.getTime()>1e3*(u()(u()(Date.now()).format("YYYY-MM-DD")).unix()+86400-1)}},errType:["","返佣时间过期","与"+this.$t("action.agentName")+"不同地区","与平台不同地区",this.$t("action.agentName")+"余额不足"],loading:{list:!1},searchForm:{list:{page:1,limit:10,reseller_name:"",start_time:"",end_time:""}},tableData:{list:[]},total:{list:0}}},activated:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.getTableDataList(1,"list");case 1:case"end":return t.stop()}},t,e)}))()},methods:{resetForm:function(e){var t=e+"Form";this.$refs[t].resetFields(),this.getTableDataList(1,e)},handleSizeChange:function(e,t){this.searchForm[t].limit=e,this.handleCurrentChange(1,t)},handleCurrentChange:function(e,t){this.searchForm[t].page=e,this.getTableDataList("",t)},toChange:function(e){var t=this;return o()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.searchForm.list.status=e,t.getTableDataList(1,"list");case 2:case"end":return a.stop()}},a,t)}))()},getTableDataList:function(e,t){var a=this;return o()(s.a.mark(function r(){var i,l,o,c,u,m,d,f;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e&&(a.searchForm[t].page=e),a.loading[t]=!0,i=JSON.parse(n()(a.searchForm[t])),"list"===t&&((l=i.start_time)&&l.length>1?(i.start_time=l[0]/1e3,i.end_time=l[1]/1e3):(i.start_time="",i.end_time="")),o={list:{methodKey:"distribution",methodModel:"recommendRecord"}}[t],c=o.methodKey,u=o.methodModel,r.next=8,a.$api[c][u](i);case 8:if(m=r.sent,d=m.code,f=m.data,a.loading[t]=!1,200===d){r.next=14;break}return r.abrupt("return");case 14:a.tableData[t]=f.data,a.total[t]=f.total;case 16:case"end":return r.stop()}},r,a)}))()}},filters:{handleTime:function(e,t){return 1===t?u()(1e3*e).format("YYYY-MM-DD"):2===t?u()(1e3*e).format("HH:mm:ss"):u()(1e3*e).format("YYYY-MM-DD HH:mm:ss")},handleUserArea:function(e){var t="",a=e.province,r=e.city,n=e.area;return a&&(t+=a),a&&r&&(t+="-"+r),a&&r&&n&&(t+="-"+n),t}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lb-distribution-count"},[a("top-nav",{attrs:{title:e.$t("action.resellerName")+"粉丝推荐费返佣明细"}}),e._v(" "),a("div",{staticClass:"page-main"},[a("el-row",{staticClass:"page-search-form"},[a("el-form",{ref:"listForm",attrs:{inline:!0,model:e.searchForm.list},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"输入查询",prop:"reseller_name"}},[a("el-input",{attrs:{placeholder:"请输入"+e.$t("action.resellerName")+"姓名"},model:{value:e.searchForm.list.reseller_name,callback:function(t){e.$set(e.searchForm.list,"reseller_name",t)},expression:"searchForm.list.reseller_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"加入时间",prop:"start_time"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp","picker-options":e.pickerOptions,"default-time":["00:00:00","23:59:59"]},on:{change:function(t){return e.getTableDataList(1,"list")}},model:{value:e.searchForm.list.start_time,callback:function(t){e.$set(e.searchForm.list,"start_time",t)},expression:"searchForm.list.start_time"}})],1),e._v(" "),a("el-form-item",[a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDataList(1,"list")}}},[e._v(e._s(e.$t("action.search")))]),e._v(" "),a("lb-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"medium",icon:"el-icon-refresh-left"},on:{click:function(t){return e.resetForm("list")}}},[e._v(e._s(e.$t("action.reset")))])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.list,expression:"loading.list"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.list,"header-cell-style":{background:"#f5f7fa",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_id",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_info",label:"微信头像"},scopedSlots:e._u([{key:"default",fn:function(e){return e.row.user_info?[a("lb-image",{attrs:{src:e.row.user_info.avatarUrl}})]:void 0}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{prop:"user_info",label:"微信昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.user_info?[e._v("\n          "+e._s(t.row.user_info.nickName)+"\n        ")]:void 0}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"所在地区","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("handleUserArea")(t.row))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"加入时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e._f("handleTime")(t.row.create_time,1)))]),e._v(" "),a("p",[e._v(e._s(e._f("handleTime")(t.row.create_time,2)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"reseller_name",label:""+e.$t("action.resellerName")}}),e._v(" "),a("el-table-column",{attrs:{prop:"recommend_cash",label:"推荐费"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          ¥"+e._s(t.row.recommend_cash)+"\n          "),1*t.row.recommend_cash==0?a("div",{staticClass:"f-caption c-tips",staticStyle:{"line-height":"1.4"}},[e._v("\n            "+e._s(e.errType[t.row.err_type])+"\n          ")]):e._e()]}}])})],1),e._v(" "),a("lb-page",{attrs:{batch:!1,page:e.searchForm.list.page,pageSize:e.searchForm.list.limit,total:e.total.list},on:{handleSizeChange:function(t){return e.handleSizeChange(t,"list")},handleCurrentChange:function(t){return e.handleCurrentChange(t,"list")}}})],1)],1)},staticRenderFns:[]};var f=a("C7Lr")(m,d,!1,function(e){a("0He2")},"data-v-43d40fb2",null);t.default=f.exports}});