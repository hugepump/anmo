webpackJsonp([188],{"H+zg":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("3cXf"),s=t.n(o),n=t("lC5x"),a=t.n(n),i=t("J0Oq"),c=t.n(i),u={data:function(){return{subForm:{record_type:"",record_no:""},subFormRules:{record_type:{required:!0,type:"number",message:"请选择备案类型",trigger:"blur"},record_no:{required:!0,validator:this.$reg.isNotNull,text:"备案号",reg_type:2,trigger:"blur"}}}},created:function(){this.getFormInfo()},methods:{getFormInfo:function(){var e=this;return c()(a.a.mark(function r(){var t,o,s,n;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$api.system.configInfo();case 2:if(t=r.sent,o=t.code,s=t.data,200===o){r.next=7;break}return r.abrupt("return");case 7:for(n in e.subForm)e.subForm[n]=s[n];case 8:case"end":return r.stop()}},r,e)}))()},submitFormInfo:function(){var e=this,r=!0;if(this.$refs.subForm.validate(function(e){e||(r=!1)}),r){var t=JSON.parse(s()(this.subForm));t.record_type=t.record_no&&t.record_no.includes("公网安备")?2:1,this.$api.system.configUpdate(t).then(function(r){200===r.code&&e.$message.success(e.$t("tips.successSub"))})}}}},l={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"lb-system-information"},[t("top-nav"),e._v(" "),t("div",{staticClass:"page-main"},[t("lb-tips",[e._v("备案信息将展示在登录页面")]),e._v(" "),t("el-form",{ref:"subForm",staticClass:"config-form",attrs:{model:e.subForm,rules:e.subFormRules,"label-width":"160px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"备案类型",prop:"record_type"}},[t("el-radio-group",{model:{value:e.subForm.record_type,callback:function(r){e.$set(e.subForm,"record_type",r)},expression:"subForm.record_type"}},[t("el-radio",{attrs:{label:1}},[e._v("ICP备案/许可证号")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("网站联网备案号")])],1),e._v(" "),t("lb-tool-tips",[e._v("用于登录页面展示，以百度备案号为例：\n          "),t("div",{staticClass:"mt-sm"},[e._v("ICP备案/许可证号：京ICP证030173号")]),e._v(" "),t("div",{staticClass:"mt-sm"},[e._v("网站联网备案号：京公网安备 11000002000001号")])])],1),e._v(" "),t("el-form-item",{attrs:{label:"备案号",prop:"record_no"}},[t("el-input",{attrs:{maxlength:"50","show-word-limit":"",placeholder:"请输入备案号"},model:{value:e.subForm.record_no,callback:function(r){e.$set(e.subForm,"record_no",r)},expression:"subForm.record_no"}})],1),e._v(" "),t("el-form-item",[t("lb-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:e.submitFormInfo}},[e._v(e._s(e.$t("action.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var m=t("C7Lr")(u,l,!1,function(e){t("I3l5")},"data-v-11051be9",null);r.default=m.exports},I3l5:function(e,r){}});