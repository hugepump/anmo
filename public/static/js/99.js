webpackJsonp([99],{"9Nu9":function(t,e){},tFKd:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("3cXf"),a=r.n(n),i=r("4YfN"),o=r.n(i),s=r("lC5x"),u=r.n(s),c=r("J0Oq"),l=r.n(c),m=r("PxTW"),b=r.n(m),p=r("bSIt"),f={data:function(){return{navTitle:"",subForm:{id:0,title:"",text:"",top:0},subFormRules:{title:{required:!0,validator:this.$reg.isNotNull,text:"公告标题",trigger:["blur","change"]},text:{required:!0,validator:this.$reg.isNotNull,text:"公告内容",trigger:["blur","change"]},top:{required:!0,type:"number",message:"请输入排序值",trigger:"blur"}}}},created:function(){var t=this;return l()(u.a.mark(function e(){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.$route.query.id)){e.next=5;break}return t.subForm.id=r,e.next=5,t.getDetail(r);case 5:t.navTitle=t.$t(r?"menu.TechnicianNoticeEdit":"menu.TechnicianNoticeAdd");case 6:case"end":return e.stop()}},e,t)}))()},computed:o()({},Object(p.e)({routesItem:function(t){return t.routes}})),methods:{getDetail:function(t){var e=this;return l()(u.a.mark(function r(){var n,a,i;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$api.technician.coachNoticeInfo({id:t});case 2:for(i in n=r.sent,a=n.data,e.subForm)e.subForm[i]=a[i];case 5:case"end":return r.stop()}},r,e)}))()},submitFormInfo:function(t){var e=this;return l()(u.a.mark(function r(){var n,i,o,s;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=!0,e.$refs[t+"Form"].validate(function(t){t||(n=!1)}),n){r.next=4;break}return r.abrupt("return");case 4:return i=JSON.parse(a()(e.subForm)),o=i.id?"coachNoticeUpdate":"coachNoticeAdd",r.next=8,e.$api.technician[o](i);case 8:if(s=r.sent,200===s.code){r.next=12;break}return r.abrupt("return");case 12:e.$message.success(e.$t("tips.successSub")),e.$router.back(-1);case 14:case"end":return r.stop()}},r,e)}))()}},filters:{handleTime:function(t,e){return 1===e?b()(1e3*t).format("YYYY-MM-DD"):2===e?b()(1e3*t).format("HH:mm:ss"):b()(1e3*t).format("YYYY-MM-DD HH:mm:ss")}}},d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"lb-technician-notice"},[r("top-nav",{attrs:{title:t.navTitle,isBack:!0}}),t._v(" "),r("div",{staticClass:"page-main"},[r("el-form",{ref:"subForm",attrs:{model:t.subForm,rules:t.subFormRules,"label-width":"100px"},nativeOn:{submit:function(t){t.preventDefault()}}},[r("el-form-item",{attrs:{label:"公告标题",prop:"title"}},[r("el-input",{attrs:{maxlength:"20","show-word-limit":"",placeholder:"请输入公告标题"},model:{value:t.subForm.title,callback:function(e){t.$set(t.subForm,"title",e)},expression:"subForm.title"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"公告内容",prop:"text"}},[r("lb-ueditor",{attrs:{destroy:!0},model:{value:t.subForm.text,callback:function(e){t.$set(t.subForm,"text",e)},expression:"subForm.text"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"排序值",prop:"top"}},[r("el-input-number",{staticClass:"lb-input-number",attrs:{min:0,controls:!1,placeholder:"请输入排序值"},model:{value:t.subForm.top,callback:function(e){t.$set(t.subForm,"top",e)},expression:"subForm.top"}}),t._v(" "),r("lb-tool-tips",[t._v("值越大, 排序越靠前")])],1),t._v(" "),r("el-form-item",[r("lb-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:function(e){return t.submitFormInfo("sub")}}},[t._v(t._s(t.$t("action.submit")))]),t._v(" "),r("lb-button",{on:{click:function(e){return t.$router.back(-1)}}},[t._v(t._s(t.$t("action.back")))])],1)],1)],1)],1)},staticRenderFns:[]};var v=r("C7Lr")(f,d,!1,function(t){r("9Nu9")},"data-v-5b6bc506",null);e.default=v.exports}});