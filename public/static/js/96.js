webpackJsonp([96],{gLrA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("3cXf"),s=n.n(a),i=n("lC5x"),r=n.n(i),m=n("J0Oq"),o=n.n(m),l=n("4YfN"),_=n.n(l),c=n("PxTW"),u=n.n(c),d=n("bSIt"),g={data:function(){return{bind_technician_img:"https://lbqny.migugu.com/admin/anmo/mine/inv_coach.png",admin_reseller_poster:"https://lbqny.migugu.com/admin/anmo/mine/inv_fx.png",agent_sub_img:"https://lbqny.migugu.com/admin/anmo/mine/agent-share.png",subForm:{agent_default_name:"",merchant_switch_show:0,bind_technician_img:[],admin_reseller_poster:[],agent_sub_img:[]},subFormRules:{agent_default_name:{required:!0,validator:this.$reg.isNotNull,reg_type:2,text:"菜单自定义名称",trigger:"blur"},merchant_switch_show:{required:!0,type:"number",message:"请选择",trigger:"blur"},bind_technician_img:{required:!0,type:"array",message:"请选择绑定"+this.$t("action.attendantName")+"背景图",trigger:"blur"},admin_reseller_poster:{required:!0,type:"array",message:"请选择绑定"+this.$t("action.resellerName")+"背景图",trigger:"blur"},agent_sub_img:{required:!0,type:"array",message:"请选择绑定"+this.$t("action.resellerName")+"背景图",trigger:"blur"}}}},created:function(){this.getFormInfo()},computed:_()({},Object(d.e)({routesItem:function(t){return t.routes}})),methods:_()({},Object(d.d)(["changeRoutesItem"]),{getFormInfo:function(){var t=this;return o()(r.a.mark(function e(){var n,a,s,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.system.configInfo();case 2:if(n=e.sent,a=n.code,s=n.data,200===a){e.next=7;break}return e.abrupt("return");case 7:for(i in s.bind_technician_img=s.bind_technician_img&&s.bind_technician_img.length>0?[{url:s.bind_technician_img}]:[],s.admin_reseller_poster=[{url:s.admin_reseller_poster||t.admin_reseller_poster}],s.agent_sub_img=[{url:s.agent_sub_img||t.agent_sub_img}],t.subForm)t.subForm[i]=s[i];case 11:case"end":return e.stop()}},e,t)}))()},getCover:function(t,e){this.subForm[e]=t},toReset:function(t){this.subForm[t]=[{url:this[t]}],this.submitFormInfo()},submitFormInfo:function(){var t=this;return o()(r.a.mark(function e(){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,t.$refs.subForm.validate(function(t){t||(n=!1)}),n){e.next=4;break}return e.abrupt("return");case 4:return(a=JSON.parse(s()(t.subForm))).bind_technician_img=a.bind_technician_img[0].url,a.admin_reseller_poster=a.admin_reseller_poster[0].url,a.agent_sub_img=a.agent_sub_img[0].url,t.changeRoutesItem({key:"agent_default_name",val:a.agent_default_name}),e.next=11,t.$api.system.configUpdate(a);case 11:t.$message.success(t.$t("tips.successSub"));case 12:case"end":return e.stop()}},e,t)}))()}}),filters:{handleTime:function(t,e){return 1===e?u()(1e3*t).format("YYYY-MM-DD"):2===e?u()(1e3*t).format("HH:mm:ss"):u()(1e3*t).format("YYYY-MM-DD HH:mm:ss")}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lb-agent-set"},[n("top-nav"),t._v(" "),n("div",{staticClass:"page-main"},[n("el-form",{ref:"subForm",staticClass:"config-form",attrs:{model:t.subForm,rules:t.subFormRules,"label-width":"160px"},nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-form-item",{attrs:{label:"菜单自定义名称",prop:"agent_default_name"}},[n("el-input",{attrs:{maxlength:"5","show-word-limit":"",placeholder:"请输入菜单自定义名称"},model:{value:t.subForm.agent_default_name,callback:function(e){t.$set(t.subForm,"agent_default_name",e)},expression:"subForm.agent_default_name"}}),t._v(" "),n("lb-tool-tips",[t._v("修改名称之后，手机端、管理后台和"+t._s(t.$t("action.agentName"))+"端后台的“"+t._s(t.$t("action.agentName"))+"”字样都变为新改的文案")])],1),t._v(" "),n("el-form-item",{attrs:{label:"商家信息",prop:"merchant_switch_show"}},[n("el-radio-group",{model:{value:t.subForm.merchant_switch_show,callback:function(e){t.$set(t.subForm,"merchant_switch_show",e)},expression:"subForm.merchant_switch_show"}},[n("el-radio",{attrs:{label:1}},[t._v(t._s(t.$t("action.ON")))]),t._v(" "),n("el-radio",{attrs:{label:0}},[t._v(t._s(t.$t("action.OFF")))])],1),t._v(" "),n("lb-tool-tips",[t._v("当选择开启时，若"+t._s(t.$t("action.attendantName"))+"有关联的"+t._s(t.$t("action.agentName"))+"且"+t._s(t.$t("action.agentName"))+"有商家名称，则"+t._s(t.$t("action.attendantName"))+"列表页、详情页将展示商家信息")])],1),t._v(" "),n("el-form-item",{attrs:{label:"绑定"+t.$t("action.attendantName")+"背景图",prop:"bind_technician_img"}},[n("lb-cover",{attrs:{fileList:t.subForm.bind_technician_img},on:{selectedFiles:function(e){return t.getCover(e,"bind_technician_img")}}}),t._v(" "),n("lb-tool-tips",[t._v("邀请"+t._s(t.$t("action.attendantName"))+"推广图，图片建议尺寸：710 *\n          1138\n          "),n("div",{staticClass:"mt-sm"},[t._v("\n            "+t._s(t.$t("action.agentName"))+"邀请"+t._s(t.$t("action.attendantName"))+"海报，通过该海报可以将"+t._s(t.$t("action.attendantName"))+"绑定在自己的账号下获得佣金\n          ")]),t._v(" "),n("div",{staticClass:"mt-md"},[t._v("\n            由于页面生成的二维码位置是固定的，所以设计海报时注意将中间的二维码位置留出来\n          ")]),t._v(" "),n("div",{staticClass:"mt-sm"},[t._v("\n            海报背景图中不要出现诱导用户分享以及传播外链内容的\n          ")]),t._v(" "),n("div",{staticClass:"mt-sm"},[t._v("\n            包括但不限于：以金钱奖励、实物奖励、虚拟奖品（包括但不限于红包、优惠券、代金券、积分、话费、流量）；声称分享可获得返佣等\n          ")])]),t._v(" "),n("div",[n("lb-button",{attrs:{type:"danger",plain:"",size:"small"},on:{click:function(e){return t.toReset("bind_technician_img")}}},[t._v(t._s(t.$t("action.defaultSet")))])],1)],1),t._v(" "),t.routesItem.auth.reseller?n("el-form-item",{attrs:{label:"绑定"+t.$t("action.resellerName")+"背景图",prop:"admin_reseller_poster"}},[n("lb-cover",{attrs:{fileList:t.subForm.admin_reseller_poster},on:{selectedFiles:function(e){return t.getCover(e,"admin_reseller_poster")}}}),t._v(" "),n("lb-tool-tips",[t._v("邀请"+t._s(t.$t("action.resellerName"))+"推广图，图片建议尺寸：710 * 1138\n          "),n("div",{staticClass:"mt-sm"},[t._v("\n            "+t._s(t.$t("action.agentName"))+"邀请"+t._s(t.$t("action.resellerName"))+"海报，通过该海报可以将"+t._s(t.$t("action.resellerName"))+"绑定在自己的账号下获得佣金\n          ")]),t._v(" "),n("div",{staticClass:"mt-md"},[t._v("\n            由于页面生成的二维码位置是固定的，所以设计海报时注意将中间的二维码位置留出来\n          ")]),t._v(" "),n("div",{staticClass:"mt-sm"},[t._v("\n            海报背景图中不要出现诱导用户分享以及传播外链内容的\n          ")]),t._v(" "),n("div",{staticClass:"mt-sm"},[t._v("\n            包括但不限于：以金钱奖励、实物奖励、虚拟奖品（包括但不限于红包、优惠券、代金券、积分、话费、流量）；声称分享可获得返佣等\n          ")])]),t._v(" "),n("div",[n("lb-button",{attrs:{type:"danger",plain:"",size:"small"},on:{click:function(e){return t.toReset("admin_reseller_poster")}}},[t._v(t._s(t.$t("action.defaultSet")))])],1)],1):t._e(),t._v(" "),n("el-form-item",{attrs:{label:"邀请"+t.$t("action.agentName")+"背景图",prop:"agent_sub_img"}},[n("lb-cover",{attrs:{fileList:t.subForm.agent_sub_img},on:{selectedFiles:function(e){return t.getCover(e,"agent_sub_img")}}}),t._v(" "),n("lb-tool-tips",[t._v("邀请"+t._s(t.$t("action.agentName"))+"推广图，图片建议尺寸：714 * 1269\n          "),n("div",{staticClass:"mt-sm"},[t._v("\n            "+t._s(t.$t("action.agentName"))+"邀请"+t._s(t.$t("action.agentName"))+"海报，通过该海报可以将"+t._s(t.$t("action.agentName"))+"绑定在自己的账号下获得佣金\n          ")]),t._v(" "),n("div",{staticClass:"mt-md"},[t._v("\n            由于页面生成的二维码位置是固定的，所以设计海报时注意将中间的二维码位置留出来\n          ")]),t._v(" "),n("div",{staticClass:"mt-sm"},[t._v("\n            海报背景图中不要出现诱导用户分享以及传播外链内容的\n          ")]),t._v(" "),n("div",{staticClass:"mt-sm"},[t._v("\n            包括但不限于：以金钱奖励、实物奖励、虚拟奖品（包括但不限于红包、优惠券、代金券、积分、话费、流量）；声称分享可获得返佣等\n          ")])]),t._v(" "),n("div",[n("lb-button",{attrs:{type:"danger",plain:"",size:"small"},on:{click:function(e){return t.toReset("agent_sub_img")}}},[t._v(t._s(t.$t("action.defaultSet")))])],1)],1),t._v(" "),n("el-form-item",[n("lb-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:t.submitFormInfo}},[t._v(t._s(t.$t("action.submit")))])],1)],1)],1)],1)},staticRenderFns:[]};var v=n("C7Lr")(g,b,!1,function(t){n("t2MD")},"data-v-601c89c6",null);e.default=v.exports},t2MD:function(t,e){}});